\chapter{行列式}

接下来我们将开始介绍大部分线性代数或高等代数教材中开头就会介绍的内容——行列式. 在本讲义的思路中，我们更多将行列式视为一个帮助我们研究的工具，无论是当前的主线——线性方程组解的理论还是之后我们要介绍的矩阵标准形的内容. 因此我们会将这一章只作类似``工具介绍''的作用，而非其他教材那样从行列式出发引出相关概念，因为我们研究的核心和出发点是之前的抽象空间和映射.

事实上，我们将在本讲义之后再介绍一次行列式，那时我们将会介绍行列式更丰富的应用，并表明是否引入行列式可能对于线性代数完整理论的构建而言重要程度是有限的. 但是我们完全无法否认行列式的历史地位，从17世纪起行列式就是用于求解线性方程组的重要的工具，历经数百年也逐渐发展出了许多重要的理论和应用，因此我们仍然需要完整的章节来讲述行列式的相关内容.

\section{行列式的公理化定义}

\subsection{从判别式到公理化定义}

或许行列式是线性代数基础内容中最难下定义的一个概念了——不同的教材通常会给出不同的行列式引入和定义方式，且不同的思路各有其优劣. 通常有三种基本的定义方式：``逆序数''定义（最常见的方式）、递归式定义（按行（列）展开）以及公理化定义（使用一些规则描述），这三种定义方式也是完全等价的. 在本讲中，我们从公理化定义出发，将递归式定义作为性质进行介绍，然后在行列式的基本运算中引入逆序数定义. 在读者已经适应公理化定义的体系后，我想这样的思路更具有几何直观，很多的推导也非常便捷.

\begin{definition}{行列式}{公理化定义} \index{hanglieshi@行列式 (determinant)}
    数域$\mathbf{F}$上的一个$n$阶\term{行列式}是取值于$\mathbf{F}$的$n$个$n$维向量$\alpha_1,\alpha_2,\ldots,\alpha_n \in \mathbf{F}^n$的一个函数，且$\forall \alpha_i,\beta_i \in \mathbf{F}^n$和$\forall \lambda \in \mathbf{F}$，满足下列规则：
    \begin{enumerate}
        \item \label{item:13:齐性}
              (齐性) $D(\alpha_1,\ldots,\lambda\alpha_i,\ldots,\alpha_n)=\lambda D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n)$；

        \item \label{item:13:加性}
              (加性，与 \ref*{item:13:齐性} 合称线性性) \\
              $D(\alpha_1,\ldots,\alpha_i+\beta_i,\ldots,\alpha_n)=D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n)+D(\alpha_1,\ldots,\beta_i,\ldots,\alpha_n)$；

        \item \label{item:13:反对称性}
              (反对称性) $D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)=-D(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_i,\ldots,\alpha_n)$；

        \item \label{item:13:规范性}
              (规范性) $D(e_1,e_2,\ldots,e_n)=1$.
    \end{enumerate}
\end{definition}
在公理化定义中，我们将行列式定义为一个满足特定的运算性质的从列向量组合到数的函数. 需要注意的是，行列式除了上述记法外，如果设矩阵 $A = (\alpha_1,\ldots,\alpha_n)$，那么行列式 $D(\alpha_1,\ldots,\alpha_n)$ 也可以记为 $|A|$.

除此之外，我们不难看出公理化定义可以形象地理解为对$n$维空间中体积的定义，对几何意义感兴趣的同学可以参考 \href{https://b23.tv/BV1ys411472E}{3b1b《线性代数的本质》系列视频}相关内容.

\subsection{行列式的简单性质}

下面的例子给出了从公理化定义出发证明的行列式的一些简单性质：
\begin{example}{}{公理化定义}
    使用\autoref{def:公理化定义} 验证下述命题的正确性：
    \begin{enumerate}
        \item 若行列式有一列为零向量，则行列式的值等于0.

        \item 若行列式有两列元素相同，则行列式的值等于0.

        \item 若行列式有两列元素成比例，则行列式的值等于0.

        \item 对行列式做倍加列变换，行列式的值不变.

        \item \label{item:13:公理化定义导出性质:5}
            若$\alpha_1,\alpha_2,\ldots,\alpha_n$线性相关，则$D(\alpha_1,\alpha_2,\ldots,\alpha_n)=0$.
    \end{enumerate}
\end{example}

\begin{proof}
    \begin{enumerate}
        \item 由于行列式满足\autoref{def:公理化定义} 的\ref*{item:13:齐性}，设行列式第$i$列为零向量，因此
              \begin{align*}
                  D(\alpha_1,\ldots,0,\ldots,\alpha_n) & =D(\alpha_1,\ldots,0\cdot\alpha_i,\ldots,\alpha_n)  \\
                                                       & =0\cdot D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n) \\
                                                       & =0
              \end{align*}

        \item 由于行列式满足\autoref{def:公理化定义} 的\ref*{item:13:反对称性}，设行列式第$i$列和第$j$列元素相同，因此
              \begin{align*}
                  D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n) & =D(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_i,\ldots,\alpha_n)  \\
                                                                              & =-D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)
              \end{align*}
              从而$D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)=0$.

        \item 由于行列式满足\autoref{def:公理化定义} 的\ref*{item:13:齐性}，设行列式第$i$列和第$j$列元素成比例，$\alpha_i=k\alpha_j$，因此
              \begin{align*}
                  D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)
                   & =D(\alpha_1,\ldots,k\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n) \\
                   & =kD(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n) \\
                   & =0.
              \end{align*}
              其中最后一个等号用到了本例的第二条结论.

        \item 事实上，根据\autoref{def:公理化定义} 的\ref*{item:13:加性} 以及本例第3条结论，我们可以得到
              \begin{align*}
                  D(\alpha_1,\ldots,\alpha_i+k\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n)
                   & =D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)   \\&+D(\alpha_1,\ldots,k\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n) \\
                   & =D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)+0 \\
                   & =D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n).
              \end{align*}

        \item 设$\alpha_1,\alpha_2,\ldots,\alpha_n$线性相关，因此存在不全为0的数$k_1,k_2,\ldots,k_n$使得$k_1\alpha_1+k_2\alpha_2+\cdots+k_n\alpha_n=0$，不妨设$k_1 \neq 0$，因此
              \[\alpha_1=-\frac{k_2}{k_1}\alpha_2-\frac{k_3}{k_1}\alpha_3-\cdots-\frac{k_n}{k_1}\alpha_n,\]
              因此
              \begin{align*}
                  D(\alpha_1,\alpha_2,\ldots,\alpha_n) & =D(-\frac{k_2}{k_1}\alpha_2-\frac{k_3}{k_1}\alpha_3-\cdots-\frac{k_n}{k_1}\alpha_n,\alpha_2,\ldots,\alpha_n)     \\
                                                       & =-\frac{k_2}{k_1}D(\alpha_2,\alpha_2,\ldots,\alpha_n)-\cdots-\frac{k_n}{k_1}D(\alpha_n,\alpha_2,\ldots,\alpha_n) \\
                                                       & =0.
              \end{align*}
    \end{enumerate}
\end{proof}

下面这一例子应用了行列式的公理化定义：
\begin{example}{}{公理化定义2}
    设向量$\alpha_1,\alpha_2,\beta_1,\beta_2$为三维列向量，又$A=(\alpha_1,\alpha_2,\beta_1),B=(\alpha_1,\alpha_2,\beta_2)$，且$|A|=3$，$|B|=2$，求$|2A+3B|$.
\end{example}

\begin{solution}
    $2A+3B=(2\alpha_1+3\alpha_1,2\alpha_2+3\alpha_2,2\beta_1+3\beta_2)=(5\alpha_1,5\alpha_2,2\beta_1+3\beta_2)$，因此
    \begin{align*}
        |2A+3B| & =|5\alpha_1,5\alpha_2,2\beta_1+3\beta_2|                       \\
                & =25|\alpha_1,\alpha_2,2\beta_1+3\beta_2|                       \\
                & =25(2|\alpha_1,\alpha_2,\beta_1|+3|\alpha_1,\alpha_2,\beta_2|) \\
                & =25(2|A|+3|B|)=300.                                            \\
    \end{align*}
\end{solution}

\section{行列式的逆序数定义}

\subsection{从判别式到逆序数定义}


\subsection{从公理化定义到逆序数定义}

给定一个行列式
\[|A| = \begin{vmatrix}
        a_{11} & a_{12} & \cdots & a_{1n} \\
        a_{21} & a_{22} & \cdots & a_{2n} \\
        \vdots & \vdots & \ddots & \vdots \\
        a_{n1} & a_{n2} & \cdots & a_{nn}
    \end{vmatrix},\]
到目前为止，根据上面的例题我们已经有三种基本方法来计算行列式的值. 但是，有的读者或许对这三种逐步展开或变换的方法感到繁琐：或许我们可以直接写出一个公式来计算行列式的值？当然这样的公式需要我们通过逐步的展开或变换来得到.

我们使用公理化定义来展开这一行列式，为了叙述方便，我们记 $A = (\alpha_1,\ldots,\alpha_n)$，并记 $e_i$ 为 $n$ 维单位向量，即 $e_i = (0,\ldots,1,\ldots,0)$，其中 $1$ 在第 $i$ 个位置. 这样，行列式的第 $j$ 列就可以表达为

\[\alpha_j = a_{1j}e_1 + a_{2j}e_2 + \cdots + a_{nj}e_n = \sum_{i=1}^{n}a_{ij}e_i.\]

于是，根据行列式公理化定义\autoref{def:公理化定义} 的线性性质，我们有

\begin{align*}
    |A| & = |\alpha_1,\alpha_2,\ldots,\alpha_n| = |\sum\limits_{i=1}^{n}a_{i1}e_i,\alpha_2,\ldots,\alpha_n| \\
        & = \sum\limits_{i=1}^{n}a_{i1}|e_i,\alpha_2,\ldots,\alpha_n|.
\end{align*}

对行列式 $|e_i,\alpha_2,\ldots,\alpha_n|$ 继续展开，由 $\alpha_2 = \sum\limits_{j=1}^{n}a_{j2}e_j$，我们有

\[|e_i,\alpha_2,\ldots,\alpha_n| = \sum\limits_{j=1}^{n}a_{j2}|e_i,e_j,\alpha_3,\ldots,\alpha_n|.\]

于是 $|A| = \sum\limits_{i=1}^{n}\sum\limits_{j=1}^{n}a_{i1}a_{j2}|e_i,e_j,\alpha_3,\ldots,\alpha_n|$. 不断展开，我们最终得到

\[|A| = \sum\limits_{k_1,k_2,\ldots,k_n} a_{k_11}a_{k_22}\cdots a_{k_nn}|e_{k_1},e_{k_2},\ldots,e_{k_n}|.\]

注意行列式 $|e_{k_1},e_{k_2},\ldots,e_{k_n}|$ 在某对 $k_i,k_j$ 重复时的值为 $0$，所以在不为 $0$ 的项中，$(k_1,k_2,\ldots,k_n)$ 必定是 $(1,2,\ldots,n)$ 的一个全排列，即在 $k_1,k_2,\ldots,k_n$ 中，$1,2,\ldots,n$ 中每个数都出现且仅出现一次. 设 $S_n$ 为 $1,2,\ldots,n$ 所有全排列构成的集合，那么 $S_n$ 的元素个数为 $n!$.

进一步地，当 $(k_1,k_2,\ldots,k_n) \in S_n$ 时，行列式 $|e_{k_1},e_{k_2},\ldots,e_{k_n}|$ 的每一行、每一列都有且只有一个元素等于 $1$，其余元素都等于 $0$，因此 $|e_{k_1},e_{k_2},\ldots,e_{k_n}| = \pm 1$，因此 $|A|$ 的展开式一共有 $n!$ 项，可以表达为

\[|A| = \sum\limits_{k_1,k_2,\ldots,k_n} (-1)^\varepsilon a_{k_11}a_{k_22}\cdots a_{k_nn},\]

那么接下来的任务就是确定每项 $-1$ 的幂次，这显然与行列对换得到 $|e_1,e_2,\ldots,e_n| = 1$ 的次数有关，因此 $\varepsilon$ 只和 $k_1,k_2,\ldots,k_n$ 的取值有关. 接下来我们引入逆序数的概念来帮助我们确定 $\varepsilon$ 的值：

\begin{definition}{逆序数}{}
    设 $k_1,k_2,\ldots,k_n \in S_n$，如果 $i < j$ 且 $k_i > k_j$，则称 $k_i,k_j$ 是这个排列的一个\term{逆序对}\index{nixudui@逆序对}，排序中所有逆序对的总数称为这个排列的\term{逆序数}\index{nixushu@逆序数}，记作 $\tau(k_1,k_2,\ldots,k_n)$.
\end{definition}

逆序数的定义是非常易懂的，就是位置在前但数值更大的情况出现的次数. 直观上来看，逆序数衡量了与\term{常序排列} $(1,2,\ldots,n)$ 之间的距离，逆序数越大，排列与常序排列的差距越大. 逆序数的求法也非常简单：设排列为 $(k_1,k_2,\ldots,k_n)$，那么我们先看 $k_1$ 后面有多少个数比 $k_1$ 小，然后看 $k_2$ 后面有多少个数比 $k_2$ 小，以此类推，最后将所有这些数相加即可. 我们来看一个简单的例子：

\begin{example}{}{}
    求排列 $(3,1,4,2)$ 的逆序数.
\end{example}

\begin{solution}
    我们可以直接计算：$3$ 后面有 $2$ 个数比 $3$ 小，$1$ 后面没有数比 $1$ 小，$4$ 后面有 $1$ 个数比 $4$ 小，$2$ 后面没有数比 $2$ 小，因此逆序数为 $2+0+1+0=3$.
\end{solution}

基于逆序数的定义，我们可以将排列做一个简单的分类：

\begin{definition}{奇排列和偶排列}{}
    如果一个排列的逆序数是偶数（包括零），则称这个排列是\term{偶排列}\index{oupailie@偶排列}；如果一个排列的逆序数是奇数，则称这个排列是\term{奇排列}\index{jipailie@奇排列}.
\end{definition}

不难证明奇偶排列有如下简单的性质：
\begin{example}{奇偶排列的性质}{}
    \begin{enumerate}
        \item 设 $(k_1,k_2,\ldots,k_n) \in S_n$，若将 $k_i$ 与 $k_j$ 交换，其余数不动，那么排列的奇偶性会改变；
        \item 设 $n \geqslant 2$，则 $S_n$ 中奇排列和偶排列的个数相等.
    \end{enumerate}
\end{example}

\begin{proof}
    \begin{enumerate}
        \item 首先我们考虑相邻两个数的对换. 若 $k_i > k_{i+1}$，则对换后逆序数会减少 $1$，因此奇偶性会改变；若 $k_i < k_{i+1}$，则对换后逆序数会增加 $1$，奇偶性也会改变. 对于一般情形，$k_i$ 和 $k_j$ 的对换可以通过多次相邻两个数的对换来实现：不妨设 $i < j$，那么我们可以先将 $k_i$ 与 $k_{i+1}$ 对换，然后与 $k_{i+2}$ 对换，以此类推，最后与 $k_j$ 对换，这样就可以将 $k_i$ 和 $k_j$ 对换（一共对换了 $j-i$ 次）；接下来还需要将 $k_j$ 与 $k_{j-1}$ 对换，然后与 $k_{j-2}$ 对换，以此类推，最后与 $k_{i+1}$ 对换（一共对换了 $j-i-1$ 次），这样就可以将 $k_j$ 和 $k_i$ 对换. 因此，总的相邻对换次数为 $j-i+j-i-1=2(j-i)-1$，奇偶性会改变.
        \item 设 $S_n$ 中奇排列有 $p$ 个，偶排列有 $q$ 个，因为 $n \geqslant 2$，故可以将每个奇排列的头两个数对换一下，则所有的奇排列都变成了互不相同的偶排列，故 $p \leqslant q$；同理，可以将每个偶排列的头两个数对换一下，所有的偶排列都变成了互不相同的奇排列，故 $q \leqslant p$，因此 $p = q$.
    \end{enumerate}
\end{proof}

讨论到此，我们终于可以给出逆序数与行列式展开中每项的符号之间的联系：

\begin{theorem}{}{}
    设 $(k_1,k_2,\ldots,k_n) \in S_n$，则通过 $\tau(k_1,k_2,\ldots,k_n)$ 次相邻对换可以将 $(k_1,k_2,\ldots,k_n)$ 变为 $(1,2,\ldots,n)$，因此 $\varepsilon = \tau(k_1,k_2,\ldots,k_n)$.
\end{theorem}

\begin{proof}
    对 $n$ 进行归纳. $n=1$ 时结论显然成立，设对 $1,2,\ldots,n-1$ 的任一排列结论成立，我们来证明 $n$ 的情形. 设 $n$ 在排列 $(k_1,\ldots,k_n)$ 的第 $i$ 位，即 $k_i = n$，$n$ 贡献的逆序数为 $m_i = n - i$. 将 $k_i$ 与 $k_{i+1}$ 对换，再与 $k_{i+2}$ 对换，以此类推，最后与 $k_n$ 对换，这样 $n$ 就到了第 $n$ 位. 注意到

    \[ \tau(k_1,\ldots,k_n) = \tau(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n) + m_i,\]

    且 $(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n) \in S_{n-1}$，由归纳假设知 $(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n)$ 经过 $\tau(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n)$ 次相邻对换可以变为 $(1,2,\ldots,n-1)$，结合上面的讨论可知 $(k_1,\ldots,k_n)$ 经过 $\tau(k_1,\ldots,k_n)$ 次相邻对换可以变为 $(1,2,\ldots,n)$，因此 $\varepsilon = \tau(k_1,\ldots,k_n)$.
\end{proof}

由此我们可以得到行列式的逆序数定义：

\begin{theorem}{行列式的逆序数定义}{}
    设
    \[|A| = \begin{vmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{n1} & a_{n2} & \cdots & a_{nn}
        \end{vmatrix},\]
    则 $|A| = \sum\limits_{(k_1,k_2,\ldots,k_n) \in S_n} (-1)^{\tau(k_1,k_2,\ldots,k_n)}a_{k_11}a_{k_22}\cdots a_{k_nn}$.
\end{theorem}

根据逆序数定义，我们可以重解 \autoref{ex:行列式基本运算} 中的行列式：
\begin{solution}
    我们知道三阶行列式的逆序数计算公式为 $D=\begin{vmatrix}
            a_{11} & a_{12} & a_{13} \\
            a_{21} & a_{22} & a_{23} \\
            a_{31} & a_{32} & a_{33}
        \end{vmatrix}=a_{11}a_{22}a_{33}+a_{12}a_{23}a_{31}+a_{13}a_{21}a_{32}-a_{13}a_{22}a_{31}-a_{12}a_{21}a_{33}-a_{11}a_{23}a_{32}$，因此$D=1 \cdot 3 \cdot 2+2 \cdot 1 \cdot 3+3 \cdot 2 \cdot 1-3 \cdot 3 \cdot 3-2 \cdot 2 \cdot 2-1 \cdot 1 \cdot 1=-18$.
\end{solution}

下面的例子会让我们更进一步地理解逆序数定义中``排列''的含义：
\begin{example}{}{}
    设
    \[f(x)=\begin{vmatrix}
            x-a_{11} & -a_{12}  & \cdots & -a_{1n}  \\
            -a_{21}  & x-a_{22} & \cdots & -a_{2n}  \\
            \vdots   & \vdots   & \ddots & \vdots   \\
            -a_{n1}  & -a_{n2}  & \cdots & x-a_{nn}
        \end{vmatrix},\]
    其中$x$是未知数，$a_{ij}$是常数，证明：$f(x)$是一个最高次项系数为1的$n$次多项式，且其$n-1$次项的系数等于$-(a_{11}+\cdots+a_{nn})$.
\end{example}

\begin{proof}
    根据逆序数定义，我们知道 $f(x)$ 的最高次项出现在展开式中的单项 $(x-a_{11})(x-a_{22})\cdots(x-a_{nn})$ 中，且展开式中的其他单项作为 $x$ 的多项式的次数必定小于等于 $n-2$（因为我们要求 $(k_1,\ldots,k_n)$ 是全排列）. 因此 $f(x)$ 是一个最高次项系数为 $1$ 的 $n$ 次多项式，且其 $n-1$ 次项的系数只能来源于 $(x-a_{11})(x-a_{22})\cdots(x-a_{nn})$，故等于 $-(a_{11}+\cdots+a_{nn})$.
\end{proof}

\section{行列式的性质}
\subsection{递归式定义}

首先我们需要引入余子式和代数余子式的概念：
\begin{definition}{}{余子式}
    在$n$阶行列式$D=|a_{ij}|_{n \times n}$中，去掉元素$a_{ij}$所在的第$i$行和第$j$列的所有元素而得到的$n-1$阶行列式称为元素$a_{ij}$的\term{余子式}\index{yuzishi@余子式 (minor)}，记作$M_{ij}$，并把数$A_{ij}=(-1)^{i+j}M_{ij}$称为元素$a_{ij}$的\term{代数余子式}\index{yuzishi!daishu@代数余子式 (cofactor)}.
\end{definition}
注意，虽然余子式和代数余子式在名称中含有式，但实际上他们是一个值. 实际上行列式也称为``式''，但这些``式''只是形状上有个形式，实际上只是一个值.
\begin{example}{}{余子式}
    根据\autoref{def:余子式} 计算行列式$\begin{vmatrix}
            2  & 1 & 3  \\
            -1 & 0 & 2  \\
            1  & 5 & -2
        \end{vmatrix}$每个元素的余子式和代数余子式.
\end{example}

\begin{solution}
    我们只举一个例子，第二行第一列元素$-1$的余子式和代数余子式. 根据定义，它的余子式是去掉第二行和第一列所有元素剩余的二阶行列式
    \[\begin{vmatrix}
            1 & 3  \\
            5 & -2
        \end{vmatrix}=-17,\]
    因此它的代数余子式是$A_{21}=(-1)^{2+1}(-17)=17$. 读者可以自行计算其他元素的余子式和代数余子式.
\end{solution}

接下来我们便可以给出递归式定义：
\begin{definition}{}{递归式定义}
    设$D=|a_{ij}|_{n \times n}$，则
    \begin{align}
        \label{eq:13:递归式定义1}
        D=\sum_{k=1}^{n}a_{kj}A_{kj}=a_{1j}A_{1j}+a_{2j}A_{2j}+\cdots+a_{nj}A_{nj} & \qquad j=1,2,\ldots,n \\
        \label{eq:13:递归式定义2}
        D=\sum_{k=1}^{n}a_{ik}A_{ik}=a_{i1}A_{i1}+a_{i2}A_{i2}+\cdots+a_{in}A_{in} & \qquad i=1,2,\ldots,n
    \end{align}
\end{definition}
其中$A_{ij}$即为\autoref{def:余子式} 给出的代数余子式，\autoref{eq:13:递归式定义1} 称为$D$对第$j$列的展开式，\autoref{eq:13:递归式定义2} 称为$D$对第$i$行的展开式. 事实上，这一定义被称为递归式定义的原因是显然的（如果在程序设计课程中已经学习过递归的概念），它使用$n-1$阶行列式定义$n$阶行列式，因此我们对任意$n$阶行列式都可以递归展开到1阶，从而得到最终行列式计算结果.

除此之外，我们需要强调的是，这里的递归式定义能称之为定义，必须要使得其与之前的公理化定义不冲突. 事实上二者等价的证明都是技术性的，从公理化定义推出递归式定义需要利用公理化定义将原行列式进行拆分与变形，反过来我们只需要对公理化定义中每个性质利用递归式定义逐个展开验算即可，我们放在习题中供感兴趣的读者自行验证. 因为都是技术性的问题，这里不展开叙述，事实上也不是我们核心的内容.
\begin{example}{}{递归式定义}
    利用\autoref{def:递归式定义} 计算\autoref{ex:余子式} 中的行列式，可以行列展开均使用并在上述公式中选取不同$i$和$j$以熟悉\autoref*{def:递归式定义}，并注意体会递归式定义的含义.
\end{example}

\begin{solution}
    我们选取$i=2$进行按行展开，由\autoref{def:余子式} 可知$A_{21}=17,A_{22}=-7,A_{23}=-9$，因此
    \begin{align*}
        D & =\sum_{k=1}^{3}a_{2k}A_{2k}              \\
          & =a_{21}A_{21}+a_{22}A_{22}+a_{23}A_{23}  \\
          & =(-1) \cdot 17+0 \cdot (-7)+2 \cdot (-9) \\
          & =-35.
    \end{align*}
    同理，我们选取$j=3$进行按列展开，由\autoref{def:余子式} 可知$A_{13}=-5,A_{23}=-9,A_{33}=1$，因此
    \begin{align*}
        D & =\sum_{k=1}^{3}a_{k3}A_{k3}             \\
          & =a_{13}A_{13}+a_{23}A_{23}+a_{33}A_{33} \\
          & =3 \cdot (-5)+2 \cdot (-9)+(-2) \cdot 1 \\
          & =-35.
    \end{align*}
    读者可以自行计算按其他行列展开的结果.
\end{solution}

递归式定义有一个重要的结论如下：
\begin{theorem}{}{递归性质}
    $n$阶行列式$D=|a_{ij}|_{n \times n}$的某一行（列）元素与另一行（列）相应元素的代数余子式的乘积之和等于0，即
    \begin{align}
        \label{eq:13:递归式定义3}
        \sum_{k=1}^{n}a_{kj}A_{ki}=a_{1j}A_{1i}+a_{2j}A_{2i}+\cdots+a_{nj}A_{ni}=0 & \qquad j \neq i \\
        \label{eq:13:递归式定义4}
        \sum_{k=1}^{n}a_{jk}A_{ik}=a_{j1}A_{i1}+a_{j2}A_{i2}+\cdots+a_{jn}A_{in}=0 & \qquad j \neq i
    \end{align}
\end{theorem}

我们简要说一下定理的证明. 虽然这一定理看着下标满天飞，似乎很难证明，但如果我们首先将第$j$列元素替换为第$i$列元素，然后根据\autoref{def:递归式定义} 按第$j$列展开求行列式，这一结果一定是0，因为此时矩阵第$i$和$j$两列完全相同. 同时我们发现，我们上面展开写出的式子就是\autoref{eq:13:递归式定义3}（注意此时$a_{ki}=a_{kj}$），由此得证.

到目前为止，读者可能对\crefrange*{eq:13:递归式定义1}{eq:13:递归式定义4} 式繁杂的下标感到陌生，因此安排了\crefrange*{ex:公理化定义2}{ex:递归式定义} 希望大家熟悉这些公式.
\begin{example}{}{递归式定义2}
    对\autoref{ex:递归式定义} 中的矩阵验证\autoref{thm:递归性质} 的正确性.
\end{example}

\begin{solution}
    例如我们选取第一行元素和第二行的代数余子式，由\autoref{def:余子式} 可知$A_{21}=17,A_{22}=-7,A_{23}=-9$，因此
    \begin{align*}
        D & =\sum_{k=1}^{3}a_{1k}A_{2k}             \\
          & =a_{11}A_{21}+a_{12}A_{22}+a_{13}A_{23} \\
          & =2 \cdot 17+1 \cdot (-7)+3 \cdot (-9)   \\
          & =0.
    \end{align*}
\end{solution}

这一节中行列式是按照一行（列）展开的，若按多行（列）展开则需要相应的 Laplace 定理，我们将在本讲之后的部分介绍.

\subsection{行列式的常用性质}

设$A,B \in \mathbf{F}^{n \times n}$，$k \in \mathbf{F}$，则
\begin{enumerate}
    \item 一般情况下，$|A \pm B| \neq |A|\pm|B|$；

    \item $|kA|=k^n|A|$；

    \item \label{item:13:行列式性质:3}
          初等矩阵行列式（注意初等矩阵不分行列，左乘右乘区分初等行列变换）：\\
          $|E_{ij}|=-1,\enspace |E_i(c)|=c,\enspace |E_{ij}(k)|=1$；

    \item \label{item:13:行列式性质:4}
          $|AB|=|A||B|,\enspace|A^k|=|A|^k$；

    \item $A$可逆$\iff |A| \neq 0$；

    \item $|A^\mathrm{T}|=|A|$；

    \item 上、下三角矩阵行列式均为主对角线元素的乘积；

    \item 若$A$可逆，则$|A^{-1}|=|A|^{-1}$.

\end{enumerate}

\begin{proof}
    \begin{enumerate}[start=2]
        \item 由\autoref{def:公理化定义} 的\ref*{item:13:齐性}，设$A=(\alpha_1,\alpha_2,\ldots,\alpha_n)$，则
        \begin{align*}
            |kA| & =|k\alpha_1,k\alpha_2,\ldots,k\alpha_n| \\
                 & =k^n|\alpha_1,\alpha_2,\ldots,\alpha_n| \\
                 & =k^n|A|.
        \end{align*}

        \item 设 $E = (e_1, e_2, \ldots, e_n)$，则

            由\autoref{def:公理化定义} 的\ref*{item:13:反对称性}，$|E_{ij}| = |e_1, e_2, \ldots, e_j, \ldots, e_i, \ldots, e_n| = -|E| = -1$；

            由\autoref{def:公理化定义} 的\ref*{item:13:齐性}，$|E_i(c)| = |e_1, e_2, \ldots, c e_i, \ldots, e_n| = c|E| = c$；

            由\autoref{def:公理化定义} 的\ref*{item:13:加性}，$|E_{ij}(k)| = |e_1, e_2, \ldots, e_i + k e_j, \ldots, e_n| = |E| + 0 = 1$.

        \item 对于 $|AB| = |A||B|$，分 $B$ 可逆与不可逆两种情况讨论：

            若 $B$ 可逆，则存在初等矩阵 $P_1, P_2, \ldots, P_k$，使得 $B = P_1 P_2 \cdots P_k$；由于右乘初等矩阵相当于对矩阵进行初等列变换，因此我们利用\ref*{item:13:行列式性质:3} 中的结论可以得到
            \begin{gather*}
                |A E_ij| = -|A| = |A||E_ij|, \\
                |A E_i(c)| = c|A| = c|A||E_i(c)|, \\
                |A E_{ij}(k)| = |A| = |A||E_{ij}(k)|.
            \end{gather*}
            因此，$|AB| = |A P_1 P_2 \cdots P_k| = |A||P_1||P_2|\cdots||P_k| = |A||B|$.

            若 $B$ 不可逆，则 $r(AB) \leqslant r(B) < n$，故 $AB$ 也不可逆. 组成不可逆的矩阵的列向量必线性相关，故由\autoref{ex:公理化定义} 的\ref*{item:13:公理化定义导出性质:5} 可知 $|B|=0, |AB|=0$，因此 $|AB| = 0 = |A||B|$.

            同理，分 $A$ 可逆与不可逆两种情况讨论，可得 $|A^k|=|A|^k$.

        \item 若 $A$ 可逆，则存在可逆矩阵 $B$ 使得 $AB=E$，利用性质\ref*{item:13:行列式性质:4} 可知 $|A||B|=|E|=1$，故 $|A| \neq 0$. 反之，若 $A$ 不可逆，则 $A$ 的列向量线性相关，故 $|A| = 0$.

        \item 若 $A$ 不可逆，则 $A^\mathrm{T}$ 不可逆，故 $|A| = |A^\mathrm{T}| = 0$；
            若 $A$ 可逆，则存在初等矩阵 $P_1, P_2, \ldots, P_k$，使得 $A = P_1 P_2 \cdots P_k$，故
            \begin{align*}
                |A^\mathrm{T}| &= |P_k^\mathrm{T} P_{k-1}^\mathrm{T} \cdots P_1^\mathrm{T}| \\
                      &= |P_k^\mathrm{T}| |P_{k-1}^\mathrm{T}| \cdots |P_1^\mathrm{T}| \\
                      &= |P_k| |P_{k-1}| \cdots |P_1| \\
                      &= |A|.
            \end{align*}
            上式成立是因为三类初等矩阵的行列式等于其转置的行列式.

        \item 设 $A$ 为上三角矩阵，其对角线元素为 $a_{11}, a_{22}, \ldots, a_{nn}$，若 $\exists a_{ii} = 0$，则 $A$ 不可逆，$|A| = 0$；反之，若 $a_{ii} \neq 0, \enspace i=1,2,\ldots,n$，则对 $A$ 作倍加列变换可将 $A$ 化为对角矩阵 $\mathrm{diag}(a_{11},a_{22},\ldots,a_{nn})$，故 $|A| = \prod_{i=1}^n a_{ii}$.

            若 $A$ 为下三角矩阵，则 $A^\mathrm{T}$ 为上三角矩阵，故 $|A| = |A^\mathrm{T}| = \prod_{i=1}^n a_{ii}$.

        \item 由$|AB|=|A||B|$，设$B=A^{-1}$，则$|E|=|AA^{-1}|=|A||A^{-1}|$，因此$|A||A^{-1}|=1$，从而$|A^{-1}|=|A|^{-1}$.
    \end{enumerate}
\end{proof}

以上这些性质希望读者熟悉，实际上推导过程重要性不大，基于定义或上述其他性质便可以得到这些结论. 下面介绍的性质需要用到``打洞法''（分块矩阵初等变换）来证明：

\begin{enumerate}
    \item $\begin{vmatrix}
                  A & O \\ O & B
              \end{vmatrix} = \begin{vmatrix}
                  A & O \\ C & B
              \end{vmatrix} = \begin{vmatrix}
                  A & D \\ O & B
              \end{vmatrix} = |A||B|,\enspace\begin{vmatrix}
                  O & A \\ B & C
              \end{vmatrix} = (-1)^{kr}|A||B|$（其中$A$为$k$阶方阵，$B$为$r$阶方阵）；

          我们先给出使用数学归纳法证明的思路：
          \begin{proof}
            先证明 $\begin{vmatrix}
                        A & O \\ C & B
                    \end{vmatrix} = |A||B|$. 我们令
            \[
                D = \begin{vmatrix}
                        A & O \\ C & B
                    \end{vmatrix} = \begin{vmatrix}
                        a_{11} & a_{12} & \cdots & a_{1k} & 0      & \cdots & 0      \\
                        a_{21} & a_{22} & \cdots & a_{2k} & 0      & \cdots & 0      \\
                        \vdots &        & \ddots & \vdots & \vdots &        & \vdots \\
                        a_{k1} & a_{k2} & \cdots & a_{kk} & 0      & \cdots & 0      \\
                        c_{11} & c_{12} & \cdots & c_{1k} & b_{11} & \cdots & b_{1r} \\
                        \vdots &        &        & \vdots & \vdots & \ddots & \vdots \\
                        c_{r1} & c_{r2} & \cdots & c_{rk} & b_{r1} & \cdots & b_{rr}
                    \end{vmatrix}.
            \]
            对 $A$ 的阶数 $k$ 作数学归纳法：当 $k=1$ 时，$D = a_{11}|B| = |A||B|$ 是显然的；假设 $A$ 的阶数为 $k-1$ 时上述结论成立，则当 $A$ 的阶数为 $k$ 时，我们对 $D$ 的第一行展开，得
            \[
                D = (-1)^{1+1} a_{11} M_{11}^D + (-1)^{1+2} a_{12} M_{12}^D + \cdots + (-1)^{1+k} a_{1k} M_{1k}^D,
            \]
            其中 $M_{1j}^D$ 是 $a_{1j}$ 在 $D$ 中的余子式.
            注意到 $M_{1j}^D$ 仍然是 $\begin{vmatrix}
                A & O \\ C & B
            \end{vmatrix}$ 类型的行列式，故由归纳假设我们有
            \[
                M_{1j}^D = M_{1j}^A |B|, \enspace j = 1, 2, \ldots, k.
            \]
            其中 $M_{1j}^A$ 是 $a_{1j}$ 在 $A$ 中的余子式. 将其代入 $D$ 的展开式，得到
            \[
                D = \left[(-1)^{1+1} a_{11} M_{11}^A + (-1)^{1+2} a_{12} M_{12}^A + \cdots + (-1)^{1+k} a_{1k} M_{1k}^A\right] |B| = |A||B|.
            \]

            根据以上结论，令 $C = O$，则有
            \[
                \begin{vmatrix} A & O \\ O & B \end{vmatrix} = |A||B|.
            \]

            利用 $|A^\mathrm{T}|=|A|$，有
            \[
                \begin{vmatrix}
                    A & C \\ O & B
                \end{vmatrix} = \begin{vmatrix}
                    A^\mathrm{T} & O \\ C^\mathrm{T} & B^\mathrm{T}
                \end{vmatrix} = |A^\mathrm{T}||B^\mathrm{T}| = |A||B|.
            \]

            由于从 $\begin{vmatrix} O & A \\ B & C \end{vmatrix}$ 到 $\begin{vmatrix} A & C \\ O & B \end{vmatrix}$ 只需将 $A$ 和 $C$ 中的每一列依次与前面的 $r$ 列逐列交换，利用\autoref{def:公理化定义} 的\ref*{item:13:反对称性}，我们有
            \[
                \begin{vmatrix}
                    O & A \\ B & C
                \end{vmatrix} = (-1)^{kr} \begin{vmatrix}
                    A & O \\ C & B
                \end{vmatrix} = (-1)^{kr} |A||B|.
            \]
          \end{proof}

          下面我们使用打洞法来重新证明，可以发现，使用打洞法可以使证明变得更为简洁：
          \begin{proof}
              若 $B$ 不可逆，则 $r(B) < r$，故 $r\begin{pmatrix} O \\ B \end{pmatrix} < r$，进而 $r\begin{pmatrix} A & O \\ C & B \end{pmatrix} < k + r$，故
              \[
                  \begin{vmatrix}
                      A & O \\ C & B
                  \end{vmatrix} = 0 = |A||B|.
              \]

              若 $B$ 可逆，则
              \[
                  \begin{pmatrix}
                      A & O \\ C & B
                  \end{pmatrix} \begin{pmatrix}
                      E_k & O \\ -B^{-1} C & E_r
                  \end{pmatrix} = \begin{pmatrix}
                      A & O \\ O & B
                  \end{pmatrix} = \begin{pmatrix}
                      A & O \\ O & E_r
                  \end{pmatrix} \begin{pmatrix}
                      E_k & O \\ O & B
                  \end{pmatrix},
              \]
              而分块倍加矩阵的行列式
              \[
                  \begin{vmatrix}
                      E_k & O \\ -B^{-1} C & E_r
                  \end{vmatrix} = 1,
              \]
              故有
              \[
                  \begin{vmatrix}
                      A & O \\ C & B
                  \end{vmatrix} = \begin{vmatrix}
                      A & O \\ O & B
                  \end{vmatrix} = |A||B|.
              \]
              其余推导部分同上.
          \end{proof}

    \item 当$A$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = |A||D-CA^{-1}B|$，当$D$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = |D||A-BD^{-1}C|$，当$B$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = (-1)^{mn}|B||C-DB^{-1}A|$，当$C$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = (-1)^{mn}|C||B-AC^{-1}D|$；
          \begin{proof}
              由于
              \[\begin{pmatrix}
                      E & O \\ -CA^{-1} & E
                  \end{pmatrix}\begin{pmatrix}
                      A & B \\ C & D
                  \end{pmatrix}= \begin{pmatrix}
                      A & B \\ O & D-CA^{-1}B
                  \end{pmatrix},\]
              两边取行列式，并注意到
              \[\begin{vmatrix}
                      E & O \\ -CA^{-1} & E
                  \end{vmatrix}=1,\]
              因此
              \[\begin{vmatrix}
                      A & B \\ C & D
                  \end{vmatrix}=\begin{vmatrix}
                      A & B \\ O & D-CA^{-1}B
                  \end{vmatrix}=|A||D-CA^{-1}B|.\]

              读者会发现，我们在上面的证明中多次使用$\begin{vmatrix}
                      A & O \\ C & B
                  \end{vmatrix} = \begin{vmatrix}
                      A & D \\ O & B
                  \end{vmatrix} = |A||B|$这一性质，因此这一性质是相当重要的，需要读者熟悉.

              本条的其他结论推导类似于上方，在此不再赘述，感兴趣的读者可以自行推导（关键在于第三类分块初等矩阵行列式为1），实际上结论并不是很重要，重要的是在于领悟使用行列式分块计算性质和打洞法的基本方法.
          \end{proof}

          根据上面的结论，如果$A$和$D$均可逆时，我们有$|A||D-CA^{-1}B|=|D||A-BD^{-1}C|$，这一公式称为\term{降阶公式}. 若$A$为高阶矩阵，$D$为低阶矩阵，则利用降阶公式可以有效减少计算量. 例如：

          \begin{example}{}{}
              求下列矩阵行列式的值：
              \[A=\begin{pmatrix}
                      a_1^2    & a_1a_2   & \cdots & 1+a_1a_n \\
                      1+a_2a_1 & a_2^2    & \cdots & 1+a_2a_n \\
                      \vdots   & \vdots   & \ddots & \vdots   \\
                      1+a_na_1 & 1+a_na_2 & \cdots & a_n^2
                  \end{pmatrix}.\]
          \end{example}

          \begin{solution}
              我们可以将 $A$ 化为

              \[ A = -E_n + \begin{pmatrix}
                      a_1 & 1 \\ a_2 & 1 \\ \vdots & \vdots \\ a_n & 1
                  \end{pmatrix} E_2^{-1} \begin{pmatrix}
                      a_1 & a_2 & \cdots & a_n \\ 1 & 1 & \cdots & 1
                  \end{pmatrix}. \]

              故根据降阶公式有

              \begin{align*}
                  |A| & = \left\vert-E_n +
                  \begin{pmatrix}
                      a_1 & 1 \\ a_2 & 1 \\ \vdots & \vdots \\ a_n & 1
                  \end{pmatrix} E_2^{-1}
                  \begin{pmatrix}
                      a_1 & a_2 & \cdots & a_n \\ 1 & 1 & \cdots & 1
                  \end{pmatrix}\right\vert                                                                       \\
                      & = (-1)^n \left|E_2 -
                  \begin{pmatrix}
                      \sum\limits_{i=1}^n a_i^2 & \sum\limits_{i=1}^n a_i \\[2ex]
                      \sum\limits_{i=1}^n a_i   & n
                  \end{pmatrix}\right|                                                          \\
                      & = (-1)^n \left((1-n)\left(1-\sum\limits_{i=1}^n a_i^2\right) - \left(\sum\limits_{i=1}^n a_i\right)^2\right).
              \end{align*}
          \end{solution}

    \item 设$A,B$分别是$n \times m$和$m \times n$矩阵，则$|E_n \pm AB|=|E_m \pm BA|$，且 \\
          $|\lambda E_n \pm AB|=\lambda^{n-m}|\lambda E_m \pm BA|,\enspace n \geqslant m$.
          \begin{proof}
              由前述第二条性质直接可得
              \[|E_n \pm AB|=\begin{vmatrix}
                      E_n & A \\ \mp B & E_m
                  \end{vmatrix}=|E_m \pm BA|,\]
              也有
              \begin{align*}
                  |\lambda E_n \pm AB|
                   & =\begin{vmatrix}
                          \lambda E_n & A \\ \mp B & E_m
                      \end{vmatrix}=\lambda^n
                  \begin{vmatrix}
                      E_n & \lambda^{-1}A \\ \mp B & E_m
                  \end{vmatrix}=\lambda^{n-m}\begin{vmatrix}
                                                 E_n & A \\ \mp B & E_m
                                             \end{vmatrix} \\
                   & = \lambda^{n-m}|\lambda E_m \pm BA|.
              \end{align*}
              其中第一行第二个等号来源于前$n$行每行提出一个$\lambda$，第一行第三个等号来源于后$m$列每列乘以$\lambda$.
          \end{proof}

          事实上，这里的结果在特征值与特征向量的部分中我们会给出更深入的解释.
\end{enumerate}

还有一部分由这些性质可以推导的其他性质将出现在C组习题中供参考. 这部分主要是技巧性内容，可以选择性完成.

\section{行列式的计算}

\subsection{行列式的基本计算}
首先我们用一个简单的三阶行列式的例子回顾行列式的多种最基本的计算方法. 这里选取三阶行列式主要原因也是三阶行列式在未来实际解题中最为常见，这里希望读者比较选择最适合自己的方法在未来更便捷地使用：
\begin{example}{}{行列式基本运算}
    计算行列式$D=\begin{vmatrix}
            1 & 2 & 3 \\
            2 & 3 & 1 \\
            3 & 1 & 2
        \end{vmatrix}$.
\end{example}

\begin{solution}
    \begin{enumerate}
        \item （公理化定义与性质）由\autoref{def:公理化定义} 对该行列式进行展开操作（此处略去展开后有相同列向量的项），得到
            \begin{align*}
                D = {} & \begin{vmatrix}
                    e_1 + 2e_2 + 3e_3 & 2e_1 + 3e_2 + e_3 & 3e_1 + e_2 + 2e_3
                \end{vmatrix} \\
                = {} & \begin{vmatrix}
                    e_1 & 3e_2 & 2e_3
                \end{vmatrix} + \begin{vmatrix}
                    e_1 & e_3 & e_2
                \end{vmatrix} + \begin{vmatrix}
                    2e_2 & 2e_1 & 2e_3
                \end{vmatrix} + \\
                {} & \begin{vmatrix}
                    2e_2 & e_3 & 3e_1
                \end{vmatrix} + \begin{vmatrix}
                    3e_3 & 2e_1 & e_2
                \end{vmatrix} + \begin{vmatrix}
                    3e_3 & 3e_2 & 3e_1
                \end{vmatrix} \\
                = {} & 1 \cdot 3 \cdot 2 - 1 \cdot 1 \cdot 1 - 2 \cdot 2 \cdot 2 + 2 \cdot 1 \cdot 3 + 3 \cdot 2 \cdot 1 - 3 \cdot 3 \cdot 3 \\
                = {} & -18.
            \end{align*}
            使用公理化定义展开行列式十分复杂，因此在实际运用中不推荐使用这一方法.

        \item （化为上三角形式）对 $D$ 作初等行变换，将其化为上三角行列式：
            \[
                D = \begin{vmatrix}
                    1 & 2 & 3 \\
                    2 & 3 & 1 \\
                    3 & 1 & 2
                \end{vmatrix} = \begin{vmatrix}
                    1 & 2 & 3 \\
                    0 & -1 & -5 \\
                    0 & -5 & -7
                \end{vmatrix} = \begin{vmatrix}
                    1 & 2 & 3 \\
                    0 & -1 & -5 \\
                    0 & 0 & 18
                \end{vmatrix}
                = 1 \cdot (-1) \cdot 18
                = -18.
            \]

        \item （递归式定义展开）我们对第一行展开，由\autoref{def:递归式定义} 可知
              \begin{align*}
                  D & =1 \cdot
                  \begin{vmatrix}
                      3 & 1 \\
                      1 & 2
                  \end{vmatrix} - 2
                  \cdot \begin{vmatrix}
                            2 & 1 \\
                            3 & 2
                        \end{vmatrix}+3
                  \cdot \begin{vmatrix}
                            2 & 3 \\
                            3 & 1
                        \end{vmatrix}                           \\
                    & =1 \cdot (6-1)-2 \cdot (4-3)+3 \cdot (2-9) \\
                    & =-18.
              \end{align*}
    \end{enumerate}
\end{solution}

\subsection{范德蒙（Vandermonde）行列式}
接下来我们需要介绍一个非常重要的行列式，我们称之为范德蒙（Vandermonde）行列式：
\begin{example}{}{}
    证明：$n$阶范德蒙行列式
    \[V_n=\begin{vmatrix}
            1         & 1         & \cdots & 1         \\
            x_1       & x_2       & \cdots & x_n       \\
            \vdots    & \vdots    & \ddots & \vdots    \\
            x_1^{n-1} & x_2^{n-1} & \cdots & x_n^{n-1}
        \end{vmatrix}=\prod_{1 \leqslant i < j \leqslant n}(x_j-x_i).\]
\end{example}

\begin{proof}
    这里的证明使用的是归纳法. 当$n=2$时，易知$V_2=x_2-x_1$，结论成立. 假设结论对$n-1$阶范德蒙行列式成立，那么对于$V_n$，从第$n$行起，依次将前一行乘$(-x_1)$加到后一行，可以得到\begin{align*}
        V_n & = \begin{vmatrix}
                    1      & 1                  & \cdots & 1                  \\
                    0      & x_2-x_1            & \cdots & x_n-x_1            \\
                    0      & x_2(x_2-x_1)       & \cdots & x_n(x_n-x_1)       \\
                    \vdots & \vdots             & \ddots & \vdots             \\
                    0      & x_2^{n-2}(x_2-x_1) & \cdots & x_n^{n-2}(x_n-x_1)
                \end{vmatrix} \\
            & = (x_2-x_1)(x_3-x_1)\cdots(x_n-x_1)
        \begin{vmatrix}
            1      & 1         & \cdots & 1         \\
            0      & x_2       & \cdots & x_n       \\
            0      & x_2^2     & \cdots & x_n^2     \\
            \vdots & \vdots    & \ddots & \vdots    \\
            0      & x_2^{n-2} & \cdots & x_n^{n-2}
        \end{vmatrix}.
    \end{align*}
    上式右端为是关于$x_2,x_3,\ldots,x_n$的$n-1$阶范德蒙行列式，根据归纳假设，我们有
    \begin{align*}
        V_n & = (x_2-x_1)(x_3-x_1)\cdots(x_n-x_1)\prod_{2 \leqslant i < j \leqslant n}(x_j-x_i) \\
            & = \prod_{1 \leqslant i < j \leqslant n}(x_j-x_i).
    \end{align*}
\end{proof}

我们需要强调的是范德蒙行列式的重要性，事实上，范德蒙行列式有着广泛的应用，在之后不少的习题中我们将使用它. 在此我们证明\autoref{thm:覆盖定理} 的有限维情形作为一个例子：
\begin{example}{}{行列式证明覆盖定理}
    设$V_1,V_2,\ldots,V_s$是有限维线性空间$V$的$s$个非平凡子空间，证明：$V$中至少存在一个向量不属于$V_1,V_2,\ldots,V_s$中的任何一个，即$V_1 \cup V_2 \cup \cdots \cup V_s\subsetneq V$.
\end{example}

\begin{proof}
    设$\dim V=n$，设$\alpha_1,\alpha_2,\ldots,\alpha_n$为$V$的一组基，构造向量组$\{\beta_k\}$中每个元素满足
    \[\beta_k=\alpha_1+k\alpha_2+\cdots+k^{n-1}\alpha_n,\enspace k=1,2,3,\ldots\]
    任取上述向量组中的$n$个向量$\beta_{k_1},\beta_{k_2},\ldots,\beta_{k_n}$，其中$k_1<k_2<\cdots<k_n$，则有
    \[(\beta_{k_1},\beta_{k_2},\ldots,\beta_{k_n})=(\alpha_1,\alpha_2,\ldots,\alpha_n)C,\]
    其中
    \[C=\begin{pmatrix}
            1         & 1         & \cdots & 1         \\
            k_1       & k_2       & \cdots & k_n       \\
            \vdots    & \vdots    & \ddots & \vdots    \\
            k_1^{n-1} & k_2^{n-1} & \cdots & k_n^{n-1}
        \end{pmatrix},\]
    则$|C|$是一个范德蒙行列式. 由范德蒙行列式的性质可知$|C| \neq 0$，因此$C$可逆. 又由于$\alpha_1,\alpha_2,\ldots,\alpha_n$是$V$的一组基，因此$\beta_{k_1},\beta_{k_2},\ldots,\beta_{k_n}$线性无关，从而向量组$\{\beta_k\}$中任意$n$个向量均构成$V$的一组基.

    由于$V_1,V_2,\ldots,V_s$是$V$的非平凡子空间，因此每个子空间最多包含$\{\beta_k\}$中$n-1$个向量，进而$V_1\cup V_2\cup\cdots\cup V_s$只包含$\{\beta_k\}$中有限个向量，所以必然存在一个向量$\beta_j$使得$\beta_j \notin V_1\cup V_2\cup\cdots\cup V_s$.
\end{proof}

行列式计算的核心思想：观察行列式的特征，通过用一行消去其它所有行或者通过逐行相减化出更多的 $0$，得到模板行列式（例如上三角、箭形等）求解；或者通过一些明显的技巧性方法（例如递推法）来求解.

\subsection{化三角形法}

因为三角形矩阵的行列式等于对角线元素的乘积，所以将行列式化为三角形矩阵的行列式是一种常用的计算方法.

\begin{example}{}{}
    计算行列式$D_{n+1}=\begin{vmatrix}
            1      & a_{1}       & a_{2}       & \cdots & a_n       \\
            1      & a_{1}+b_{1} & a_{2}       & \cdots & a_n       \\
            1      & a_{1}       & a_{2}+b_{2} & \cdots & a_n       \\
            \vdots & \vdots      & \vdots      & \ddots & \vdots    \\
            1      & a_{1}       & a_{2}       & \cdots & a_n+b_{n}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    观察这个行列式的特点，主对角线下方的元素与第 1 行元素对应相同，故用第 1 行的 $-1$ 倍加到下面各行便可使主对角线下方的元素全部变为0，即化为上三角形.
    \[ D_{n+1}=\begin{vmatrix}
            1 & a_{1} & a_{2} & \ldots & a_n   \\
              & b_{1} &       &        &       \\
              &       & b_{2} &        &       \\
              &       &       & \ddots &       \\
              &       &       &        & b_{n}
        \end{vmatrix}=\prod_{i=1}^n b_i \]
\end{solution}

\begin{example}{}{}
    计算$n$阶行列式，其中$a_i\neq 0\enspace(i=2,\ldots,n)$：
    \[|A|=\begin{vmatrix}
            a_1    & b_2    & b_3    & \cdots & b_n    \\
            c_2    & a_2    & 0      & \cdots & 0      \\
            c_3    & 0      & a_3    & \cdots & 0      \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            c_n    & 0      & 0      & \cdots & a_n
        \end{vmatrix}.\]
\end{example}

\begin{solution}
    这一行列式因为形似箭头而被称为箭形行列式，将第$i\enspace(2\leqslant i\leqslant n)$列乘以$-c_i/a_i$加到第一列上可以消去第一列所有的$c_i$得到上三角矩阵，最后答案为$(a_1-\sum\limits_{i=2}^n\dfrac{b_ic_i}{a_i})a_2a_3\cdots a_n$.
\end{solution}

箭形行列式可以当作一种模板来解决其它问题：

\begin{example}{}{}
    计算$n$阶行列式，其中$a_i\neq 0,\enspace i=1,\ldots,n$：
    \[|A|=\begin{vmatrix}
            x_1-a_1 & x_2     & x_3     & \cdots & x_n     \\
            x_1     & x_2-a_2 & x_3     & \cdots & x_n     \\
            x_1     & x_2     & x_3-a_3 & \cdots & x_n     \\
            \vdots  & \vdots  & \vdots  & \ddots & \vdots  \\
            x_1     & x_2     & x_3     & \cdots & x_n-a_n
        \end{vmatrix}.\]
\end{example}

\begin{solution}
    第一行乘以-1依次加到其它行上去可以得到一个箭形行列式，使用上一例题的结论可知答案为\[(-1)^na_1a_2\cdots a_n(\sum\limits_{i=1}^n\dfrac{x_i}{a_i}-1).\]
\end{solution}

\subsection{连加法}

这种方法的运用场景通常是矩阵的每行或每列总和相等，这时我们可以将每行或每列的元素分别累加到第一行或第一列上，从而使得第一行或第一列的元素全部相同，然后将第一行或第一列的元素提取出来，得到一个新的行列式形式，进而继续使用其他方法计算.

\begin{example}{}{}
    计算行列式$D_n=\begin{vmatrix}
            x_1-m  & x_2    & \cdots & x_n    \\
            x_1    & x_2-m  & \cdots & x_n    \\
            \vdots & \vdots & \ddots & \vdots \\
            x_1    & x_2    & \cdots & x_n-m
        \end{vmatrix}$.
\end{example}

这一例子事实上是前一个例子的特例，但我们这里展示连加法的运用，也体现一题多解的趣味性.

\begin{solution}
    观察到每一行的和都是相同的，所以我们可以将每一列都累加到第一列上，得到
    \begin{align*}
        D_n & =\begin{vmatrix}
                   \displaystyle\sum_{i=1}^{n} x_i-m & x_2    & \cdots & x_n    \\
                   \displaystyle\sum_{i=1}^{n} x_i-m & x_2-m  & \cdots & x_n    \\
                   \vdots                            & \vdots & \ddots & \vdots \\
                   \displaystyle\sum_{i=1}^{n} x_i-m & x_2    & \cdots & x_n-m
               \end{vmatrix} \\
            & =\left(\sum_{i=1}^{n} x_i-m\right)
        \begin{vmatrix}
            1      & x_2    & \cdots & x_n    \\
            1      & x_2-m  & \cdots & x_n    \\
            \vdots & \vdots & \ddots & \vdots \\
            1      & x_2    & \cdots & x_n-m
        \end{vmatrix}                                   \\
            & =\left(\sum_{i=1}^{n} x_i-m\right)
        \begin{vmatrix}
            1 & x_2 & \cdots & x_n \\
              & -m  &        &     \\
              &     & \ddots &     \\
              &     &        & -m
        \end{vmatrix}                                              \\
            & =(-m)^{n-1}\left(\sum_{i=1}^{n} x_i-m\right).
    \end{align*}
\end{solution}

\subsection{滚动消去法}

当行列式每两行的值比较接近时，可采用让邻行中的某一行减或者加上另一行的若干倍, 这种方法称为滚动消去法.

\begin{example}{}{}
    计算行列式$D_n=\begin{vmatrix}
            1      & 2      & 3      & \cdots & n-1    & n      \\
            2      & 1      & 2      & \cdots & n-2    & n-1    \\
            3      & 2      & 1      & \cdots & n-3    & n-2    \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            n-1    & n-2    & n-3    & \cdots & 1      & 2      \\
            n      & n-1    & n-2    & \cdots & 2      & 1
        \end{vmatrix},\enspace n \geqslant 2$.
\end{example}

\begin{solution}
    这是一个循环行列式，这种行列式的特点是相邻的行或列之间有共同的变化规律，所以我们可以使用“差分”的思想，从最后一行开始每行减去上一行
    \begin{align*}
        D_n & =\begin{vmatrix}
                   1      & 2      & 3      & \cdots & n-1    & n      \\
                   1      & -1     & -1     & \cdots & -1     & -1     \\
                   1      & 1      & -1     & \cdots & -1     & -1     \\
                   \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                   1      & 1      & 1      & \cdots & -1     & -1     \\
                   1      & 1      & 1      & \cdots & 1      & -1
               \end{vmatrix}=\begin{vmatrix}
                                 1      & 2      & 3      & \cdots & n-1    & n      \\
                                 2      & 0      & 0      & \cdots & 0      & -2     \\
                                 2      & 2      & 0      & \cdots & 0      & -2     \\
                                 \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                                 2      & 2      & 2      & \cdots & 0      & -2     \\
                                 1      & 1      & 1      & \cdots & 1      & -1
                             \end{vmatrix} \\
            & =\begin{vmatrix}
                   1      & 2      & 3      & \cdots & n-1    & n+1    \\
                   2      & 0      & 0      & \cdots & 0      & 0      \\
                   2      & 2      & 0      & \cdots & 0      & 0      \\
                   \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                   2      & 2      & 2      & \cdots & 0      & 0      \\
                   1      & 1      & 1      & \cdots & 1      & 0
               \end{vmatrix}=2^{n-2}
        \begin{vmatrix}
            1      & 2      & 3      & \cdots & n-1    & n+1    \\
            1      & 0      & 0      & \cdots & 0      & 0      \\
            1      & 1      & 0      & \cdots & 0      & 0      \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            1      & 1      & 1      & \cdots & 0      & 0      \\
            1      & 1      & 1      & \cdots & 1      & 0
        \end{vmatrix}                      \\
            & =(-1)^{n+1}(n+1) 2^{n-2}.
    \end{align*}
\end{solution}

\subsection{降阶法}

将高阶行列式化为低阶行列式再求解，通常会使用按行展开或按列展开的方法以及分块对角矩阵行列式的性质来进行计算.

\begin{example}{}{}
    解行列式$D_n=\begin{vmatrix}
            x     & -1    &        &         &         \\
                  & x     & \ddots &         &         \\
                  &       & \ddots & -1      &         \\
                  &       &        & x       & -1      \\
            a_{0} & a_{1} & \cdots & a_{n-2} & a_{n-1}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    按最后一行展开，得
    \begin{align*}
        D_n & =\sum_{i=0}^{n-1}(-1)^{n+i+1}a_i\begin{vmatrix} A & O \\ O & B \end{vmatrix}
        =\sum_{i=0}^{n-1}(-1)^{n+i+1}a_i|A||B|                                                        \\
            & =\sum_{i=0}^{n-1}(-1)^{n+i+1}a_i(x^i)\left((-1)^{n-1-i}\right) =\sum_{i=0}^{n-1}a_i x^i,
    \end{align*}

    其中$A\in \mathbf{M}_i(\mathbf{R}),\enspace B\in \mathbf{M}_{n-1-i}(\mathbf{R})$，
    \[ A=\begin{pmatrix}
            x & -1 &        &    &    \\
              & x  & \ddots &    &    \\
              &    & \ddots & -1 &    \\
              &    &        & x  & -1 \\
              &    &        &    & x
        \end{pmatrix},\enspace
        B=\begin{pmatrix}
            -1 &    &        &    &    \\
            x  & -1 &        &    &    \\
               & x  & \ddots &    &    \\
               &    & \ddots & -1 &    \\
               &    &        & x  & -1
        \end{pmatrix}. \]
\end{solution}

\begin{example}{}{}
    解行列式$D_n=\begin{vmatrix}
            \lambda & a      & a      & a      & \cdots & a      \\
            b       & \gamma & \beta  & \beta  & \cdots & \beta  \\
            b       & \beta  & \gamma & \beta  & \cdots & \beta  \\
            \vdots  & \vdots & \vdots & \vdots & \ddots & \vdots \\
            b       & \beta  & \beta  & \beta  & \cdots & \gamma
        \end{vmatrix}$.
\end{example}

\begin{solution}
    从第$n$行到第3行，每行都减去上一行；再从第3列到第$n$列，每列都加到第2列，得

    \begin{align*}
        D_n & =
        \begin{vmatrix}
            \lambda & a            & a            & a            & \cdots & a            \\
            b       & \gamma       & \beta        & \beta        & \cdots & \beta        \\
            0       & \beta-\gamma & \gamma-\beta & 0            & \cdots & 0            \\
            0       & 0            & \beta-\gamma & \gamma-\beta & \cdots & 0            \\
            \vdots  & \vdots       & \vdots       & \vdots       & \ddots & \vdots       \\
            0       & 0            & 0            & 0            & \cdots & \gamma-\beta
        \end{vmatrix}             \\
            & =\begin{vmatrix}
                   \lambda & (n-1)a            & a            & a            & \cdots & a            \\
                   b       & \gamma+(n-2)\beta & \beta        & \beta        & \cdots & \beta        \\
                   0       & 0                 & \gamma-\beta & 0            & \cdots & 0            \\
                   0       & 0                 & \beta-\gamma & \gamma-\beta & \cdots & 0            \\
                   \vdots  & \vdots            & \vdots       & \vdots       & \ddots & \vdots       \\
                   0       & 0                 & 0            & 0            & \cdots & \gamma-\beta
               \end{vmatrix} \\
            & =\begin{vmatrix}
                   \lambda & (n-1)a            \\
                   b       & \gamma+(n-2)\beta
               \end{vmatrix} \cdot \begin{vmatrix}
                                       \gamma-\beta & 0            & \cdots & 0            \\
                                       \beta-\gamma & \gamma-\beta & \cdots & 0            \\
                                       \vdots       & \vdots       & \ddots & \vdots       \\
                                       0            & 0            & \cdots & \gamma-\beta
                                   \end{vmatrix}           \\
            & =(\lambda \gamma+\lambda(n-2)\beta-(n-1)ab)(\gamma-\beta)^{n-2}.
    \end{align*}
\end{solution}

% \begin{example}{}{}
%     计算行列式$D_n=\begin{vmatrix}
%             (a_1 + b_1)^{-1} & (a_1 + b_2)^{-1} & \cdots & (a_1 + b_n)^{-1} \\
%             (a_2 + b_1)^{-1} & (a_2 + b_2)^{-1} & \cdots & (a_2 + b_n)^{-1} \\
%             \vdots           & \vdots           & \ddots & \vdots           \\
%             (a_n + b_1)^{-1} & (a_n + b_2)^{-1} & \cdots & (a_n + b_n)^{-1}
%         \end{vmatrix}$.
% \end{example}

\subsection{升阶法}

升阶法就是把 $n$ 阶行列式增加一行一列变成 $n+1$ 阶行列式，再通过性质化简算出结果，这种计算行列式的方法叫做升阶法或加边法. 升阶法的最大特点就是要找每行或每列相同的因子, 那么升阶之后, 就可以利用行列式的性质把绝大多数元素化为0，这样就达到简化计算的效果.

\begin{example}{}{}
    解行列式 $D=\begin{vmatrix}
            0      & 1      & 1      & \cdots & 1      & 1      \\
            1      & 0      & 1      & \cdots & 1      & 1      \\
            1      & 1      & 0      & \cdots & 1      & 1      \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            1      & 1      & 1      & \cdots & 0      & 1      \\
            1      & 1      & 1      & \cdots & 1      & 0
        \end{vmatrix}$.
\end{example}

\begin{solution}
    使行列式 $D$ 变成 $n+1$ 阶行列式, 即
    \[ D=\begin{vmatrix}
            1      & 1      & 1      & \cdots & 1      & 1      \\
            0      & 0      & 1      & \cdots & 1      & 1      \\
            0      & 1      & 0      & \cdots & 1      & 1      \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            0      & 1      & 1      & \cdots & 0      & 1      \\
            0      & 1      & 1      & \cdots & 1      & 0
        \end{vmatrix}. \]

    再将第一行的 $-1$ 倍加到其他各行, 得:
    \[ D =\begin{vmatrix}
            1      & 1  & \cdots & 1  \\
            -1     & -1 &        &    \\
            \vdots &    & \ddots &    \\
            -1     &    &        & -1
        \end{vmatrix}. \]

    从第二列开始, 每列乘以 $-1$ 加到第一列, 得:
    \begin{align*}
        D & =\begin{vmatrix}
                 -(n-1) & 1  & \cdots & 1  \\
                        & -1 &        &    \\
                        &    & \ddots &    \\
                        &    &        & -1
             \end{vmatrix} \\
          & =(-1)^{n+1}(n-1).
    \end{align*}
\end{solution}

\subsection{数归/递推法}

\begin{example}{}{递推法}
    计算行列式$D_n=\begin{vmatrix}
            \cos \beta & 1            &        &              &              \\
            1          & 2 \cos \beta & \ddots &              &              \\
                       & 1            & \ddots & 1            &              \\
                       &              & \ddots & 2 \cos \beta & 1            \\
                       &              &        & 1            & 2 \cos \beta
        \end{vmatrix}$.
\end{example}

\begin{solution}
    \begin{align*}
        D_1 & =\cos\beta,                               \\
        D_2 & =\begin{vmatrix}
                   \cos\beta & 1          \\
                   1         & 2\cos\beta
               \end{vmatrix}=2\cos^2\beta-1=\cos2\beta.
    \end{align*}

    猜想$D_n=\cos n\beta$. 数学归纳证明：

    假设当 $n=k$ 时，结论成立，即 $D_{k}=\cos k \beta$. 现证当 $n=k+1$ 时，结论也成立. $ n=k+1 $ 时，
    \[ D_{k+1} = \begin{vmatrix}
            \cos \beta & 1            &        &              &              \\
            1          & 2 \cos \beta & \ddots &              &              \\
                       & 1            & \ddots & 1            &              \\
                       &              & \ddots & 2 \cos \beta & 1            \\
                       &              &        & 1            & 2 \cos \beta
        \end{vmatrix}. \]

    将 $D_{k+1}$ 按最后一行展开, 得
    \begin{align*}
        D_{k+1}={} & (-1)^{k+1+k+1} \cdot 2 \cos \beta
        \begin{vmatrix}
            \cos \beta & 1            &        &              &              \\
            1          & 2 \cos \beta & \ddots &              &              \\
                       & 1            & \ddots & 1            &              \\
                       &              & \ddots & 2 \cos \beta & 1            \\
                       &              &        & 1            & 2 \cos \beta
        \end{vmatrix} \\
                   & +(-1)^{k+1+k}
        \begin{vmatrix}
            \cos \beta & 1            & 0            & \cdots & 0      \\
            1          & 2 \cos \beta & 1            & \cdots & 0      \\
            0          & 1            & 2 \cos \beta & \cdots & 0      \\
            \vdots     & \vdots       & \vdots       & \ddots & \vdots \\
            0          & 0            & 0            & \cdots & 1
        \end{vmatrix}       \\
        ={}        & 2\cos\beta D_k-D_{k-1}.
    \end{align*}

    而$D_{k}=\cos k \beta,\enspace
        D_{k-1}=\cos (k-1)\beta = \cos (k \beta-\beta) = \cos k \beta \cos \beta+\sin k \beta \sin \beta$. 所以有
    \begin{align*}
        D_{k+1} & = 2 \cos \beta D_{k}-D_{k-1}                                               \\
                & =2 \cos \beta \cos k \beta-\cos k \beta \cos \beta-\sin k \beta \sin \beta \\
                & =\cos k \beta \cos \beta-\sin k \beta \sin \beta                           \\
                & =\cos (k+1) \beta.
    \end{align*}

    则证得$D_n=\cos n\beta,\enspace n\in \mathbf{N}$.
\end{solution}

下面介绍常系数线性递推数列，为了方便，只介绍二阶情况. 如果$D_n$满足关系式
\[ aD_n+bD_{n-1}+cD_{n-2}=0, \]
解特征方程
\[ ar^2+br+c=0 \]
会有三种根的情况.
\begin{enumerate}
    \item $\Delta>0$, 有两个不等的实根$r_1, r_2$，则有
          \[ D_n=C_1r_1^n+C_2r_2^n. \]

    \item $\Delta=0$, 有重实根$r$，则有
          \[ D_n=(C_1+nC_2)r^n. \]

    \item $\Delta<0$, 有共轭复根$r=\cos\beta\pm \i\sin\beta$，则有
          \[ D_n=C_1\cos n\beta + C_2\sin n\beta. \]
\end{enumerate}
以上式子中的$C_1,C_2$均为任意常数，可以令$n=1,2$获得.

所以其实\autoref{ex:递推法} 也可以使用递推式求得答案（留作习题证明略）. 不过一般遇到的还是特征根为实数的情况比较多，给出一道练习例题：

\begin{example}{}{}
    计算行列式$D_n=
        \begin{vmatrix}
            9 & 5 &        &   &   \\
            4 & 9 & \ddots &   &   \\
              & 4 & \ddots & 5 &   \\
              &   & \ddots & 9 & 5 \\
              &   &        & 4 & 9
        \end{vmatrix}$.
\end{example}

\begin{solution}
    按第一列展开, 得
    \[ D_n=9 D_{n-1}-20 D_{n-2}, \]
    即 $ D_n-9 D_{n-1}+20 D_{n-2}=0 $.

    作特征方程
    \[ x^{2}-9 x+20=0, \]
    解得 $ x_1=4,\enspace x_2=5 $. 则
    \[ D_n=A \cdot 4^n+B \cdot 5^n, \]

    当 $n=1$ 时, $9=4A+5B$；

    当 $n=2$ 时，$61=16A+25B$.

    解得$A=-4,\enspace B=5$，所以
    \[ D_n=5^{n+1}-4^{n+1}. \]
\end{solution}

最后我们介绍一个经典且复杂的例子，即所谓柯西行列式，我们利用递推法来求解：

\begin{example}{柯西行列式}{}
    计算行列式 $D_n=\begin{vmatrix}
            (a_1+b_1)^{-1} & (a_1+b_2)^{-1} & \cdots & (a_1+b_n)^{-1} \\
            (a_2+b_1)^{-1} & (a_2+b_2)^{-1} & \cdots & (a_2+b_n)^{-1} \\
            \vdots         & \vdots         & \ddots & \vdots         \\
            (a_n+b_1)^{-1} & (a_n+b_2)^{-1} & \cdots & (a_n+b_n)^{-1}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    我们尝试求解 $D_n$ 和 $D_{n-1}$ 之间的递推式. 首先将行列式的前 $n-1$ 列每列都减去第 $n$ 列：

    \begin{align*}
        D_n & = \begin{vmatrix}
                    \dfrac{1}{a_1+b_1}     & \cdots & \dfrac{1}{a_1+b_{n-1}}     & \dfrac{1}{a_1+b_n}     \\[2ex]
                    \vdots                 & \ddots & \vdots                     & \vdots                 \\[2ex]
                    \dfrac{1}{a_{n-1}+b_1} & \cdots & \dfrac{1}{a_{n-1}+b_{n-1}} & \dfrac{1}{a_{n-1}+b_n} \\[2ex]
                    \dfrac{1}{a_n+b_1}     & \cdots & \dfrac{1}{a_n+b_{n-1}}     & \dfrac{1}{a_n+b_n}
                \end{vmatrix}                                                                       \\[2ex]
            & = \begin{vmatrix}
                    \dfrac{b_n-b_1}{(a_1+b_1)(a_1+b_n)}         & \cdots & \dfrac{b_n-b_{n-1}}{(a_1+b_{n-1})(a_1+b_n)}         & \dfrac{1}{a_1+b_n}     \\[2ex]
                    \vdots                                      & \ddots & \vdots                                              & \vdots                 \\[2ex]
                    \dfrac{b_n-b_1}{(a_{n-1}+b_1)(a_{n-1}+b_n)} & \cdots & \dfrac{b_n-b_{n-1}}{(a_{n-1}+b_{n-1})(a_{n-1}+b_n)} & \dfrac{1}{a_{n-1}+b_n} \\[2ex]
                    \dfrac{b_n-b_1}{(a_n+b_1)(a_n+b_n)}         & \cdots & \dfrac{b_n-b_{n-1}}{(a_n+b_{n-1})(a_n+b_n)}         & \dfrac{1}{a_n+b_n}
                \end{vmatrix}.
    \end{align*}
    第二步是提取公因式：
    \[ \text{上式} = \dfrac{\prod\limits_{i=1}^{n-1}(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)}
        \begin{vmatrix}
            \dfrac{1}{a_1+b_1}     & \cdots & \dfrac{1}{a_1+b_{n-1}}     & 1      \\[2ex]
            \vdots                 & \ddots & \vdots                     & \vdots \\[2ex]
            \dfrac{1}{a_{n-1}+b_1} & \cdots & \dfrac{1}{a_{n-1}+b_{n-1}} & 1      \\[2ex]
            \dfrac{1}{a_n+b_1}     & \cdots & \dfrac{1}{a_n+b_{n-1}}     & 1
        \end{vmatrix}. \]
    第三步是将行列式的前 $n-1$ 行每行都减去第 $n$ 行：
    \[ \text{上式} = \dfrac{\prod\limits_{i=1}^{n-1}(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)}
        \begin{vmatrix}
            \dfrac{a_n-a_1}{(a_1+b_1)(a_n+b_1)}         & \cdots & \dfrac{a_n-a_1}{(a_1+b_{n-1})(a_n+b_{n-1})}         & 0      \\[2ex]
            \vdots                                      & \ddots & \vdots                                              & \vdots \\[2ex]
            \dfrac{a_n-a_{n-1}}{(a_{n-1}+b_1)(a_n+b_1)} & \cdots & \dfrac{a_n-a_{n-1}}{(a_{n-1}+b_{n-1})(a_n+b_{n-1})} & 0      \\[2ex]
            \dfrac{1}{a_n+b_1}                          & \cdots & \dfrac{1}{a_n+b_{n-1}}                              & 1
        \end{vmatrix}. \]
    然后再次提取公因式：
    \begin{align*}
        \text{上式} & = \dfrac{\prod\limits_{i=1}^{n-1}(a_n-a_i)(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)\prod\limits_{k=1}^{n-1}(a_n+b_k)}
        \begin{vmatrix}
            \dfrac{1}{a_1+b_1}     & \cdots & \dfrac{1}{a_1+b_{n-1}}     \\[2ex]
            \vdots                 & \ddots & \vdots                     \\[2ex]
            \dfrac{1}{a_{n-1}+b_1} & \cdots & \dfrac{1}{a_{n-1}+b_{n-1}}
        \end{vmatrix}                                                         \\[2ex]
                    & = \dfrac{\prod\limits_{i=1}^{n-1}(a_n-a_i)(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)\prod\limits_{k=1}^{n-1}(a_n+b_k)} D_{n-1}.
    \end{align*}
    不断递推下去即得

    \[|A| = \dfrac{\prod\limits_{1 \leqslant i < j \leqslant n}(a_j - a_i)(b_j - b_i)}{\prod\limits_{i,j=1}^{n}(a_i + b_j)}.\]
\end{solution}

\subsection{硬拆法}

通常使用这种方法时某行或列会有较为明显的加和关系，这时可以将这一行或列视作两个向量相加，然后拆开形成两个行列式进行计算.

\begin{example}{}{}
    计算行列式$D_n=\begin{vmatrix}
            1-a_{1} & a_{2}   &        &           &         \\
            -1      & 1-a_{2} & \ddots &           &         \\
                    & -1      & \ddots & a_{n-1}   &         \\
                    &         & \ddots & 1-a_{n-1} & a_{n}   \\
                    &         &        & -1        & 1-a_{n}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    把第一列的元素看成两项的和进行拆列, 得
    \begin{align*}
        D_n= & \begin{vmatrix}
                   1-a_{1} & a_{2}   &        &           &         \\
                   -1      & 1-a_{2} & \ddots &           &         \\
                   0 + 0   & -1      & \ddots & a_{n-1}   &         \\
                   0 + 0   &         & \ddots & 1-a_{n-1} & a_{n}   \\
                   0 + 0   &         &        & -1        & 1-a_{n}
               \end{vmatrix}                \\
        =    & \begin{vmatrix}
                   1  & a_{2}   &        &           &         \\
                   -1 & 1-a_{2} & \ddots &           &         \\
                      & -1      & \ddots & a_{n-1}   &         \\
                      &         & \ddots & 1-a_{n-1} & a_{n}   \\
                      &         &        & -1        & 1-a_{n}
               \end{vmatrix} + \begin{vmatrix}
                                   -a_{1} & a_{2}   &        &           &         \\
                                          & 1-a_{2} & \ddots &           &         \\
                                          & -1      & \ddots & a_{n-1}   &         \\
                                          &         & \ddots & 1-a_{n-1} & a_{n}   \\
                                          &         &        & -1        & 1-a_{n}
                               \end{vmatrix}.
    \end{align*}

    上面第一个行列式的值为 1（从第 1 行开始，每一行依次加到下一行），所以
    \[ \begin{aligned}
            D_n & =1-a_{1}\begin{vmatrix}
                              1-a_{2} & a_{3}   &        &           &         \\
                              -1      & 1-a_{3} & \ddots &           &         \\
                                      & -1      & \ddots & a_{n-1}   &         \\
                                      &         & \ddots & 1-a_{n-1} & a_{n}   \\
                                      &         &        & -1        & 1-a_{n}
                          \end{vmatrix} \\
                & =1-a_{1} D_{n-1} \cdot
        \end{aligned} \]

    这个式子对任何 $n \geqslant 2$ 都成立, 因此有
    \begin{align*}
        D_n & =1-a_{1} D_{n-1}                                          \\
            & =1-a_{1}(1-a_{2} D_{n-2})                                 \\
            & =\cdots                                                   \\
            & =1-a_{1}+a_{1} a_{2}+\cdots+(-1)^n a_{1} a_{2} \cdots a_n \\
            & =1+\sum_{i=1}^{n}(-1)^i \prod_{j=1}^i a_j.
    \end{align*}
\end{solution}

\subsection{利用 Vandermonde 行列式}

\begin{example}{}{}
    求行列式 $D_n=\begin{vmatrix}
            1         & 1         & \cdots & 1         \\
            x_1       & x_2       & \cdots & x_n       \\
            x_1^{2}   & x_2^{2}   & \cdots & x_n^{2}   \\
            \vdots    & \vdots    & \ddots & \vdots    \\
            x_1^{n-2} & x_2^{n-2} & \cdots & x_n^{n-2} \\
            x_1^{n}   & x_2^{n}   & \cdots & x_n^{n}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    本题有两个重要的直觉：第一这一行列式非常像 Vandermonde 行列式，第二这一行列式与 Vandermonde 行列式好像差了关键的一行. 因此我们考虑结合升阶法，构造一个 $n+1$ 阶的Vandermonde行列式.
    \[ f(x)=\begin{vmatrix}
            1         & 1         & \cdots & 1         & 1       \\
            x_1       & x_2       & \cdots & x_n       & x       \\
            x_1^{2}   & x_2^{2}   & \cdots & x_n^{2}   & x^{2}   \\
            \vdots    & \vdots    & \ddots & \vdots    & \vdots  \\
            x_1^{n-2} & x_2^{n-2} & \cdots & x_n^{n-2} & x^{n-2} \\
            x_1^{n-1} & x_2^{n-1} & \cdots & x_n^{n-1} & x^{n-1} \\
            x_1^{n}   & x_2^{n}   & \cdots & x_n^{n}   & x^{n}
        \end{vmatrix}. \]

    将 $f(x)$ 按第 $n+1$ 列展开, 得
    \[ f(x)=A_{1, n+1}+A_{2, n+1} x+\cdots+A_{n, n+1} x^{n-1}+A_{n+1, n+1} x^{n}, \]
    其中 $x^{n-1}$ 的系数为
    \[ A_{n, n+1}=(-1)^{n+(n+1)} D_n=-D_n. \]

    又根据 Vandermonde 行列式的结果知
    \[ f(x)=(x-x_1)(x-x_2)\cdots(x-x_n) \prod_{1 \leqslant j<i \leqslant n}(x_i-x_j). \]
    由上式可求得 $x^{n-1}$ 的系数为
    \[ -(x_1+x_2+\cdots+x_n) \prod_{1 \leqslant j<i \leqslant n}(x_i-x_j). \]
    故有
    \[ D_n=(x_1+x_2+\cdots+x_n) \prod_{1 \leqslant j<i \leqslant n}(x_i-x_j). \]
\end{solution}

\subsection{利用$|E_m-AB|=|E_n-BA|$} \label{sec:利用|E_m-AB|=|E_n-BA|}

\begin{example}{}{}
    求行列式 $\begin{vmatrix}
            0      & 2a_1   & 3a_1   & \cdots & na_1     \\
            a_2    & a_2    & 3a_2   & \cdots & na_2     \\
            a_3    & 2a_3   & 2a_3   & \cdots & na_3     \\
            \vdots & \vdots & \vdots & \ddots & \vdots   \\
            a_n    & 2a_n   & 3a_n   & \cdots & (n-1)a_n \\
        \end{vmatrix}$.
\end{example}

\begin{solution}
    \[ \text{原式}=\prod_{i=1}^na_i \begin{vmatrix}
            0      & 2      & 3      & \cdots & n      \\
            1      & 1      & 3      & \cdots & n      \\
            1      & 2      & 2      & \cdots & n      \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            1      & 2      & 3      & \cdots & n-1    \\
        \end{vmatrix}. \]

    注意到这个行列式对应的矩阵可以加上一个单位矩阵构成一个每行都相等的矩阵，所以我们可以利用$|E_m-AB|=|E_n-BA|$来求解这个行列式.
    \begin{align*}
        \begin{vmatrix}
            0      & 2      & 3      & \cdots & n      \\
            1      & 1      & 3      & \cdots & n      \\
            1      & 2      & 2      & \cdots & n      \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            1      & 2      & 3      & \cdots & n-1
        \end{vmatrix}
         & = \begin{vmatrix}(-1)\left(E_n-\begin{pmatrix}
                1      & 2      & 3      & \cdots & n      \\
                1      & 2      & 3      & \cdots & n      \\
                1      & 2      & 3      & \cdots & n      \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                1      & 2      & 3      & \cdots & n
            \end{pmatrix}\right)\end{vmatrix} \\
         & =(-1)^n\begin{vmatrix}E_n-
                      \begin{pmatrix}
                1 \\1\\1\\\vdots\\1
            \end{pmatrix}\begin{pmatrix}1 & 2 & 3 & \cdots & n\end{pmatrix}\end{vmatrix}.
    \end{align*}

    而 \[ \begin{vmatrix}E_n-\begin{pmatrix}
                1 \\1\\1\\\vdots\\1
            \end{pmatrix}\begin{pmatrix}1 & 2 & 3 & \cdots & n\end{pmatrix}\end{vmatrix}
        =1-\begin{pmatrix}1 & 2 & 3 & \cdots & n\end{pmatrix}
        \begin{pmatrix}1 \\ 1 \\ 1 \\ \vdots \\ 1\end{pmatrix}
        =-\frac{n^2+n-2}{2}. \]

    所以原式$\displaystyle =(-1)^{n+1}\frac{n^2+n-2}{2}\prod_{i=1}^na_i$.
\end{solution}

\section{Laplace定理}
我们在\autoref{def:递归式定义} 中讲述了行列式一行（一列）展开的方式，这里我们讲解一个更加一般的展开方式：即按照$k$行（$k$列）展开.

为了描述这一定理，我们需要首先将单个元素的余子式和代数余子式的概念推广到子式的余子式和代数余子式. 为此，我们先给出一个定义：
\begin{definition}{}{}
    $n$阶行列式$|A|$中任意取定$k$行、$k$列$(1\leqslant k<n)$，记为$i_1,\ldots,i_k$行，$j_1,\ldots,j_k$列，位于这些行和列的交叉处的$k^2$个元素所构成的$k$阶子式称为$|A|$的一个$k$阶子式，这一$k$阶子式记为$A\begin{pmatrix}
            i_1 & \cdots & i_k \\
            j_1 & \cdots & j_k
        \end{pmatrix}$.

    划去子式所在的取定的$k$行、$k$列，剩下的元素所构成的$n-k$阶行列式称为这个$k$阶子式的余子式，记为
    \[A\begin{pmatrix}
            i_1' & \cdots & i_{n-k}' \\
            j_1' & \cdots & j_{n-k}'
        \end{pmatrix},\]
    其中$\{i_1',\ldots,i_{n-k}'\}=\{1,\ldots,n\}\setminus\{i_1,\ldots,i_k\}$，$\{j_1',\ldots,j_{n-k}'\}=\{1,\ldots,n\}\setminus\{j_1,\ldots,j_k\}$，且$i_1'<\cdots<i_{n-k}'$，$j_1'<\cdots<j_{n-k}'$. 它前面乘以$(-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}$所得的数称为这个$k$阶子式的代数余子式.
\end{definition}

事实上上面关于子式的定义与上一讲给出的完全一致，只是多了一个记号，而子式的余子式实际上也只是单个元素余子式到多行多列的自然扩展. 举个简单的例子，对于3阶行列式$|A|=\begin{vmatrix}
        a_{11} & a_{12} & a_{13} \\
        a_{21} & a_{22} & a_{23} \\
        a_{31} & a_{32} & a_{33}
    \end{vmatrix}$，取定第1,3行，第1,2列，那么这个2阶子式为$A\begin{pmatrix}
        1 & 3 \\
        1 & 2
    \end{pmatrix}=\begin{vmatrix}
        a_{11} & a_{12} \\
        a_{31} & a_{32}
    \end{vmatrix}$，它的余子式为$A\begin{pmatrix}
        2 \\ 3
    \end{pmatrix}=\begin{vmatrix}
        a_{23}
    \end{vmatrix}$，代数余子式为$(-1)^{(1+3)+(1+2)}a_{23}=-a_{23}$.

\begin{theorem}{}{Laplace定理}
    在$n$阶行列式$|A|$中，取定$k$行：第$i_1,i_2,\ldots,i_k$行（$1\leqslant i_1<i_2<\cdots<i_k\leqslant n$，且$1\leqslant k<n$），则这$k$行元素形成的所有$k$阶子式与它们自己的代数余子式的乘积之和等于$|A|$，即
    \begin{equation}\label{eq:14:Laplace定理}
        |A|=\sum_{1\leqslant j_1<j_2<\cdots<j_k\leqslant n}A\begin{pmatrix}
            i_1 & \cdots & i_k \\
            j_1 & \cdots & j_k
        \end{pmatrix}\cdot (-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}A\begin{pmatrix}
            i_1' & \cdots & i_{n-k}' \\
            j_1' & \cdots & j_{n-k}'
        \end{pmatrix}.
    \end{equation}

    若取定$k$列：第$j_1,j_2,\ldots,j_k$列（$1\leqslant j_1<j_2<\cdots<j_k\leqslant n$，且$1\leqslant k<n$），则这$k$列元素形成的所有$k$阶子式与它们自己的代数余子式的乘积之和等于$|A|$.
\end{theorem}

下面的证明需要利用一些行列式逆序数定义的知识，感兴趣的读者可以参考史海拾遗一讲的描述，当然也可以略过这里的证明.

\begin{proof}
    我们只证明前一半按行展开的情况，后一半按列展开的情况可以类似证明. 事实上，$|A|$是$n!$项的代数和（事实上直接用按一行（一列）展开的定义结合数学归纳法很容易得到），而\autoref{eq:14:Laplace定理} 右边求和符号包含$\binom{n}{k}$项，然后$k$阶子式展开有$k!$项，$n-k$阶代数余子式有$(n-k)!$项，所以$\binom{n}{k}\cdot k!\cdot (n-k)!=n!$，所以\autoref{eq:14:Laplace定理} 等号左右项数相同.

    事实上，我们不难发现\autoref{eq:14:Laplace定理} 等号右端$n!$项是互不相同的（不是计算结果一定互不相同，是参与计算的行列式元素不同），又\autoref{eq:14:Laplace定理} 等号左右项数相同，故我们只需证明等号右侧每一项都是$|A|$展开中的一项即可.

    在\autoref{eq:14:Laplace定理} 右侧任取一项：
    \[(-1)^{\tau(\mu_1\cdots\mu_k)}a_{i_1\mu_1}\cdots a_{i_k\mu_k}(-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}(-1)^{\tau(\nu_1\cdots\nu_{n-k})}a_{i_1'\nu_1}\cdots a_{i_{n-k}'\nu_{n-k}'},\]
    其中$\mu_1,\ldots,\mu_k$为$j_1,\ldots,j_k$的一个排列，$\nu_1,\ldots,\nu_{n-k}$为$j_1',\ldots,j_{n-k}'$的一个排列，$\tau$代表置换的符号（在朝花夕拾一讲中有介绍）.

    而在\autoref{eq:14:Laplace定理} 左侧有如下一项：
    \[(-1)^{\tau(i_1\cdots i_ki_1'\cdots i_{n-k}')+\tau(\mu_1\cdots\mu_k\nu_1\cdots\nu_{n-k})}a_{i_1\mu_1}\cdots a_{i_k\mu_k}a_{i_1'\nu_1}\cdots a_{i_{n-k}'\nu_{n-k}'},\]
    并且我们有
    \begin{align*}
         & (-1)^{\tau(i_1\cdots i_ki_1'\cdots i_{n-k}')+\tau(\mu_1\cdots\mu_k\nu_1\cdots\nu_{n-k})}                                                        \\
         & =(-1)^{\sum\limits_{r=1}^ki_r-\frac{k(1+k)}{2}}(-1)^{\tau(\mu_1\cdots\mu_k)+\tau(\nu_1\cdots\nu_{n-k})+\sum\limits_{r=1}^kj_r+\frac{k(1+k)}{2}} \\
         & =(-1)^{\tau(\mu_1\cdots\mu_k)+\tau(\nu_1\cdots\nu_{n-k})}(-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}.
    \end{align*}
    因此\autoref{eq:14:Laplace定理} 右侧任意一项都可以在左侧找到对应，证毕.
\end{proof}

我们用一个简单的例子来应用这一定理：
\begin{example}{}{}
    设$A$为$n$阶方阵，$B$为$m$阶方阵，$C$为$m\times n$矩阵，证明：
    \[ \begin{vmatrix}
            A & O \\
            C & B
        \end{vmatrix}=|A|\cdot|B|. \]
\end{example}

\begin{proof}
    将$\begin{vmatrix}
            A & O \\
            C & B
        \end{vmatrix}$按前$n$行展开，得到的所有可能$n$阶子式只有$A$不为0（其它子式都有全零列），且其代数余子式为
    \[(-1)^{(1+2+\cdots+k)+(1+2+\cdots+k)}|B|=|B|,\]
    由Laplace定理，原式$=|A|\cdot|B|$.
\end{proof}

因此这里给出了比教材179页例4更为简洁的证明方法，当前前提在于利用了一个证明起来更为复杂的定理.

\begin{example}{}{}
    计算行列式$\begin{vmatrix}
            -1 & 1  & 1 & 2 & -1 \\
            0  & -1 & 0 & 1 & 2  \\
            2  & 1  & 1 & 3 & -1 \\
            1  & 2  & 2 & 1 & 0  \\
            0  & 3  & 0 & 1 & 3
        \end{vmatrix}$.
\end{example}

\begin{solution}
    因为第一、第三列含有较多的 $0$，因此在这两列上做 Laplace 展开，得
    \begin{align*}
        |A| & = \begin{vmatrix}
                    -1 & 1 \\ 2 & 1
                \end{vmatrix} \cdot (-1)^{1+3+1+3}
        \begin{vmatrix}
            -1 & 1 & 2 \\ 2 & 1 & 0 \\ 3 & 1 & 3
        \end{vmatrix}                                 \\
            & + \begin{vmatrix}
                    -1 & 1 \\ 1 & 2
                \end{vmatrix} \cdot (-1)^{1+4+1+3}
        \begin{vmatrix}
            -1 & 1 & 2 \\ 1 & 3 & -1 \\ 3 & 1 & 3
        \end{vmatrix}                                \\
            & + \begin{vmatrix}
                    2 & 1 \\ 1 & 1
                \end{vmatrix} \cdot (-1)^{3+4+1+3}
        \begin{vmatrix}
            1 & 2 & -1 \\ -1 & 1 & 2 \\ 3 & 1 & 3
        \end{vmatrix}                                \\
            & = (-3) \times (-11) + (-3) \times 32 + 3 \times (-23) = -132.
    \end{align*}
\end{solution}

\section{Cauchy-Binet 公式}

我们已经证明，方阵乘积的行列式等于各方阵行列式之积. 现在的问题是：如果 $A$ 是 $m \times n$ 矩阵，$B$ 是 $n \times m$ 矩阵，$AB$ 是 $m$ 阶方阵，则行列式 $|AB|$ 应该等于什么？Cauchy-Binet（柯西–毕内）公式回答了这个问题. 它可以看成是矩阵乘法的行列式定理的推广.

\begin{theorem}{Cauchy-Binet 公式}{Cauchy-Binet 公式}
    设 $A = (a_{ij})$ 是 $m \times n$ 矩阵，$B = (b_{ij})$ 是 $n \times m$ 矩阵.
    $$
    \begin{pmatrix}
    i_1 & \cdots & i_s \\
    j_1 & \cdots & j_s
    \end{pmatrix}
    $$
    表示 $A$ 的一个 $s$ 阶子式，它由 $A$ 的第 $i_1, \cdots, i_s$ 行与第 $j_1, \cdots, j_s$ 列交点上的元素按原次序排列组成的行列式. 同理可定义 $B$ 的 $s$ 阶子式.
    \begin{enumerate}
        \item 若 $m > n$，则必有 $|AB| = 0$；
        \item 若 $m \leq n$，则必有
        $$
        |AB| = \sum_{1 \leq j_1 < j_2 < \cdots < j_m \leq n} A
        \begin{pmatrix}
        1 & 2 & \cdots & m \\
        j_1 & j_2 & \cdots & j_m
        \end{pmatrix}
        B
        \begin{pmatrix}
        j_1 & j_2 & \cdots & j_m \\
        1 & 2 & \cdots & m
        \end{pmatrix}.
        $$
    \end{enumerate}
\end{theorem}

\begin{proof}
    令
    $$
    C =
    \begin{pmatrix}
    A & O \\
    -I_n & B
    \end{pmatrix}.
    $$
    我们将用不同的方法来计算行列式 $|C|$.

    首先，对 $C$ 进行第三类分块初等变换到矩阵 $M = \begin{pmatrix} O & AB \\ -I_n & B \end{pmatrix}$. 事实上，$M$ 可写为
    $$
    M =
    \begin{pmatrix}
    I_m & A \\
    O & I_n
    \end{pmatrix}
    C,
    $$
    因此 $|M| = |C|$. 用 Laplace 定理来计算 $|M|$，按前 $m$ 行展开得
    $$
    |M| = (-1)^{(n+1)+(n+2)+\cdots+(n+m)} \cdot I_n ||AB| = (-1)^{n(m+1)} |AB|.
    $$

    再来计算 $|C|$，用 Laplace 定理按前 $m$ 行展开. 这时若 $m > n$，则前 $m$ 行中任意一个 $m$ 阶子式至少有一列全为零，因此行列式值等于零，即 $|AB| = 0$. 若 $m \leq n$，则由 Laplace 定理得
    $$
    |C| = \sum_{1 \leq j_1 < j_2 < \cdots < j_m \leq n} A
    \begin{pmatrix}
    1 & 2 & \cdots & m \\
    j_1 & j_2 & \cdots & j_m
    \end{pmatrix}
    \hat{C}
    \begin{pmatrix}
    1 & 2 & \cdots & m \\
    j_1 & j_2 & \cdots & j_m
    \end{pmatrix},
    $$
    其中 $\hat{C} = A \begin{pmatrix} 1 & 2 & \cdots & m \\ j_1 & j_2 & \cdots & j_m \end{pmatrix}$ 是矩阵 $C$ 中的代数余子式.

    显然
    $$
    \hat{C} = (-1)^{\frac{m(m+1) + (j_1 + j_2 + \cdots + j_m)}{2}} \cdot | - e_{i_1}, - e_{i_2}, \cdots, - e_{i_{n-m}}, B |,
    $$
    其中 $i_1, i_2, \cdots, i_{n-m}$ 是 $C$ 前 $n$ 列去掉 $j_1, j_2, \cdots, j_m$ 列后余下的列序数. $e_{i_1}, e_{i_2}, \cdots, e_{i_{n-m}}$ 是相应的 $n$ 维标准单位向量（标准单位向量定义见习题 1）. 记
    $$
    |N| = | - e_{i_1}, - e_{i_2}, \cdots, - e_{i_{n-m}}, B |.
    $$
    现在计算 $|N|$. 用 Laplace 定理按前 $n-m$ 列展开. 注意只有一个子式非零，其值等于 $| - I_{n-m}| = (-1)^{n-m}$. 而这个子式的余子式为
    $$
    B \begin{pmatrix} j_1 & j_2 & \cdots & j_m \\ 1 & 2 & \cdots & m \end{pmatrix}.
    $$

    因此
    $$ |N| = (-1)^{(n-m) + (i_1 + i_2 + \cdots + i_{n-m}) + (j_1 + j_2 + \cdots + j_m)} B
    \begin{pmatrix}
        j_1 & j_2 & \cdots & j_m \\
        1 & 2 & \cdots & m
    \end{pmatrix}
    $$

    注意到 $ (i_1 + i_2 + \cdots + i_{n-m}) + (j_1 + j_2 + \cdots + j_m) = 1 + 2 + \cdots + n $.综合上面的结论，经过简单计算不难得到

    $$ |AB| = \sum_{1 \leq j_1 < j_2 < \cdots < j_m \leq n} A
    \begin{pmatrix}
        1 & 2 & \cdots & m \\
        j_1 & j_2 & \cdots & j_m
    \end{pmatrix}
    B
    \begin{pmatrix}
        j_1 & j_2 & \cdots & j_m \\
        1 & 2 & \cdots & m
    \end{pmatrix}.
    $$
\end{proof}

下面的定理是 Cauchy-Binet 公式的进一步推广，它告诉我们如何求矩阵乘积的 $r$ 阶子式.

\begin{theorem}{}{Cauchy-Binet 公式推广}
    设 $A = (a_{ij})$ 是 $m \times n$ 矩阵，$B = (b_{ij})$ 是 $n \times m$ 矩阵，$r$ 是一个正整数且 $r \leq m$.
    \begin{enumerate}
        \item 若 $r > n$，则 $AB$ 的任意一个 $r$ 阶子式等于零；
        \item 若 $r \leq n$，则 $AB$ 的 $r$ 阶子式
        $$
        AB
        \begin{pmatrix}
            i_1 & i_2 & \cdots & i_r \\
            j_1 & j_2 & \cdots & j_r
        \end{pmatrix}
        = \sum_{1 \leq k_1 < k_2 < \cdots < k_r \leq n} A
        \begin{pmatrix}
            i_1 & i_2 & \cdots & i_r \\
            k_1 & k_2 & \cdots & k_r
        \end{pmatrix}
        B
        \begin{pmatrix}
            k_1 & k_2 & \cdots & k_r \\
            j_1 & j_2 & \cdots & j_r
        \end{pmatrix}.
        $$
    \end{enumerate}
\end{theorem}

\begin{proof}
    设 $C = AB$，则 $C = (c_{ij})$ 是 $m$ 阶矩阵且

    $$ c_{ij} = a_{i_1} b_{j_1} + a_{i_2} b_{j_2} + \cdots + a_{i_n} b_{j_n}. $$
    因此
    $$
    C
    \begin{pmatrix}
        i_1 & i_2 & \cdots & i_r \\
        j_1 & j_2 & \cdots & j_r
    \end{pmatrix}
    =
    \begin{vmatrix}
        a_{i_1} & a_{i_2} & \cdots & a_{i_n} \\
        a_{i_1} & a_{i_2} & \cdots & a_{i_n} \\
        \vdots & \vdots & \ddots & \vdots \\
        a_{i_1} & a_{i_2} & \cdots & a_{i_n}
    \end{vmatrix}
    \begin{vmatrix}
        b_{j_1} & b_{j_2} & \cdots & b_{j_r} \\
        b_{j_1} & b_{j_2} & \cdots & b_{j_r} \\
        \vdots & \vdots & \ddots & \vdots \\
        b_{j_1} & b_{j_2} & \cdots & b_{j_r}
    \end{vmatrix}.
    $$

    由 Cauchy-Binet 公式可知：$r > n$ 时，$C
    \begin{pmatrix}
        i_1 & i_2 & \cdots & i_r \\
        j_1 & j_2 & \cdots & j_r
    \end{pmatrix} = 0$；当 $r \leq n$ 时，
    $$
    C
    \begin{pmatrix}
        i_1 & i_2 & \cdots & i_r \\
        j_1 & j_2 & \cdots & j_r
    \end{pmatrix} $$
    $$ =\sum_{1 \leq k_1 < k_2 < \cdots < k_r \leq n} A
    \begin{pmatrix}
        i_1 & i_2 & \cdots & i_r \\
        k_1 & k_2 & \cdots & k_r
    \end{pmatrix}
    B
    \begin{pmatrix}
        k_1 & k_2 & \cdots & k_r \\
        j_1 & j_2 & \cdots & j_r
    \end{pmatrix}. $$
\end{proof}

矩阵 $A$ 的子式
$$ A
\begin{pmatrix}
    i_1 & i_2 & \cdots & i_r \\
    j_1 & j_2 & \cdots & j_r
\end{pmatrix} $$
如果满足条件 $i_1 = j_1, i_2 = j_2, \cdots, i_r = j_r$，则称为主子式.

\begin{corollary}{}{}
    设 $A$ 是 $m \times n$ 实矩阵，则矩阵 $AA'$ 的任一主子式都非负.
\end{corollary}

\begin{proof}
    若 $r \leq n$，则由 \autoref{thm:Cauchy-Binet 公式推广} 得到：
    $$ AA'
    \begin{pmatrix}
        i_1 & i_2 & \cdots & i_r \\
        i_1 & i_2 & \cdots & i_r
    \end{pmatrix}
    = \sum_{1 \leq k_1 < k_2 < \cdots < k_r \leq n} A
    \begin{pmatrix}
        i_1 & i_2 & \cdots & i_r \\
        k_1 & k_2 & \cdots & k_r
    \end{pmatrix}^2 \geq 0; $$
    若 $r > n$，则 $AA'$ 的任一 $r$ 阶主子式等于零，结论也成立.
\end{proof}

下面介绍 Cauchy-Binet 公式的两个重要应用. 它们分别是著名的 Lagrange (拉格朗日) 恒等式和 Cauchy-Schwarz (柯西-许瓦茨) 不等式. 这两个结论也可以用其他方法证明，但用矩阵方法显得非常简洁.

\begin{example}{}{}
    证明 Lagrange 恒等式 $(n \geq 2)$：
    $$ \left( \sum_{i=1}^{n} a_i^2 \right) \left( \sum_{i=1}^{n} b_i^2 \right) - \left( \sum_{i=1}^{n} a_i b_i \right)^2 = \sum_{1 \leq i < j \leq n} (a_i b_j - a_j b_i)^2. $$
\end{example}

\begin{solution}
    左边的式子等于
    $$ \begin{vmatrix}
        \sum_{i=1}^{n} a_i^2 & \sum_{i=1}^{n} a_i b_i \\
        \sum_{i=1}^{n} a_i b_i & \sum_{i=1}^{n} b_i^2
    \end{vmatrix}, $$

    这个行列式对应的矩阵可化为：
    $$ \begin{pmatrix}
        a_1 & a_2 & \cdots & a_n \\
        b_1 & b_2 & \cdots & b_n
    \end{pmatrix}
    \begin{pmatrix}
        a_1 & b_1 \\
        a_2 & b_2 \\
        \vdots & \vdots \\
        a_n & b_n
    \end{pmatrix}. $$
    用 Cauchy-Binet 公式得

    $$
    \begin{vmatrix}
        \sum_{i=1}^{n} a_i^2 & \sum_{i=1}^{n} a_i b_i \\
        \sum_{i=1}^{n} a_i b_i & \sum_{i=1}^{n} b_i^2
    \end{vmatrix}
    = \sum_{1 \leq i < j \leq n}
    \begin{vmatrix}
        a_i & a_j \\
        b_i & b_j
    \end{vmatrix}^2
    = \sum_{1 \leq i < j \leq n} (a_i b_j - a_j b_i)^2.
    $$
\end{solution}

\begin{example}{}{}
    设 $a_i, b_i$ 都是实数，证明 Cauchy-Schwarz 不等式：
    $$
    \left( \sum_{i=1}^{n} a_i^2 \right) \left( \sum_{i=1}^{n} b_i^2 \right) \geq \left( \sum_{i=1}^{n} a_i b_i \right)^2.
    $$
\end{example}

\begin{solution}
    由上一个例题，恒等式右边总非负，即得结论.
\end{solution}

\section{伴随矩阵}

伴随矩阵是一个重要的概念，它给出了逆矩阵与原矩阵的关联，并且其性质都比较经典，很适合于练习.
\begin{definition}{伴随矩阵}{} \index{bansuijuzhen@伴随矩阵 (adjugate matrix)}
    称矩阵$A^*=\begin{pmatrix}
            A_{11} & A_{21} & \cdots & A_{n1} \\
            A_{12} & A_{22} & \cdots & A_{n2} \\
            \vdots & \vdots & \ddots & \vdots \\
            A_{1n} & A_{2n} & \cdots & A_{nn}
        \end{pmatrix}$为$A$的\term{伴随矩阵}，其中$A_{ij}$是元素$a_{ij}$的代数余子式.
\end{definition}
我们要特别注意伴随矩阵代数余子式的下标与通常矩阵下标不一致，与转置下标一致. 伴随矩阵具有以下几个重要性质，我们将给出大部分性质的证明，部分性质我们放在朝花夕拾中证明：
\begin{example}{}{伴随矩阵}
    证明下列关于$n$阶矩阵$A$的伴随矩阵$A^*$的性质：
    \begin{enumerate}
        \item \label{item:13:伴随矩阵:1}
              $AA^*=A^*A=|A|E$，若$A$可逆，则有$A^{-1}=|A|^{-1}A^*,\enspace A^*=|A|A^{-1},\enspace (A^*)^{-1}=(A^{-1})^*=|A|^{-1}A$.

        \item $|A^*|=|A|^{n-1}$，无论$A$是否可逆.

        \item \label{item:13:伴随矩阵:3}
              $(AB)^*=B^*A^*,\enspace (A^\mathrm{T})^*=(A^*)^\mathrm{T},\enspace (kA)^*=k^{n-1}A^*$，要求掌握$A$和$B$可逆时的证明，若不可逆则需要使用第二节习题C组中对角占优的推论证明.

        \item $A$可逆时，$(A^*)^*=|A|^{n-2}A,\enspace |(A^*)^*|=|A|^{(n-1)^2}$（本题结论可以推广到更多重的伴随矩阵）.

        \item 对正整数$k$，$(A^k)^*=(A^*)^k$.

        \item $r(A^*)=\begin{cases}
                      n & r(A)=n     \\
                      1 & r(A)=n-1   \\
                      0 & r(A) < n-1
                  \end{cases}$.
    \end{enumerate}
\end{example}

\begin{proof}
    \begin{enumerate}
        \item 由\autoref{eq:13:递归式定义3} 和\autoref{eq:13:递归式定义4}，$AA^*$的第$i$行第$j$列元素为
              \[\sum_{k=1}^{n}a_{ik}A_{kj}=\begin{cases}
                      |A| & i=j      \\
                      0   & i \neq j
                  \end{cases}\]
              因此$AA^*=|A|E$，同理可证$A^*A=|A|E$.

              若$A$可逆，则$|A| \neq 0$，从而由$AA^*=|A|E$可知$A^{-1}=|A|^{-1}A^*$，$A^*=|A|A^{-1}$，$(A^*)^{-1}=|A|^{-1}A$.

              而我们知道$(A^{-1})^*A^{-1}=|A^{-1}|E=|A|^{-1}E$，因此$(A^{-1})^*=|A|^{-1}A$.

        \item 由$AA^*=|A|E$，$|AA^*|=|A||A^*|=|A|^n$，因此$|A^*|=|A|^{n-1}$.

        \item 只证明$A$和$B$可逆的情况，由$A^*=|A|A^{-1}$可知，$(AB)^*=|AB|(AB)^{-1}=|A||B|B^{-1}A^{-1}=B^*A^*$.

              由$(A^\mathrm{T})^*=|A^\mathrm{T}|(A^\mathrm{T})^{-1}=|A|(A^{-1})^\mathrm{T}=(|A|A^{-1})^\mathrm{T}=(A^*)^\mathrm{T}$.

              由$(kA)^*=|kA|(kA)^{-1}=k^n|A|\cdot k^{-1}A^{-1}=k^{n-1}A^*$.

        \item 由$(A^*)^*=|A^*|A^{*-1}$，$|A^*|=|A|^{n-1}$，$(A^*)^{-1}=|A|^{-1}A$，可知$(A^*)^*=|A|^{n-2}A$. 由$|(A^*)^*|=||A|^{n-2}A|^{n-1}=|A|^{n(n-2)+1}=|A|^{(n-1)^2}$.

        \item 由$(A^k)^*=|A^k|(A^k)^{-1}=|A|^k(A^{-1})^k=(|A|A^{-1})^k=(A^*)^k$.

        \item 证明见\autoref{ex:伴随矩阵的秩}.
    \end{enumerate}
\end{proof}

在计算行列式时若出现伴随矩阵，我们经常使用\autoref{ex:伴随矩阵} 中的 \ref*{item:13:伴随矩阵:1}，\ref*{item:13:伴随矩阵:3} 进行计算.

使用伴随矩阵求逆矩阵是一种矩阵求逆的方式，我们通过一个简单的例子复习：
\begin{example}{}{}
    判断矩阵$\begin{pmatrix}
            1 & 2 & 3 \\ 2 & 1 & 2 \\ 1 & 3 & 3
        \end{pmatrix}$是否可逆. 若可逆，利用伴随矩阵求其逆矩阵.
\end{example}

\begin{solution}
    我们使用行列式来判断矩阵是否可逆：设 $A=\begin{pmatrix}
            1 & 2 & 3 \\ 2 & 1 & 2 \\ 1 & 3 & 3
        \end{pmatrix}$，则有 $|A| = 4$，因此 $A$ 可逆.

    接着我们使用伴随矩阵求 $A$ 的逆矩阵. 首先求 $|A|$ 中各元素的代数余子式：

    \[
        A_{11} = \begin{vmatrix}
            1 & 2 \\ 3 & 3
        \end{vmatrix} = -3, \quad
        A_{12} = - \begin{vmatrix}
            2 & 2 \\ 1 & 3
        \end{vmatrix} = -4, \quad
        A_{13} = \begin{vmatrix}
            2 & 1 \\ 1 & 3
        \end{vmatrix} = 5.
    \]

    类似地，我们有
    \begin{gather*}
        A_{21} = 3, \quad A_{22} = 0, \quad A_{23} = -1, \\
        A_{31} = 1, \quad A_{32} = 4, \quad A_{33} = -3,
    \end{gather*}

    由此可得 $A$ 的伴随矩阵 $A^* = \begin{pmatrix}
            A_{11} & A_{21} & A_{31} \\
            A_{12} & A_{22} & A_{32} \\
            A_{13} & A_{23} & A_{33}
        \end{pmatrix} = \begin{pmatrix}
            -3 & 3 & 1 \\
            -4 & 0 & 4 \\
            5 & -1 & -3
        \end{pmatrix}$

    因此，

    \[
        A^{-1} = \dfrac{A^*}{|A|} = \dfrac{1}{4} \begin{pmatrix}
            -3 & 3 & 1 \\
            -4 & 0 & 4 \\
            5 & -1 & -3
            \end{pmatrix}
    \]

\end{solution}

需要注意的是，在矩阵阶数较大时，使用伴随矩阵求逆矩阵需要求解大量的代数余子式，因此我们在实际计算中一般还是采用行变换（列变换）的方法求解逆矩阵.

下面的例子也十分经典，是已知伴随矩阵求原矩阵，需要熟练运用伴随矩阵的性质：
\begin{example}{}{}
    已知 $A^*=\begin{pmatrix}
            1 & -2 & 1 \\ 0 & 2 & -2 \\ -1 & 2 & 1
        \end{pmatrix}$，求 $A$.
\end{example}

\begin{solution}
    不难求得 $|A^*| = 4$，根据伴随矩阵行列式的性质有，$|A^*| = |A|^2$，因此 $|A| = \pm 2$. 若 $|A| = 2$，则根据 $AA^* = |A|E$，有

    \[A^{-1} = |A|^{-1}A^* = \frac{1}{2}\begin{pmatrix}
            1 & -2 & 1 \\ 0 & 2 & -2 \\ -1 & 2 & 1
        \end{pmatrix} = \begin{pmatrix}
            \dfrac{1}{2} & -1 & \dfrac{1}{2} \\ 0 & 1 & -1 \\ -\dfrac{1}{2} & 1 & \dfrac{1}{2}
        \end{pmatrix}.\]

    因此 $A = (A^{-1})^{-1} = \begin{pmatrix}
            3 & 2 & 1 \\ 1 & 1 & 1 \\ 1 & 0 & 1
        \end{pmatrix}$.

    若 $|A| = -2$，则同理可以求得 $A = -\begin{pmatrix}
            3 & 2 & 1 \\ 1 & 1 & 1 \\ 1 & 0 & 1
        \end{pmatrix}$.
\end{solution}

\section{行列式的秩}

\subsection{行列式的秩}

首先我们需要给出矩阵的子式、主子式的定义，然后给出相关的顺序主子式的定义.
\begin{definition}{}{子式、主子式、顺序主子式}
    矩阵$A=(a_{ij})_{n \times n}$的任意$k$行（$i_1<i_2<\cdots<i_k$行）和任意$k$列（$j_1<j_2<\cdots<j_k$列）的交点上的$k^2$个元素排成的行列式
    \[\begin{vmatrix}
            a_{i_1j_1} & a_{i_1j_2} & \cdots & a_{i_1j_k} \\
            a_{i_2j_1} & a_{i_2j_2} & \cdots & a_{i_2j_k} \\
            \vdots     & \vdots     & \ddots & \vdots     \\
            a_{i_kj_1} & a_{i_kj_2} & \cdots & a_{i_kj_k}
        \end{vmatrix}\]
    称为矩阵$A$的一个$k$阶子式，若子式等于0则称$k$阶零子式，否则称非零子式.

    当$A$为方阵且$i_t=j_t\enspace(t=1,2,\ldots,k)$（即选取相同行列）时，称为$A$的$k$阶\term{主子式}\index{zhuzishi@主子式 (principal minor)}. 若$i_t=j_t=t\enspace(t=1,2,\ldots,k)$，称为$A$的$k$阶\term{顺序主子式}\index{zhuzishi!shunxu@顺序主子式 (leading principal minor)}（取前$k$行$k$列的左上角主子式）.
\end{definition}

\begin{example}{}{}
    写出矩阵$\begin{pmatrix}
            1 & 5 & -2 \\ 2 & 3 & 4 \\ -1 & -3 & 0
        \end{pmatrix}$的所有一阶、二阶子式、主子式和顺序主子式.
\end{example}

\begin{solution}
    \begin{enumerate}
        \item 一阶子式：根据子式定义，任意1行1列交点组成的1个元素就是一阶子式，即所有的元素本身都是一阶子式；

        \item 二阶子式：根据子式定义，任意2行2列交点组成的4个元素排成的行列式就是二阶子式，即
              \[\begin{vmatrix}
                      1 & 5 \\
                      2 & 3
                  \end{vmatrix},\begin{vmatrix}
                      1 & -2 \\
                      2 & 4
                  \end{vmatrix},\begin{vmatrix}
                      5 & -2 \\
                      3 & 4
                  \end{vmatrix},\begin{vmatrix}
                      1  & 5  \\
                      -1 & -3
                  \end{vmatrix},\begin{vmatrix}
                      1  & -2 \\
                      -1 & 0
                  \end{vmatrix},\]\[\begin{vmatrix}
                      5  & -2 \\
                      -3 & 0
                  \end{vmatrix},\begin{vmatrix}
                      2  & 3  \\
                      -1 & -3
                  \end{vmatrix},\begin{vmatrix}
                      2  & 4 \\
                      -1 & 0
                  \end{vmatrix},\begin{vmatrix}
                      3  & 4 \\
                      -3 & 0
                  \end{vmatrix};\]

        \item 主子式：根据主子式定义，要求取的行列号相同，故一阶主子式就是1行1列、2行2列、3行3列的元素，二阶主子式就是选取1、2/1、3/2、3行与列构成的子式，即
              \[\begin{vmatrix}
                      1 & 5 \\ 2 & 3
                  \end{vmatrix},\begin{vmatrix}
                      1 & -2 \\ -1 & 0
                  \end{vmatrix},\begin{vmatrix}
                      3 & 4 \\ -3 & 0
                  \end{vmatrix};\]
              三阶主子式就是矩阵本身对应的行列式，不再赘述.

        \item 顺序主子式根据定义，一阶就是第一行第一列的元素，二阶就是前两行前两节元素构成的子式，三阶就是本身的行列式.
    \end{enumerate}
\end{solution}

接下来我们给出行列式的秩的定义.
\begin{definition}{}{}
    矩阵$A$的非零子式的最高阶数$r$称为$A$的行列式秩.
\end{definition}
即矩阵$A$的行列式秩为$r$的含义为$A$至少有一个$r$阶子式不为0，但所有$r+1$阶子式均为0. 事实上，我们可以通过如下定理统一矩阵的秩和行列式秩：
\begin{theorem}{}{行列式秩等于行列式秩}
    矩阵$A$的秩$r(A)=r \iff A$的行列式的秩为$r$.
\end{theorem}
\begin{proof}
    \begin{enumerate}
        \item 先证 $r(A)=r \implies A$ 的行列式秩为 $r$：

            由 $r(A) = r$ 可得 $A$ 的行秩为 $r$，不妨设 $A$ 的前 $r$ 行构成的矩阵 $A_1$ 的行秩为 $r$，其列秩也为 $r$；不妨再设 $A_1$ 的前 $r$ 列向量线性无关. 如此，$A$ 的左上角的 $r$ 阶子块是可逆矩阵，其行列式是 $A$ 的一个 $r$ 阶非零子式；又因为 $A$ 的任意 $r+1$ 个行向量线性相关，因此任意 $r+1$ 阶子式都是零子式. 故 $A$ 的行列式秩为 $r$.

        \item 再证 $A$ 的行列式秩为 $r \implies r(A)=r$：

            不妨设 $A$ 的左上角 $r$ 阶子式 $|A_0|$ 为非零子式. 于是 $A_0$ 可逆，其 $r$ 个行向量线性无关，将它们添分量构成 $A$ 的前 $r$ 个行向量，它们也线性无关；而且此时 $A$ 中任意 $r+1$ 行线性相关（否则 $A$ 中存在 $r+1$ 阶非零子式），故矩阵 $A$ 的行秩为 $r$，即 $r(A)=r$.
    \end{enumerate}
\end{proof}

该定理给出了一个上个专题中矩阵的秩的等价定义. 我们可以这么理解，最高非零子式的阶数实际上就是矩阵行、列向量极大线性无关组的长度（更多行、列向量就会使得子式等于0，此时必不满秩），那么这一定理就很显然了.

\begin{definition}{}{}
    矩阵$A$的非零子式的最高阶数$r$称为矩阵$A$的秩，记为$r(A)$.
\end{definition}

需要注意的是，前面定义的子式、行列式秩等都是对矩阵定义的，原因是行列式虽名为``式''但实际上只是一个数，只有矩阵有形可以定义上述概念.
\begin{example}{}{}
    利用定义求矩阵$\begin{pmatrix}
            1 & 1 & -1 & 3 \\ 1 & 2 & 1 & 1 \\ 2 & 3 & 0 & 4
        \end{pmatrix}$的行列式秩.
\end{example}

\begin{solution}
    记该矩阵为$A$，由于$A$为3行4列矩阵，因此$r(A)\leqslant 3$. 又我们可以发现其三阶子式
    \[\begin{vmatrix}
            1 & -1 & 3 \\ 1 & 1 & 1 \\ 2 & 0 & 4
        \end{vmatrix}=-4\neq 0,\]
    故$r(A)\geqslant 3$，因此$r(A)=3$.
\end{solution}

\subsection{关于秩的总结}

本学期我们一共学习了四个秩的概念：向量组的秩，线性映射的秩，矩阵的秩和行列式的秩. 事实上，我们在很多地方都讨论了它们的统一性：
\begin{enumerate}
    \item 在矩阵的秩的定义以及三秩的统一中体现了向量组的秩（行秩、列秩的定义基于向量组的秩）和线性映射的秩（矩阵的秩的定义基于线性映射的秩）与矩阵的秩的统一；

    \item 在\autoref{thm:行列式秩等于行列式秩} 中统一了矩阵的秩和行列式的秩.
\end{enumerate}
虽然线性映射的秩、矩阵的秩、行列式的秩的定义各不相同，但本质都在于向量组的秩（回顾线性映射的秩的定义，矩阵行秩、列秩的定义，乃至\autoref{thm:行列式秩等于行列式秩} 的证明）. 这给我们的启示是上述提到的概念都可以互相转化考虑. 例如考虑可逆时，我们可以考虑行、列向量是否线性无关/矩阵对应的线性映射是否可逆/行列式是否为0等. 虽然说起来很简单，但是实际做题的时候很多同学还是容易思维局限，因此我们需要将这些概念的统一性放在重要的位置.
\begin{example}{}{}
    求多项式$f(x)=\begin{vmatrix}
            1 & a_1   & a_2     & a_3     \\
            1 & a_1+x & a_2     & a_3     \\
            1 & a_1   & a_2+x+1 & a_3     \\
            1 & a_1   & a_2     & a_3+x+2
        \end{vmatrix}$的所有零点.
\end{example}

\begin{solution}
    事实上，本题可以直接首先展开求出四阶行列式的值然后解方程$f(x)=0$即可，但我们这里使用更为本质的方法. $f(x)=0$实际上就是行列式等于零，即此时$x$使得行列式中两列（或两行）线性相关了. 事实上，我们很容易发现$x=0$时，第一列与第二列成比例，故此时$f(x)=0$成立. 同理，$x=-1$和$x=-2$也是$f(x)=0$的解.

    事实上，我们知道这一行列式展开后是一个次数最高为3的多项式，因此$0,-1,-2$就是$f(x)$的所有零点.
\end{solution}

\begin{summary}

    在这一讲中我们引入了一个重要的工具——行列式. 我们不同于一般教材的逆序数定义（我们将会在史海拾遗中从历史角度介绍这一定义），首先给出了公理化的定义，并且发现行列式事实上就是在描述$n$维空间中物体的体积. 接下来我们也介绍了递归式定义（即按一行一列展开）和逆序数定义，并讨论了行列式的一些性质，介绍了常用的范德蒙行列式，在此基础上也介绍了大量的运算技巧——或许读者能回想起中学时代刷题的感觉. 接下来我们也介绍了伴随矩阵及其大量性质，在性质的证明中希望读者体会这类证明的一般想法. 最后我们讨论了行列式的秩，这也是我们最后一个``秩''的定义，我们讨论了向量组、线性映射、矩阵、行列式的秩的统一性，这也是我们这一学期学习的秩的概念的一个总结，也希望读者能在练习中更深刻体会它们的关联.

    事实上，我们很难说服读者行列式以什么样的方式引入是最为合适的，或许在史海拾遗的历史讲述中我们可能才能窥见行列式诞生的奥秘，那是最为自然的描述，但需要过多的准备以至于可能令人厌烦. 但至少公理化定义是非常简单的，并且有一定的几何背景，由此也直接可以得出行列式大量的优良性质，例如矩阵可逆等价于行列式等于零——这一性质在将来关于线性方程组、特征多项式等的讨论中是核心的.

\end{summary}

\begin{exercise}
    \exquote[约翰·纳皮尔]{我总是尽我的精力和才能来摆脱那种繁重而单调的计算. }

    \begin{exgroup}
        \item 证明：行列式的公理化定义、递归式定义和逆序数定义是等价的.
        \begin{answer}
            \begin{enumerate}
                \item 公理化定义 $\implies$ 递归式定义：

                    先证明一个引理：设 $A=(a_{ij})_{n \times n}$ 中 $a_{in}=0,\enspace i = 1, 2, \ldots, n-1$，则 $|A| = a_{nn} M_{nn} = a_{nn} A_{nn}$.

                    将 $A$ 分块表示为
                    \[
                        A = \begin{pmatrix}
                            A_1             & \mathbf{0} \\
                            \mathbf{\alpha} & a_{nn}
                        \end{pmatrix},
                    \]

                    其中 $|A_1| = M_{nn} = A_{nn}$. 若 $a_{nn} = 0$，则 $A$ 不可逆，$|A| = 0$，引理成立；若 $A_1$ 不可逆，则 $r(A) \leqslant r(A_1) + 1 < n$，故 $A$ 不可逆，$|A| = 0$，引理亦成立；若 $a_{nn} \neq 0$ 且 $A_1$ 可逆，则对 $A$ 作倍加列变换，有
                    \[
                        |A| = \begin{vmatrix}
                            A_1             & \mathbf{0} \\
                            \mathbf{0}      & a_{nn}
                        \end{vmatrix}.
                    \]

                    再对 $A$ 作倍加行变换，将 $A_1$ 化为上三角矩阵 $B_1$，且有 $|B_1| = |A_1| = M_{nn}$，此时有
                    \[
                        |A| = \begin{vmatrix}
                            B_1             & \mathbf{0} \\
                            \mathbf{0}      & a_{nn}
                        \end{vmatrix} = a_{nn} B_1 = a_{nn} M_{nn}.
                    \]

                    上式成立是因为上三角矩阵的行列式等于其对角线元素之积.

                    下面我们来通过公理化定义推出递归式定义. 我们先推导行列式 $D=|a_{ij}|_{n \times n}$ 对第 $j$ 列元素的展开式：

                    令 $\alpha_j$ 为 $A$ 中第 $j$ 列的元素，则由公理化定义可得
                    \begin{align*}
                        D &= D(\alpha_1, \alpha_2, \ldots, \alpha_j, \ldots, \alpha_n) \\
                          &= D(\alpha_1, \alpha_2, \ldots, \sum_{i=1}^n a_{ij} e_i, \ldots, \alpha_n) \\
                          &= \sum_{i=1}^n D(\alpha_1, \alpha_2, \ldots, a_{ij} e_i, \ldots, \alpha_n).
                    \end{align*}
                    对于上式中的第 $i$ 项 $D_i$，我们将第 $j$ 列依次与第 $j+1, j+2, \ldots, n$ 列对换，再将第 $i$ 行依次与第 $i+1, i+2, \ldots, n$ 行对换，于是有
                    \[
                        D_i = (-1)^{2n-i-j} \begin{vmatrix}
                            a_{11}     & \cdots & a_{1, j-1}   & a_{1, j+1}   & \cdots & a_{1n}     & 0      \\
                            \vdots     &        &              &              &        &            & \vdots \\
                            a_{i-1, 1} & \cdots & a_{i-1, j-1} & a_{i-1, j+1} & \cdots & a_{i-1, n} & 0      \\
                            a_{i+1, 1} & \cdots & a_{i+1, j-1} & a_{i+1, j+1} & \cdots & a_{i+1, n} & 0      \\
                            \vdots     &        &              &              &        &            & \vdots \\
                            a_{n1}     & \cdots & a_{n, j-1}   & a_{n, j+1}   & \cdots & a_{nn}     & 0      \\
                            a_{i1}     & \cdots & a_{i, j-1}   & a_{i, j+1}   & \cdots & a_{in}     & a_{ij}
                        \end{vmatrix} = \begin{vmatrix}
                            A_1         & 0      \\
                            \alpha_{ij} & a_{ij}
                        \end{vmatrix}.
                    \]

                    根据引理，我们有
                    \[
                        D_i = (-1)^{2n-i-j} a_{ij} |A_1| = (-1)^{i+j} a_{ij} M_{ij} = a_{ij} A_{ij}.
                    \]

                    由此可得行列式的递推式定义：
                    \[
                        D = \sum_{i=1}^n D_i = \sum_{i=1}^n a_{ij} A_{ij}.
                    \]

                \item 递归式定义 $\implies$ 公理化定义：
                    \begin{enumerate}
                        \item （线性性）直接将公理化定义用递归式对第$i$列展开：
                            \begin{align*}
                                    & D(\alpha_1,\ldots,\lambda\alpha_{i}+\mu\beta_i,\ldots,\alpha_n)                                      \\
                                ={} & \sum_{k=1}^{n}(\lambda a_{ki}+\mu b_{ki})A_{ki}                                                      \\
                                ={} & \lambda \cdot \sum_{k=1}^{n}a_{ki}A_{ki}+\mu \cdot \sum_{k=1}^{n}b_{ki}A_{ki}                        \\
                                ={} & \lambda D(\alpha_1,\ldots,\alpha_{i},\ldots,\alpha_n)+\mu D(\alpha_1,\ldots,\beta_i,\ldots,\alpha_n),
                            \end{align*}
                            则线性性得证.

                        \item （反对称性）使用数学归纳法证明. 显然，$D(\alpha_1,\alpha_2)=-D(\alpha_2,\alpha_1)$，然后做出归纳假设：对于任意正整数$i,j$，$1 \leqslant i, j \leqslant n - 1$且$i \neq j$，有：
                            \[ D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_{n-1})=-D(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_i,\ldots,\alpha_{n-1}). \]
                            由此做出递推，对交换前后的行列式的首行做展开：
                            \begin{gather*}
                                D(\alpha_1,\ldots,\alpha_{i},\ldots,\alpha_{j},\ldots,\alpha_n)
                                 =\sum_{k=1}^{n}a_{1k}A_{1k},   \\
                                D(\alpha_1,\ldots,\alpha_{j},\ldots,\alpha_{i},\ldots,\alpha_n)
                                 =\sum_{k=1}^{n}a'_{1k}A'_{1k}.
                            \end{gather*}
                            其中，除第$i,j$项外，由归纳假设，其余项都满足$a_{1k}=a'_{1k},A_{1k}=-A'_{1k}$，则有$a_{1k}A_{1k}=-a'_{1k}A'_{1k},k\neq i,j$. 因此主要考察$a_{1i}A_{1i}+a_{1j}A_{1j}$与$a'_{1i}A'_{1i}+a'_{1j}A'_{1j}$这两项. 首先有$a'_{1i}=a_{1j},a'_{1j}=a_{1i}$. 然后将$A_{1i}$与$A'_{1j}$两项展开对比：
                            \begin{align*}
                                A_{1i}  & =(-1)^{1+i} D(\beta_{1},\ldots,\beta_{i-1},\beta_{i+1},\ldots,\beta_{j},\ldots,\beta_{n}),                             \\
                                A'_{1j} & =(-1)^{1+j} D(\beta_{1},\ldots,\beta_{i-1},\beta_{j},\beta_{i+1},\ldots,\beta_{j-1},\beta_{j+1},\ldots,\beta_{n}).
                            \end{align*}
                            式中的$\beta_k$表示原列向量 $\alpha_k$ 去掉首行元素后剩余$n-1$个元素组成的新列向量. 可以发现，$A'_{1j}$向左交换$j-(i+1)$次后与$A_{1i}$是绝对值一致的. 则根据归纳假设，有$(-1)^{j-(i+1)}A'_{1j}=(-1)^{1+j-(1+i)}A_{1i}$，即有$A'_{1j}=-A_{1i}$，所以$a_{1i}A_{1i}+a_{1j}A_{1j}=-(a'_{1j}A'_{1j}+a'_{1i}A'_{1i})$. 综上可证：
                            \[ D(\alpha_1,\ldots,\alpha_{i},\ldots,\alpha_{j},\ldots,\alpha_n)=D(\alpha_1,\ldots,\alpha_{j},\ldots,\alpha_{i},\ldots,\alpha_n). \]

                        \item （规范性）
                            \[
                                |E_n| = \begin{vmatrix}
                                    E_{n-1}    & \mathbf{0} \\
                                    \mathbf{0} & 1
                                \end{vmatrix} = |E_{n-1}| = \cdots = |E_1| = 1.
                            \]
                    \end{enumerate}

                \item 公理化定义 $\implies$ 逆序数定义：见本章``逆序数定义''部分的推导.

                \item 逆序数定义 $\implies$ 公理化定义：
                    \begin{enumerate}
                        \item （线性性）使用逆序数定义对行列式进行展开：
                            \begin{align*}
                                & D(\alpha_1, \ldots , \lambda\alpha_i + \mu\beta_i, \ldots, \alpha_n) \\
                                ={} & \sum_{(k_1, k_2, \ldots, k_n) \in S_n} (-1)^{\varepsilon} a_{k_1 1} \cdots a_{k_{i-1},i-1} (\lambda a_{k_i i} + \mu b_{k_i i}) a_{k_{i+1},i+1} \cdots a_{k_n n} \\
                                ={} & \lambda \left(\sum_{(k_1, k_2, \ldots, k_n) \in S_n} (-1)^{\varepsilon} a_{k_1 1} \cdots a_{k_{i-1},i-1} a_{k_i i} a_{k_{i+1},i+1} \cdots a_{k_n n} \right) + \\
                                 {} & \mu \left(\sum_{(k_1, k_2, \ldots, k_n) \in S_n} (-1)^{\varepsilon} a_{k_1 1} \cdots a_{k_{i-1},i-1} b_{k_i i} \cdots a_{k_n n}\right) \\
                                ={} & \lambda D(\alpha_1, \ldots, \alpha_i, \ldots, \alpha_n) + \mu D(\alpha_1, \ldots, \beta_i, \ldots, \alpha_n),
                            \end{align*}
                            其中 $\varepsilon = \tau(k_1, k_2, \ldots, k_n)$ 表示排列 $(k_1, k_2, \ldots, k_n)$ 的逆序数.

                        \item （反对称性）对于 $D(\alpha_1, \ldots, \alpha_i, \ldots, \alpha_j, \ldots, \alpha_n)$ 逆序数定义展开式中的任意一项
                            \[
                                (-1)^{\tau(k_1, \ldots, k_i, \ldots, k_j, \ldots, k_n)} a_{k_1 1} \cdots a_{k_i i} \cdots a_{k_j j} \cdots a_{k_n n},
                            \]

                            其可以对应 $D(\alpha_1, \ldots, \alpha_j, \ldots, \alpha_i, \ldots, \alpha_n)$ 逆序数定义展开式中的一项
                            \[
                                (-1)^{\tau(k_1, \ldots, k_j, \ldots, k_i, \ldots, k_n)} a_{k_1 1} \cdots a_{k_j j} \cdots a_{k_i i} \cdots a_{k_n n}.
                            \]

                            而排列 $(k_1, \ldots, k_i, \ldots, k_j, \ldots, k_n)$ 与 $(k_1, \ldots, k_j, \ldots, k_i, \ldots, k_n)$ 的奇偶性必定相反，故以上两个对应项为相反数，因此有
                            \[
                                D(\alpha_1, \ldots, \alpha_j, \ldots, \alpha_i, \ldots, \alpha_n) = -D(\alpha_1, \ldots, \alpha_i, \ldots, \alpha_j, \ldots, \alpha_n).
                            \]

                        \item （规范性）$E_n$ 的逆序数定义展开式中只有一项
                            \[
                                (-1)^{\tau(1, 2, \ldots, n)} a_{11} a_{22} \cdots a_{nn}
                            \]
                            不为零，故 $|E_n| = 1$.
                    \end{enumerate}
            \end{enumerate}
        \end{answer}

        \item 设$\alpha_1,\alpha_2,\alpha_3$为三维列向量，令$A=(\alpha_1,\alpha_2,\alpha_3)$，且$|A|=2$，求$|\alpha_1+\alpha_2+\alpha_3,\alpha_1+3\alpha_2+9\alpha_3,\alpha_1+4\alpha_2+16\alpha_3|$.
        \begin{answer}
            使用倍加列变换的性质，可得$|\alpha_1+\alpha_2+\alpha_3,\alpha_1+3\alpha_2+9\alpha_3,\alpha_1+4\alpha_2+16\alpha_3|=6|\alpha_1,\alpha_2,\alpha_3|=12$.
        \end{answer}

        \item 求证以下命题：
        \begin{enumerate}
            \item 奇数阶反对称矩阵不可逆；

            \item 若$A$是$n$阶可逆对称矩阵，$B$是$n$阶反对称矩阵，则当$n$为奇数时，齐次线性方程组$(AB)X=O$有非零解.
        \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item 首先由反对称矩阵的性质，有$A^T=-A$，其次由矩阵与行列式的性质，可得$|A^T|=|A|$，则可推出$|A|=|-A|=(-1)^n|A|$，又n为奇数，故$|A|=0$，矩阵$A$不可逆.

                \item 只需证明$AB$的秩小于$n$，即$|AB|=0$即可. $B$是奇数阶反对称矩阵，$|B|=0$,则$|AB|=|A||B|=0$得证.
            \end{enumerate}
        \end{answer}

        \item 设$A$、$B$分别为$m$、$n$阶可逆矩阵，且$|A|=a$，$|B|=b$，求$\begin{pmatrix}
                A & O \\ O & B
            \end{pmatrix}^*$和$\begin{pmatrix}
                O & A \\ B & O
            \end{pmatrix}^*$.
        \begin{answer}
            根据伴随矩阵的性质，$\begin{pmatrix}
                A & O \\ O & B
            \end{pmatrix}^* = \begin{vmatrix}
                A & O \\ O & B
            \end{vmatrix} \cdot \begin{pmatrix}
                A & O \\ O & B
            \end{pmatrix}^{-1}$. 其中，对$\begin{vmatrix}
                A & O \\ O & B
            \end{vmatrix}$做递归式展开，有$\begin{vmatrix}
                A & O \\ O & B
            \end{vmatrix}=\displaystyle\sum_{k=1}^{m}(-1)^{1+k}a_{1k}\begin{vmatrix}
                M_{1k} & O \\ O & B
            \end{vmatrix}$，依此逐次展开可得$\begin{vmatrix}
                A & O \\ O & B
            \end{vmatrix}=|A||B|=ab$. 又$ab\begin{pmatrix}
                A & O \\ O & B
            \end{pmatrix}^{-1}=ab\begin{pmatrix}
                A^{-1} & O \\ O & B^{-1}
            \end{pmatrix}=\begin{pmatrix}
                b\cdot aA^{-1} & O \\ O & a\cdot bB^{-1}
            \end{pmatrix}$，最终可得$\begin{pmatrix}
                A & O \\ O & B
            \end{pmatrix}^* = \begin{pmatrix}
                bA^* & O \\ O & aB^*
            \end{pmatrix}$.

            与前一个式子的展开类似，$\begin{pmatrix}
                    O & A \\ B & O
                \end{pmatrix}^*=\begin{vmatrix}
                    O & A \\ B & O
                \end{vmatrix}\cdot \begin{pmatrix}
                    O & A \\ B & O
                \end{pmatrix}^{-1}$，其中对前一步推导做少量修正后可得$\begin{vmatrix}
                    O & A \\ B & O
                \end{vmatrix}=(-1)^{mn}|A||B|=(-1)^{mn}ab$,则$(-1)^{mn}ab\begin{pmatrix}
                    O & A \\ B & O
                \end{pmatrix}^{-1}=(-1)^{mn}\begin{pmatrix}
                    O & a\cdot bB^{-1} \\ b\cdot aA^{-1} & O
                \end{pmatrix}$，最终可得$\begin{pmatrix}
                    O & A \\ B & O
                \end{pmatrix}^*=(-1)^{mn}\begin{pmatrix}
                    O & aB^* \\ bA^* & O
                \end{pmatrix}$.
        \end{answer}

        \item 证明：
        \begin{enumerate}
            \item 若$A$为幂等矩阵，则$A^*$也为幂等矩阵；$A$为幂零矩阵，则$A^*$也为幂零矩阵；

            \item 若$A$为对称矩阵，则$A^*$也为对称矩阵；$A$为反对称矩阵，则$A^*$为偶数阶时也为反对称矩阵，奇数阶时为对称矩阵.
        \end{enumerate}
        \begin{answer}
            证明；\begin{enumerate}
                \item 对正整数$k$，有$(A^k)^*=(A^*)^k$. 从而若$A^m=A$，则$(A^*)^m=(A^m)^*=A^*$. 即$A$是幂等矩阵，则$A^*$也是幂等矩阵. 同样，若$A^m=0$，则$(A^*)^m=(A^m)^*=0$. 即$A$是幂零矩阵，则$A^*$也是幂零矩阵.

                \item $(A^*)^T=(A^T)^*=A^*$. 从而若$A$是对称矩阵，则$A^*$也是对称矩阵$. (A^*)^T=(A^T)^*=(-A)^*=(-1)^{n-1}A^*$. 从而若$A^*$为偶数阶时也为反对称矩阵，奇数阶时为对称矩阵.
            \end{enumerate}
        \end{answer}

        \item 证明：上（下）三角矩阵的伴随矩阵是上（下）三角矩阵（对角矩阵为特例）.
        \begin{answer}
            对于上三角矩阵，只需看其伴随矩阵的下半部分元素，即$A_{ij},j>i$. 对这些代数余子式，要么有一整行或整列为零，要么对角线存在零元素，则这些余子式均为零，伴随矩阵是上三角矩阵.\par 或者使用另法，当$A$是可逆矩阵，即$A$对角线元素不为零，则$A^*=|A|\cdot A^{-1}$，其中$A^{-1}$也是上三角矩阵，因此伴随矩阵$A^*$是上三角矩阵.
        \end{answer}

        \item 设$A$为$n$阶方阵，证明：若$|A|=0$，则$A$中任意两行（列）对应元素的代数余子式成比例.
        \begin{answer}
            $|A|=0$，则$r(A)<n$，故$r(A^*)=\begin{cases}
                1, & r(A)=n-1 \\
                0, & r(A)<n-1
            \end{cases}$. 当$r(A^*)=0$时，答案显然成立；当$r(A^*)=1$时，由矩阵秩的定义，任意两行（列）必成比例，否则秩大于1，矛盾. 综上，原题得证.
        \end{answer}

        \item 设向量$\alpha_1,\alpha_2,\alpha_3$线性无关，讨论向量$\alpha_1-\alpha_2-2\alpha_3,\ 2\alpha_1+\alpha_2-\alpha_3,\ 3\alpha_1+\alpha_2+2\alpha_3$的线性相关性.
        \begin{answer}
            $(\alpha_1-\alpha_2-2\alpha_3,2\alpha_1+\alpha_2-\alpha_3,3\alpha_1+\alpha_2+2\alpha_3)=(\alpha_1,\alpha_2,\alpha_3)\begin{pmatrix}
                1 & 2 & 3 \\ -1 & 1 & 1 \\ -2 & -1 & 2
            \end{pmatrix}$，又$\begin{vmatrix}
                1 & 2 & 3 \\ -1 & 1 & 1 \\ -2 & -1 & 2
            \end{vmatrix}=12\neq 0$，因此该矩阵可逆，则$(\alpha_1-\alpha_2-2\alpha_3,2\alpha_1+\alpha_2-\alpha_3,3\alpha_1+\alpha_2+2\alpha_3)$与$(\alpha_1,\alpha_2,\alpha_3)$秩相等，因此这三个向量线性无关.
        \end{answer}

        \item 设$W=\spa(\alpha_1,\alpha_2)$是$\mathbf{R}^4$的一个子空间，其中$\alpha_1=(1,2,1,-1)^\mathrm{T}$，$\alpha_2=(1,4,-1,-1)^\mathrm{T}$，试将$\alpha_1,\alpha_2$扩充为$\mathbf{R}^4$的基.
        \begin{answer}
            只要取$\alpha_3,\alpha_4 \in \mathbf{R}^4$，使得$D(\alpha_1,\alpha_2,\alpha_3,\alpha_4) \neq 0$即可. 易得$\begin{vmatrix}
                1  & 1  & 0 & 0 \\
                2  & 4  & 0 & 0 \\
                1  & -1 & 1 & 0 \\
                -1 & 1  & 0 & 1
            \end{vmatrix}=\begin{vmatrix}
                1 & 1 \\
                2 & 4
            \end{vmatrix} \cdot \begin{vmatrix}
                1 & 0 \\
                0 & 1
            \end{vmatrix}=2 \neq 0$. 于是可取$\alpha_3=(0,0,1,0)^T,\alpha_4=(0,0,0,1)^T$，能使得${\alpha_1,\alpha_2,\alpha_3,\alpha_4}$为$\mathbf{R}^4$的一组基.
        \end{answer}

        \item $ D_n=\begin{vmatrix}
                1      & 2      & 3      & 4      & \cdots & n-1    & n      \\
                x      & 1      & 2      & 3      & \cdots & n-2    & n-1    \\
                x      & x      & 1      & 2      & \cdots & n-3    & n-2    \\
                x      & x      & x      & 1      & \cdots & n-4    & n-3    \\
                \vdots & \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                x      & x      & x      & x      & \cdots & 1      & 2      \\
                x      & x      & x      & x      & \cdots & x      & 1      \\
            \end{vmatrix}$（提示：考虑滚动消去法）.
        \begin{answer}
            考虑滚动消去法，每行减下一行，得
            \[ \begin{vmatrix}
                    1-x    & 1      & 1      & 1      & \ldots & 1      & 1      \\
                    0      & 1-x    & 1      & 1      & \ldots & 1      & 1      \\
                    0      & 0      & 1-x    & 1      & \ldots & 1      & 1      \\
                    0      & 0      & 0      & 1-x    & \ldots & 1      & 1      \\
                    \vdots & \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                    0      & 0      & 0      & 0      & \ldots & 1-x    & 1      \\
                    x      & x      & x      & x      & \ldots & x      & 1      \\
                \end{vmatrix}. \]
            第一行乘$(-x)$到第$n$行，得
            \[\begin{vmatrix}
                    1-x    & 1      & 1      & 1      & \ldots & 1      & 1      \\
                    0      & 1-x    & 1      & 1      & \ldots & 1      & 1      \\
                    0      & 0      & 1-x    & 1      & \ldots & 1      & 1      \\
                    0      & 0      & 0      & 1-x    & \ldots & 1      & 1      \\
                    \vdots & \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                    0      & 0      & 0      & 0      & \ldots & 1-x    & 1      \\
                    x^2    & 0      & 0      & 0      & \ldots & 0      & 1-x    \\
                \end{vmatrix}.\]
            按第$n$行展开，得$D_n=(1-x)^n+(-1)^{n+1}x^2T_{n-1}$，其中
            \[T_{n-1}=\begin{vmatrix}
                    1      & 1      & 1      & \ldots & 1      & 1      \\
                    1-x    & 1      & 1      & \ldots & 1      & 1      \\
                    0      & 1-x    & 1      & \ldots & 1      & 1      \\
                    \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                    0      & 0      & 0      & \ldots & 1      & 1      \\
                    0      & 0      & 0      & \ldots & 1-x    & 1      \\
                \end{vmatrix}.\]
            按第$n-1$行展开$T_{n-1}$，有$T_{n-1}=T_{n-2}+(-1)(1-x)T_{n-2}=xT_{n-2}$. 由$T_2=\begin{vmatrix}
                    1&1\\1-x&1\end{vmatrix}=x$，递推得$T_{n-1}=x^{n-2}$. 代入可解得$D_n=(1-x)^n-(-x)^n$.
        \end{answer}

        \item $ D_n=\begin{vmatrix}
                a_1 & b_1 &     &        &         \\
                    & a_2 & b_2 &        &         \\
                    &     & a_3 & \ddots &         \\
                    &     &     & \ddots & b_{n-1} \\
                b_n &     &     &        & a_n
            \end{vmatrix}$.
        \begin{answer}
            按第一列展开，得$D_n=\displaystyle\prod_{i=1}^na_i+(-1)^{n+1}\prod_{i=1}^nb_i$.
        \end{answer}

        \item $D_n=\begin{vmatrix}
                a+b & ab  &        &     &     \\
                1   & a+b & \ddots &     &     \\
                    & 1   & \ddots & ab  &     \\
                    &     & \ddots & a+b & ab  \\
                    &     &        & 1   & a+b \\
            \end{vmatrix}$.
        \begin{answer}
            按第一列展开，得
            \begin{align*}
                D_{n} & =(a+b) D_{n-1}-\begin{vmatrix}
                                            a b    & 0      & 0      & 0   & \cdots & 0      & 0      \\
                                            1      & a+b    & a b    & 0   & \cdots & 0      & 0      \\
                                            0      & 1      & a+b    & a b & \cdots & 0      & 0      \\
                                            \vdots & \vdots & \vdots & a+b & \ddots & \vdots & \vdots \\
                                            0      & 0      & 0      & 0   & \cdots & a+b    & a b    \\
                                            0      & 0      & 0      & 0   & \cdots & 1      & a+b
                                        \end{vmatrix} \\
                        & =(a+b) D_{n-1}-a b D_{n-2}.
            \end{align*}
            \begin{enumerate}
                \item 方法一：特征方程法. 有特征方程$r^2-(a+b)r+ab=(r-a)(r-b)=0$，先考虑$a\neq b$，则$D_n=C_1a^n+C_2b^n$，$D_{1}=a+b$，$D_{2}=a^{2}+a b+b^{2}$，则有
                        \[\begin{cases}
                                C_1a+C_2b=a+b \\
                                C_1a^2+C_2b^2=a^2+ab+b^2
                            \end{cases},\]
                        考虑Cramer法则，首先判断系数行列式$\begin{vmatrix}
                                a   & b   \\
                                a^2 & b^2
                            \end{vmatrix}=ab(b-a)$，若$a=b=0$，原行列式为0；若$a=0,b\neq 0$，则有$C_2=1$，$D_n=b^n$；同理若$a=0,b\neq 0$，$D_n=a^n$. 考虑$a\neq 0,b\neq 0$，则系数行列式非0，根据Cramer法则可以解得
                        \[C_1=\frac{\begin{vmatrix}
                                    a+b        & b   \\
                                    a^2+ab+b^2 & b^2
                                \end{vmatrix}}{ab(b-a)}=\frac{a}{a-b},\quad
                            C_2=\frac{\begin{vmatrix}
                                    a   & a+b        \\
                                    a^2 & a^2+ab+b^2
                                \end{vmatrix}}{ab(b-a)}=-\frac{b}{a-b}.\]
                        故$D_n=\displaystyle\frac{a^{n+1}-b^{n+1}}{a-b}$. 考虑到$a$或$b$为0时也符合该公式，故合并为同一公式. 再考虑$a=b$，则$D_n=(C_1+C_2n)a^n$，有方程
                        \[\begin{cases}
                                (C_1+C_2)a=2a \\
                                (C_1+2C_2)a^2=3a^2
                            \end{cases},\]
                        $a=0$，则$D_n=0$；$a\neq 0$，可以解得$C_1=C_2=1$，有$D_n=(n+1)a^n$. 考虑到$a=0$时$D_n$也符合该式，故合并. 综上有
                        \[D_n=\begin{cases}
                                \displaystyle\frac{a^{n+1}-b^{n+1}}{a-b}, & a\neq b \\
                                (n+1)a^n,                                 & a=b
                            \end{cases}.\]

                \item 方法二：递推式变形法. 递推式变形, 得
                        \[\mathrm{D}_{n}-a D_{n-1}=b\left(D_{n-1}-a D_{n-2}\right),\]
                        由于 $D_{1}=a+b, D_{2}=a^{2}+a b+b^{2}$,从而利用上述递推公式得
                        \begin{align*}
                            \mathrm{D}_{n}-a D_{n-1} & =b\left(D_{n-1}-a D_{n-2}\right)                \\
                                                    & =b^{2}\left(D_{n-2}-a D_{n-3}\right)            \\
                                                    & =\cdots=b^{n-2}\left(D_{2}-a D_{1}\right)=b^{n}.
                        \end{align*}
                        故\begin{align*}
                            D_{n} & =a D_{n-1}+b^{n}=a\left(a D_{n-2}+b^{n-1}\right)+b^{n}     \\
                                  & =\cdots=a^{n-1} D_{1}+a^{n-2} b^{2}+\cdots+a b^{n-1}+b^{n} \\
                                  & =a^{n}+a^{n-1} b+\cdots+a b^{n-1}+b^{n}                    \\
                                  & =\begin{cases}
                                        \displaystyle\frac{a^{n+1}-b^{n+1}}{a-b}, & a\neq b \\
                                        (n+1)a^n,                                 & a=b
                                     \end{cases}.
                        \end{align*}
            \end{enumerate}
        \end{answer}

        \item 用递推法解\autoref{ex:递推法}.
        \begin{answer}
            与数归法相同，先得到 $D_n$ 的递推式：
            \[
                D_n - 2 \cos \beta D_{n-1} + D_{n-2} = 0,
            \]
            其中 $D_1 = \cos \beta, \enspace D_2 = \cos 2\beta$.

            现求其特征方程
            \[
                \lambda^2 - 2 \lambda \cos \beta + 1 = 0
            \]
            的根，有
            \[
                \lambda = 2 \cos \beta \pm 2 \mathrm{i} \sin \beta.
            \]
            故令
            \[
                D_n = C_1 \cos n\beta + C_2 \sin n\beta,
            \]
            代入初值，有
            \[
                \begin{cases}
                    C_1 \cos \beta + C_2 \sin \beta = \cos \beta, \\
                    C_1 \cos 2\beta + C_2 \sin 2\beta = \cos 2\beta.
                \end{cases}
            \]
            易知 $C_1 = 1, C_2 = 0$ 为其解，故 $D_n = \cos n\beta$.
        \end{answer}

        \item 解行列式 $ \begin{vmatrix}
                a^{2} & (a+1)^{2} & (a+2)^{2} & (a+3)^{2} \\
                b^{2} & (b+1)^{2} & (b+2)^{2} & (b+3)^{2} \\
                c^{2} & (c+1)^{2} & (c+2)^{2} & (c+3)^{2} \\
                d^{2} & (d+1)^{2} & (d+2)^{2} & (d+3)^{2}
            \end{vmatrix} $.
        \begin{answer}
            \begin{enumerate}
                \item 方法一：慢慢消去.
                      \begin{align*}
                          \begin{vmatrix}
                              a^{2} & (a+1)^{2} & (a+2)^{2} & (a+3)^{2} \\
                              b^{2} & (b+1)^{2} & (b+2)^{2} & (b+3)^{2} \\
                              c^{2} & (c+1)^{2} & (c+2)^{2} & (c+3)^{2} \\
                              d^{2} & (d+1)^{2} & (d+2)^{2} & (d+3)^{2}
                          \end{vmatrix}
                           & = \begin{vmatrix}
                                   a^{2} & 2a+1 & 4a+4 & 6a+9 \\
                                   b^{2} & 2b+1 & 4b+4 & 6b+9 \\
                                   c^{2} & 2c+1 & 4c+4 & 6c+9 \\
                                   d^{2} & 2d+1 & 4d+4 & 6d+9
                               \end{vmatrix} \\
                           & = \begin{vmatrix}
                                   a^{2} & 2a+1 & 4a+4 & 4 \\
                                   b^{2} & 2b+1 & 4b+4 & 4 \\
                                   c^{2} & 2c+1 & 4c+4 & 4 \\
                                   d^{2} & 2d+1 & 4d+4 & 4
                               \end{vmatrix}    \\
                           & = 4\begin{vmatrix}
                                    a^{2} & 2a & 4a & 1 \\
                                    b^{2} & 2b & 4b & 1 \\
                                    c^{2} & 2c & 4c & 1 \\
                                    d^{2} & 2d & 4d & 1
                                \end{vmatrix}=0.
                      \end{align*}

                \item 关注到行列式中只有$(a^2, b^2, c^2, d^2)^\mathrm{T}, (a, b, c, d)^\mathrm{T}$和$(1, 1, 1, 1)^\mathrm{T}$三个线性无关列向量，则一眼看出线性相关. 因此设原行列式为$|\alpha_1, \alpha_2, \alpha_3, \alpha_4|$，有$\alpha_4=\alpha_1-3\alpha_2+3\alpha_3$，因此原行列式值为0.
            \end{enumerate}
        \end{answer}

        \item 设
        \[ D=\begin{vmatrix}
                1+a_1  & 1      & \cdots & 1      \\
                1      & 1+a_2  & \cdots & 1      \\
                \vdots & \vdots & \ddots & \vdots \\
                1      & 1      & \cdots & 1+a_n
            \end{vmatrix} \]
        \begin{enumerate}
            \item 用递推公式计算行列式$D$；

            \item 硬拆$D$为$2^n$个行列式，计算出结果.
        \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item \begin{align*}
                          D_n & =\begin{vmatrix}
                                     D_{n-1} & a   \\
                                     b       & a_n
                                 \end{vmatrix},a=(0, \ldots, 0, -a_{n-1})^\mathrm{T}, b=(1, \ldots, 1) \\
                              & =a_nD_{n-1}+a_{n-1}\begin{vmatrix}
                                                       D_{n-2} & 1_{n-2} \\
                                                       1_{n-2} & 1
                                                   \end{vmatrix}
                          \quad \text{($1_{n-2}$表示由$(n-2)$个1构成的行/列向量)}                      \\
                              & =a_nD_{n-1}+a_{n-1}
                          \begin{vmatrix}
                              a_1    & 0      & 0      & \ldots & 0       & 1      \\
                              0      & a_2    & 0      & \ldots & 0       & 1      \\
                              0      & 0      & a_3    & \ldots & 0       & 1      \\
                              \vdots & \vdots & \vdots & \ddots & \vdots  & \vdots \\
                              0      & 0      & 0      & \ldots & a_{n-2} & 1      \\
                              0      & 0      & 0      & \ldots & 0       & 1      \\
                          \end{vmatrix} \quad \text{($1-n$列用第$n$列减)}                         \\
                              & =a_nD_{n-1}+\prod_{i=1}^{n-1}a_i.
                      \end{align*}
                      递推可得$\displaystyle D_n=\left(\prod_{k=1}^na_k\right)
                          \left(1+\sum_{i=1}^n\frac{1}{a_i}\right)$.

                \item 将 1 写成 $1+0$, 将 $D$ 硬拆成 $2^{n}$ 个行列式, 只有如下的 $n+1$ 个行列式非 0：
                      \begin{align*}
                          D_n = & \begin{vmatrix}
                                      1      &       &        &       \\
                                      1      & a_{2} &        &       \\
                                      \vdots &       & \ddots &       \\
                                      1      &       &        & a_{n}
                                  \end{vmatrix}
                          +\begin{vmatrix}
                               a_{1} & 1      &                \\
                                     & 1      &                \\
                                     & \vdots & \ddots &       \\
                                     & 1      &        & a_{n}
                           \end{vmatrix}+\cdots+                    \\
                                & \begin{vmatrix}
                                      a_{1} &       &        & 1      \\
                                            & a_{2} &        & 1      \\
                                            &       & \ddots & \vdots \\
                                            &       &        & 1
                                  \end{vmatrix}
                          +\begin{vmatrix}
                               a_{1} &                      \\
                                     & a_{2} &              \\
                                     &       & \ddots &     \\
                                     &       &        & a_n
                           \end{vmatrix}                       \\
                          =     & \left(\prod_{k=1}^{n} a_{k}+\frac{1}{a_{2}}
                          \prod_{k=1}^{n} a_{k}\right)\left(1+\sum_{i=1}^{n} \frac{1}{a_{i}}\right).
                      \end{align*}
            \end{enumerate}
        \end{answer}

        \item 解行列式
        \begin{enumerate}
            \item $D=\begin{vmatrix}
                          1      & 2      & \cdots & 2      & 2      \\
                          2      & 2      & \cdots & 2      & 2      \\
                          \vdots & \vdots & \ddots & \vdots & \vdots \\
                          2      & 2      & \cdots & n-1    & 2      \\
                          2      & 2      & \cdots & 2      & n\end{vmatrix}$；

            \item $D=\begin{vmatrix}
                          1      & 2      & \cdots & n-1    & n      \\
                          2      & 3      & \cdots & n      & 1      \\
                          3      & 4      & \cdots & 1      & 2      \\
                          \vdots & \vdots & \ddots & \vdots & \vdots \\
                          n      & 1      & \cdots & n-2    & n-1
                      \end{vmatrix}$.
        \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item 行列式中2比较多，用全是2的第二行去消，然后按第2行展开.
                      \[D=\begin{vmatrix}
                              -1     & 0      & \cdots & 0      & 0      \\
                              2      & 2      & \cdots & 2      & 2      \\
                              \vdots & \vdots & \ddots & \vdots & \vdots \\
                              0      & 0      & \cdots & n-3    & 0      \\
                              0      & 0      & \cdots & 0      & n-2
                          \end{vmatrix}=2\cdot(-1)\cdot(n-2)!=-2(n-2)!.\]

                \item \begin{enumerate}
                          \item 方法一：考虑滚动消去法，有
                                \begin{align*}
                                    D & =\begin{vmatrix}
                                             1      & 2      & 3      & \cdots & n-1    & n      \\
                                             1      & 1      & 1      & \cdots & 1      & 1-n    \\
                                             1      & 1      & 1      & \cdots & 1-n    & 1      \\
                                             \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                                             1      & 1      & 1-n    & \cdots & 1      & 1      \\
                                             1      & 1-n    & 1      & \cdots & 1      & 1
                                         \end{vmatrix}                                    \\&=\begin{vmatrix}
                                        0      & n+1    & 2      & \cdots & n-2    & n-1    \\
                                        0      & n      & 0      & \cdots & 0      & -n     \\
                                        0      & n      & 0      & \cdots & -n     & 0      \\
                                        \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                                        0      & n      & -n     & \cdots & 0      & 0      \\
                                        1      & 1-n    & 1      & \cdots & 1      & 1
                                    \end{vmatrix}\\
                                      & =(-1)^{n+1}\begin{vmatrix}
                                                       n+1    & 2      & \cdots & n-2    & n-1    \\
                                                       n      & 0      & \cdots & 0      & -n     \\
                                                       n      & 0      & \cdots & -n     & 0      \\
                                                       \vdots & \vdots & \ddots & \vdots & \vdots \\
                                                       n      & -n     & \cdots & 0      & 0
                                                   \end{vmatrix}                                   \\
                                      & =(-1)^{n+1}(-1)^{\frac{(n-2)(n-3)}{2}}
                                    \begin{vmatrix}
                                        n+1    & n-1    & \cdots & 3      & 2      \\
                                        n      & -n     & \cdots & 0      & 0      \\
                                        n      & 0      & \cdots & 0      & 0      \\
                                        \vdots & \vdots & \ddots & \vdots & \vdots \\
                                        n      & 0      & \cdots & 0      & -n
                                    \end{vmatrix}                                                  \\
                                      & =(-1)^{\frac{n^2-3n+8}{2}}\begin{vmatrix}
                                                                      \frac{n(n+1)}{2} & n-1    & \cdots & 3      & 2      \\
                                                                      0                & -n     & \cdots & 0      & 0      \\
                                                                      0                & 0      & \cdots & 0      & 0      \\
                                                                      \vdots           & \vdots & \ddots & \vdots & \vdots \\
                                                                      0                & 0      & \cdots & 0      & -n
                                                                  \end{vmatrix}=(-1)^{\frac{n^2-n+12}{2}}\frac{n^{n-1}(n+1)}{2}.
                                \end{align*}

                          \item 方法二：考虑连加法. 将第 $2,3, \ldots, n$ 列都加到第 1 列, 提出公因子 $\dfrac{1}{2} n(n+1)$, 再依次将第 $n-1$ 行乘 $(-1)$ 加到第 $n$ 行, $\cdots$, 第 2 行乘 $(-1)$ 加到第 3 行, 第 1 行乘 $(-1)$ 加到第 2 行, 然后对第 1 列展开, 得到一个 $n-1$ 阶行列式, 它的副对角元为 $1-$ $n$, 其余元素均为 1 . 再把它的各列加到第 1 列, 并把它的第 1 行乘 $(-1)$ 加到其余各行, 得
                                \begin{align*}
                                    D & =\frac{n(n+1)}{2}\begin{vmatrix}
                                                             1      & 2      & \cdots & n-1    & n      \\
                                                             1      & 3      & \cdots & n      & 1      \\
                                                             1      & 4      & \cdots & 1      & 2      \\
                                                             \vdots & \vdots & \ddots & \vdots & \vdots \\
                                                             1      & 1      & \cdots & n-2    & n-1
                                                         \end{vmatrix} \\
                                      & =\frac{n(n+1)}{2}\begin{vmatrix}
                                                             1      & 2      & 3      & \cdots & n      \\
                                                             0      & 1      & 1      & \cdots & 1-n    \\
                                                             \vdots & \vdots & \vdots & \ddots & \vdots \\
                                                             0      & 1      & 1-n    & \cdots & 1      \\
                                                             0      & 1-n    & 1      & \cdots & 1
                                                         \end{vmatrix}_{n} \\
                                      & =\frac{n(n+1)}{2}
                                    \begin{vmatrix}
                                        1      & 1      & \cdots & 1      & 1-n \\
                                        \vdots & \vdots & \ddots & \vdots & 1   \\
                                        1      & 1-n    & \cdots & 1      & 1   \\
                                        1-n    & 1      & \cdots & 1      & 1
                                    \end{vmatrix}                         \\
                                      & =\frac{n(n+1)}{2}\begin{vmatrix}
                                                             -1     & 1      & \cdots & 1      & 1-n    \\
                                                             0      & 0      & \cdots & -n     & n      \\
                                                             \vdots & \vdots & \ddots & \vdots & \vdots \\
                                                             0      & -n     & \cdots & 0      & n      \\
                                                             0      & 0      & \cdots & 0      & n
                                                         \end{vmatrix}_{n-1}
                                \end{align*}
                                将上式先对第 1 列展开, 得到一个 $n-2$ 阶行列式, 再将它对最后一行展开, 得
                                \begin{align*}
                                    D & =\frac{-n(n+1)}{2} n
                                    \begin{vmatrix}
                                        0      & 0      & \cdots & 0      & -n     \\
                                        0      & 0      & \cdots & -n     & 0      \\
                                        \vdots & \vdots & \ddots & \vdots & \vdots \\
                                        0      & -n     & \cdots & 0      & 0      \\
                                        -n     & 0      & \cdots & 0      & 0
                                    \end{vmatrix}_{n-3}                      \\
                                      & =-\frac{n^{2}(n+1)}{2}(-1)^{\frac{(n-3)(n-4)}{2}}(-n)^{n-3} \\
                                      & =(-1)^{\frac{n(n-1)}{2} }\frac{(n+1) n^{n-1}}{2}.
                                \end{align*}
                                事实上，两种方法得到的答案是等价的.
                      \end{enumerate}
            \end{enumerate}
        \end{answer}

        \item 记$a_{ij}=|i-j|$，且$A=(a_{ij})_{n\times n}$，计算$A$的行列式.
        \begin{answer}
            \begin{enumerate}
                \item 若 $n=1$，则 $|A| = |0| = 0$；

                \item 若 $n=2$, 则 $|A| = \begin{vmatrix} 0 & -1 \\ 1 & 0 \end{vmatrix} = 1$；

                \item 若 $n>2$，考虑使用滚动消去法：
                    \begin{align*}
                        |A| &= \begin{vmatrix}
                            0      & -1     & -2     & \cdots & -n+1   \\
                            1      & 0      & -1     & \cdots & -n+2   \\
                            2      & 1      & 0      & \cdots & -n+3   \\
                            \vdots & \vdots & \vdots & \ddots & \vdots \\
                            n-1    & n-2    & n-3    & \cdots & 0
                        \end{vmatrix} \\
                        &= \begin{vmatrix}
                            1 & 1 & \cdots & 1 & -n+1 \\
                            1 & 1 & \cdots & 1 & -n+2 \\
                            \vdots & \vdots & \ddots & \vdots & \vdots \\
                            1 & 1 & \cdots & 1 & 0
                        \end{vmatrix} \\
                        &= \begin{vmatrix}
                            1 & 0 & \cdots & 0 & -n+1 \\
                            1 & 0 & \cdots & 0 & -n+2 \\
                            \vdots & \vdots & \ddots & \vdots & \vdots \\
                            1 & 0 & \cdots & 0 & 0
                        \end{vmatrix}
                        = 0.
                    \end{align*}
            \end{enumerate}
        \end{answer}

        \item 计算行列式$D=\begin{vmatrix}
                1 & 0 & 2 & 0 & x   \\
                0 & 2 & 0 & 1 & 0   \\
                1 & 0 & 4 & 0 & x^2 \\
                0 & 5 & 0 & 3 & 0   \\
                1 & 0 & 8 & 0 & x^3
            \end{vmatrix}$.
        \begin{answer}
            我们可以先构造分块对角矩阵，然后分别处理两个低阶的行列式：
            \[
                D = (-1)^{3+3} \begin{vmatrix}
                    1 & 2 & x   & 0 & 0 \\
                    1 & 4 & x^2 & 0 & 0 \\
                    1 & 8 & x^3 & 0 & 0 \\
                    0 & 0 & 0   & 2 & 1 \\
                    0 & 0 & 0   & 5 & 3
                \end{vmatrix} = (-1)^{3+3} \begin{vmatrix}
                    1 & 2 & x   \\
                    1 & 4 & x^2 \\
                    1 & 8 & x^3
                \end{vmatrix} \begin{vmatrix}
                    2 & 1 \\
                    5 & 3
                \end{vmatrix} = \begin{vmatrix}
                    1 & 2 & x   \\
                    1 & 4 & x^2 \\
                    1 & 8 & x^3
                \end{vmatrix}.
            \]

            该行列式可以通过加边法构造范德蒙行列式：
            \[
                D = \begin{vmatrix}
                    1 & 2 & x   \\
                    1 & 4 & x^2 \\
                    1 & 8 & x^3
                \end{vmatrix} = \begin{vmatrix}
                    1 & 1 & 1 & 1   \\
                    0 & 1 & 2 & x   \\
                    0 & 1 & 4 & x^2 \\
                    0 & 1 & 8 & x^3
                \end{vmatrix} = 2x(x-1)(x-2).
            \]
        \end{answer}

    \end{exgroup}

    \begin{exgroup}
        \item 设$D=\begin{vmatrix}
                3 & 0 & 4 & 1 \\ 2 & 3 & 1 & 4 \\ 0 & -7 & 8 & 3 \\ 5 & 3 & -2 & 2
            \end{vmatrix}$，求
        \begin{enumerate}
            \item $A_{21}+A_{22}+A_{23}+A_{24}$；

            \item $A_{31}+A_{33}$；

            \item $M_{41}+M_{42}+M_{43}+M_{44}$.
        \end{enumerate}
        \begin{answer}
            这三小问实际上都是对原行列式中的某一行进行了替换进行计算.
            \begin{enumerate}
                \item \begin{align*}
                            A_{21}+A_{22}+A_{23}+A_{24}
                            & = \begin{vmatrix}
                                    3 & 0  & 4  & 1 \\
                                    1 & 1  & 1  & 1 \\
                                    0 & -7 & 8  & 3 \\
                                    5 & 3  & -2 & 2
                                \end{vmatrix}
                            = \begin{vmatrix}
                                3 & -3 & 1  & -2 \\
                                1 & 0  & 0  & 0  \\
                                0 & -7 & 8  & 3  \\
                                5 & -2 & -7 & -3
                            \end{vmatrix}             \\
                            & = (-1)^{2+1} \begin{vmatrix}
                                                -3 & 1  & -1 \\
                                                -7 & 8  & 3  \\
                                                -2 & -7 & -3
                                            \end{vmatrix} \\
                            & = 148.
                        \end{align*}

                \item \begin{align*}
                            A_{31}+A_{33}
                            & = 1A_{31}+0A_{32}+1A_{33}+0A_{34}
                            = \begin{vmatrix}
                                3 & 0 & 4  & 1 \\
                                2 & 3 & 1  & 4 \\
                                1 & 0 & 1  & 0 \\
                                5 & 3 & -2 & 2
                            \end{vmatrix}
                            = 3 \begin{vmatrix}
                                    3 & 0 & 4  & 1 \\
                                    2 & 1 & 1  & 4 \\
                                    1 & 0 & 1  & 0 \\
                                    5 & 1 & -2 & 2
                                \end{vmatrix}                   \\
                            & = 3 \begin{vmatrix}
                                    3 & 0 & 1  & 1 \\
                                    2 & 1 & -1 & 4 \\
                                    1 & 0 & 0  & 0 \\
                                    5 & 3 & -7 & 2
                                \end{vmatrix}
                            = 3 \cdot (-1)^{3+1} \begin{vmatrix}
                                                    0 & 1  & 1 \\
                                                    1 & -1 & 4 \\
                                                    3 & -7 & 2
                                                \end{vmatrix}  \\
                            & = -12.
                        \end{align*}

                \item \begin{align*}
                            M_{41}+M_{42}+M_{43}+M_{44}
                            & = -A_{41}+A_{42}-A_{43}+A_{44}
                            = \begin{vmatrix}
                                3  & 0  & 4  & 1 \\
                                2  & 3  & 1  & 4 \\
                                0  & -7 & 8  & 3 \\
                                -1 & 1  & -1 & 1
                            \end{vmatrix}                     \\
                            & = \begin{vmatrix}
                                    3  & 3  & 1  & 4 \\
                                    2  & 5  & -1 & 6 \\
                                    0  & -7 & 8  & 3 \\
                                    -1 & 0  & 0  & 0
                                \end{vmatrix}
                            = {-1}^{4+1} \cdot (-1) \begin{vmatrix}
                                                        3  & 1  & 4 \\
                                                        5  & -1 & 6 \\
                                                        -7 & 8  & 3
                                                    \end{vmatrix} \\
                            & = -78.
                        \end{align*}
            \end{enumerate}
        \end{answer}

        \item 求参数 $a,b$  的值，使得$\begin{vmatrix}1 & 1 & 1 \\ x & y & z \\u & v & w\end{vmatrix}=1,
            \begin{vmatrix}1 & 2 & -5 \\ x & y & z \\u & v & w\end{vmatrix}=2,
            \begin{vmatrix}2 & 3 & b \\ x & y & z \\u & v & w\end{vmatrix}=a$都成立，并求$\begin{vmatrix}x & y & z \\ 1 & -1 & 5 \\u & v & w\end{vmatrix}$.
        \begin{answer}
            有问题，之后可能会考虑修改题目，此处略.
        \end{answer}

        \item 设$A,B$为三阶矩阵，且$|A|=3,|B|=2$，且$|A^{-1}+B|=2$，求$|A+B^{-1}|$.
        \begin{answer}
            \begin{align*}
                \lvert A+B^{-1} \rvert ={} & \lvert B^{-1}BA+B^{-1}E \rvert = \lvert B^{-1} \rvert \cdot \lvert BA+E \rvert                  \\
                ={}                        & \frac{1}{2} \lvert BA+A^{-1}A \rvert = \frac{1}{2} \lvert B+A^{-1} \rvert \cdot \lvert A \rvert \\
                ={}                        & \frac{3}{2} \lvert A^{-1}+B \rvert = 3.
            \end{align*}
        \end{answer}

        \item 设$A$为$n$阶正交矩阵，即$AA^\mathrm{T}=A^\mathrm{T}A=E$，且$|A|<0$，证明：$|E+A|=0$.
        \begin{answer}
            正交矩阵满足 $AA^{\mathrm{T}} = A^{\mathrm{T}}A = E$，所以 $\lvert AA^{\mathrm{T}} \rvert = \lvert A \rvert^2 = \lvert E \rvert = 1$. 而 $\lvert A \rvert < 0$，所以 $\lvert A \rvert = -1$.
            \[\lvert E+A \rvert = \lvert AA^{\mathrm{T}}+A \rvert = \lvert A \rvert \cdot \lvert A^{\mathrm{T}}+E \rvert = -\lvert (A+E)^{\mathrm{T}} \rvert = -\lvert E+A \rvert.\]
            故 $\lvert E+A \rvert = 0$.

            以上两道题都多次运用了 $E = AA^{-1} = A^{-1}A$ 的技巧，请大家留意.
        \end{answer}

        \item 设实方阵$A$的伴随矩阵$A^*=\begin{pmatrix}
                1 & 0 & 0 \\ 0 & 1 & 0 \\ 1 & 0 & 1
            \end{pmatrix}$，且$|A|>0$，已知矩阵$B$满足$AB=E+3A$，求矩阵$B$.
        \begin{answer}
            由 $A$ 为三阶矩阵，可得 $|A|^2 = |A^*| = 1$，而 $|A|>0$，所以 $|A|=1$. $AB=E+3A$ 经变形可得 $A(B-3E) = E$，故有
            \[
                B = 3E + A^{-1} = 3E + \frac{A^*}{|A|} = \begin{pmatrix}
                    4 & 0 & 0 \\ 0 & 4 & 0 \\ 1 & 0 & 4
                \end{pmatrix}.
            \]
        \end{answer}

        \item 设$B=\begin{pmatrix}
                1 & 1 & 1 \\ 0 & 1 & 1 \\ 0 & 0 & 1
            \end{pmatrix}$，矩阵$A$满足方程$BA=B^\mathrm{T}B$，求$|A^*-2E|$.
        \begin{answer}
            $|B|=1$，对 $BA=B^\mathrm{T}B$ 两边同时取行列式有
            \[
                |B||A| = |B^\mathrm{T}||B| = |B|^2,
            \]
            故 $|A| = 1$. 从而有
            \[
                A^* = |A|A^{-1} = B^{-1} \left(B^\mathrm{T}\right)^{-1} B.
            \]
            $B^{-1} = \begin{pmatrix}
                1 & 0 & 0 \\ -1 & 1 & 0 \\ 0 & -1 & 1
            \end{pmatrix}$，于是有
            \[
                |A^*-2E| = \lvert B^{-1} \left(B^\mathrm{T}\right)^{-1} B - 2 B^{-1} B \rvert
                         = \lvert B^{-1} \rvert \lvert \left(B^\mathrm{T}\right)^{-1} - 2E \rvert \lvert B \rvert
                         = \begin{vmatrix}
                            -1 & 0 & 0 \\ -1 & -1 & 0 \\ 0 & -1 & -1
                         \end{vmatrix}
                         = -1.
            \]
        \end{answer}

        \item 已知齐次线性方程组
        \[\begin{cases} \begin{aligned}
                    a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n          & = 0             \\
                    a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n          & = 0             \\
                                                                  & \vdotswithin{=} \\
                    a_{n-1,1}x_1+a_{n-1,2}x_2+\cdots+a_{n-1,n}x_n & = 0
                \end{aligned} \end{cases}\]
        设$M_j\enspace(j=1,2,\ldots,n)$表示$A=(a_{ij})_{n-1 \times n}$划掉第$j$列所得的$n-1$阶子式，证明：
        \begin{enumerate}
            \item $(M_1,-M_2,\ldots,(-1)^{n-1}M_n)$是方程组的一个解；

            \item 若$r(A)=n-1$，则方程组的解全是$(M_1,-M_2,\ldots,(-1)^{n-1}M_n)$的倍数.
        \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item 由于行列式
                      \[ D = \begin{vmatrix}
                              a_{11}     & a_{12}     & a_{13}     & \cdots & a_{1n}     \\
                              a_{11}     & a_{12}     & a_{13}     & \cdots & a_{1n}     \\
                              a_{21}     & a_{22}     & a_{23}     & \cdots & a_{2n}     \\
                              \vdots     & \vdots     & \vdots     & \ddots & \vdots     \\
                              a_{n-1, 1} & a_{n-1, 2} & a_{n-1, 3} & \cdots & a_{n-1, n}
                          \end{vmatrix} = 0,\]
                      而 $M_1, -M_2, \ldots, (-1)^{n-1}M_n$ 恰是 $D$ 的第一行元素的代数余子式，所以将 $D$ 按第一行展开，可知\[a_{11}M_1+a_{12}(-M_2)+\cdots+a_{1n}(-1)^{n-1}M_n=0.\]
                      而 $D$ 的其他行元素与第一行元素的代数余子式乘积之和为 0，于是结论成立.

                \item 因为 $r(A) = n-1$，所以 $M_1, -M_2, \ldots, (-1)^{n-1}M_n$，不全为 0. 且该方程组解空间维数为 1，$M_1, -M_2, \ldots, (-1)^{n-1}M_n$ 正是该方程组的非零解，结论成立.
            \end{enumerate}
        \end{answer}

        \item 设$A,B$均为$n$阶矩阵，且$|A|=2,|B|=1$，求$|2A^*B^*-A^{-1}B^{-1}|$.
        \begin{answer}
            $A^* = \lvert A \rvert A^{-1} = 2A^{-1}, B^* = \lvert B \rvert B^{-1} = B^{-1}$，故 \[\lvert 2A^*B^*-A^{-1}B^{-1} \rvert = \lvert 4A^{-1}B^{-1}-A^{-1}B^{-1} \rvert = \lvert 3A^{-1}B^{-1} \rvert = \dfrac{3^n}{\lvert A \rvert \lvert B \rvert} = \dfrac{3^n}{2}.\]
        \end{answer}

        \item 若$n$阶非零矩阵$A$满足$A^\mathrm{T}=A^*$，证明：
        \begin{enumerate}
            \item $|A|>0$；

            \item $|A|=1$（补充：若$A$第一行元素相等，求第一行元素的值）；

            \item $A$为正交矩阵，即$AA^\mathrm{T}=A^\mathrm{T}A$；

            \item $n>2$且为奇数时，$|E-A|=0$.
        \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item 设 $A = (a_{ij})$，则 $A^* = (A_{ji})$（$A^*$ 的表达式）. 而 $A^T = A^*$，有 $a_{ij} = A_{ij}, \forall i, j = 1, 2, \ldots, n$. 而 $A$ 非零，故 $\exists a_{kl} \neq 0$，从而有 \[ \lvert A \rvert = a_{k1}A_{k1}+\cdots+a_{kn}A_{kn} = a_{k1}^2+\cdots+a_{kn}^2 > 0.\]

                \item $\lvert A \rvert > 0$ 有 $A$ 是可逆的，故 $A^* = \lvert A \rvert A^{-1} = A^{\mathrm{T}}$，从而 $A^{\mathrm{T}}A = \lvert A \rvert E$. 两侧取行列式有 $\lvert A \rvert^2 = \lvert A \rvert^n $，结合 $\lvert A \rvert > 0$ 有 $\lvert A \rvert = 1$.

                \item $\lvert A \rvert = 1$，故 $A^{-1} = A^{\mathrm{T}}$，$A$ 是正交矩阵.

                \item \begin{align*}
                          \lvert E-A \rvert & = \lvert AA^{\mathrm{T}}-AE \rvert = \lvert A \rvert \lvert A^{\mathrm{T}}-E\rvert = \lvert A^{\mathrm{T}}-E\rvert = \lvert (A-E)^{\mathrm{T}} \rvert \\
                                            & = \lvert A-E \rvert = (-1)^n\lvert E-A \rvert.
                      \end{align*}
                      $n$ 为奇数，则 $\lvert E-A \rvert = -\lvert E-A \rvert$，即 $\lvert E-A \rvert = 0$.
            \end{enumerate}
        \end{answer}

        \item 已知$A$是一个秩为$n-1$的$n\enspace(n \geqslant 2)$阶方阵，且已知某个元素$a_{ij}$的代数余子式$A_{ij} \neq 0$，求方程组$AX=0$的基础解系.
        \begin{answer}
            $r(A) = n-1$，则 $\lvert A \rvert = 0$ 且 $AX = 0$ 的解空间的维数为 1. 而考虑 $AA^* = \lvert A \rvert E = 0$，且 $\exists A_{ij} \neq 0$，所以 $(A_{i1}, A_{i2}, \ldots , A_{in})^{\mathrm{T}}$ 是所求的基础解系.
        \end{answer}

        \item 设$D=|a_{ij}|_{n \times n}$，$A_{ij}$是$a_{ij}$的代数余子式. 求证：
        \[\begin{vmatrix}
                A_{11}    & A_{12}    & \cdots & A_{1,n-1}   \\
                A_{21}    & A_{22}    & \cdots & A_{2,n-1}   \\
                \vdots    & \vdots    & \ddots & \vdots      \\
                A_{n-1,1} & A_{n-1,2} & \cdots & A_{n-1,n-1}
            \end{vmatrix}=a_{nn}D^{n-2}.\]
        \begin{answer}
            设 \[A = \begin{pmatrix}
                a_{11} & a_{12} & \cdots & a_{1n} \\
                a_{21} & a_{22} & \cdots & a_{2n} \\
                \vdots & \vdots & \ddots & \vdots \\
                a_{n1} & a_{n2} & \cdots & a_{nn} \\
            \end{pmatrix},\]
            则 \[A^* = \begin{pmatrix}
                    A_{11}     & A_{21}     & \cdots & A_{n-1, 1}   & A_{n1}     \\
                    A_{12}     & A_{22}     & \cdots & A_{n-1, 2}   & A_{n2}     \\
                    \vdots     & \vdots     & \ddots & \vdots       & \vdots     \\
                    A_{1, n-1} & A_{2, n-1} & \cdots & A_{n-1, n-1} & A_{n, n-1} \\
                    A_{1n}     & A_{2n}     & \cdots & A_{n-1, n}   & A_{nn}     \\
                \end{pmatrix}.\]
            注意到目标行列式是 $A^*$ 中元素 $A_{nn}$ 的代数余子式，也就是 $(A^*)^*$ 中 $(n, n)$ 位置的元素. 由 {例13.9(4)} $(A^*)^* = \lvert A \rvert^{n-2}A$ 可知结论成立. % FIXME: xref
        \end{answer}

        \item 设 $a_1,a_2,\ldots,a_n$ 是 $n$ 个两两互异的实数，$f_1(x),f_2(x),\ldots,f_n(x)$ 是 $n$ 个次数不大于 $n-2$ 的实系数多项式，证明：

        \[\begin{vmatrix}
                f_1(a_1) & f_1(a_2) & \cdots & f_1(a_n) \\
                f_2(a_1) & f_2(a_2) & \cdots & f_2(a_n) \\
                \vdots   & \vdots   & \ddots & \vdots   \\
                f_n(a_1) & f_n(a_2) & \cdots & f_n(a_n)
            \end{vmatrix}=0.\]
        \begin{answer}
            设 $f_i(x) = c_0 + c_1 x + c_2 x^2 + \cdots + c_{n-2} x^{n-2} \in R[x]_{n-1}$，由于 $n-1$ 维线性空间中的 $n$ 个向量必线性相关，我们可以得到 $\left\{ f_1(x), f_2(x), \ldots, f_n(x) \right\}$ 线性相关. 即存在不全为零的 $k_1, k_2, \ldots, k_n$，使得 $\forall x \in \mathbb{R}, k_1 f_1(x) + k_2 f_2(x) + \cdots + k_n f_n(x) = 0$. 设原行列式的行向量分别为 $\alpha_1, \alpha_2, \ldots, \alpha_n$，则有
            \[
                k_1 \alpha_1 + k_2 \alpha_2 + \cdots + k_n \alpha_n = \mathbf{0}.
            \]
            原行列式的行向量组线性相关，因此其值为 $0$.
        \end{answer}

        \item 证明：$n$维向量组$\alpha_1,\alpha_2,\ldots,\alpha_n$线性无关的充要条件是
        \[\begin{vmatrix}
                \alpha_1^\mathrm{T}\alpha_1 & \alpha_1^\mathrm{T}\alpha_2 & \cdots & \alpha_1^\mathrm{T}\alpha_n \\
                \alpha_2^\mathrm{T}\alpha_1 & \alpha_2^\mathrm{T}\alpha_2 & \cdots & \alpha_2^\mathrm{T}\alpha_n \\
                \vdots                      & \vdots                      & \ddots & \vdots                      \\
                \alpha_n^\mathrm{T}\alpha_1 & \alpha_n^\mathrm{T}\alpha_2 & \cdots & \alpha_n^\mathrm{T}\alpha_n
            \end{vmatrix}\neq 0.\]
        \begin{answer}
            令 $A = (\alpha_1, \alpha_2, \ldots, \alpha_n), B = \begin{pmatrix}
                \alpha_1^{\mathrm{T}}\alpha_1 & \alpha_1^{\mathrm{T}}\alpha_2 & \cdots & \alpha_1^{\mathrm{T}}\alpha_n \\
                \alpha_2^{\mathrm{T}}\alpha_1 & \alpha_2^{\mathrm{T}}\alpha_2 & \cdots & \alpha_2^{\mathrm{T}}\alpha_n \\
                \vdots                        & \vdots                        & \ddots & \vdots                        \\
                \alpha_n^{\mathrm{T}}\alpha_1 & \alpha_n^{\mathrm{T}}\alpha_2 & \cdots & \alpha_n^{\mathrm{T}}\alpha_n \\
            \end{pmatrix}$，显然 $B = A^{\mathrm{T}}A$，由 {11.4 秩不等式第 4 个} 有 $r(B) = r(A)$. 进而 $n$ 维向量组 $(\alpha_1, \alpha_2, \ldots, \alpha_n)$ 线性无关等价于 $r(A) = n$，也就等价于 $r(B) = n$，进而等价于 $\lvert B \rvert \neq 0$，命题得证. % FIXME: xref
        \end{answer}

        \item 设$a_1,\ldots,a_n$为$n$个$n$维向量，证明：向量组$a_1,\ldots,a_n$线性无关的充要条件是任一个$n$维向量都可以由其线性表示（不使用线性空间维数的方式完成）.
        \begin{answer}
            $(\implies)$ 记 $A = (\alpha_1, \alpha_2, \ldots, \alpha_n), \varepsilon_i = (0, \ldots, 1, 0, \ldots, 0)^{\mathrm{T}}$(第 $i$ 个为 1)，$E = (\varepsilon_1, \varepsilon_2, \ldots, \varepsilon_n)$. 因为 $\alpha_1, \alpha_2, \ldots, \alpha_n$ 是 $n$ 维线性无关的向量组，故 $\lvert A \rvert \neq 0$，即 $A$ 可逆，$A = EA, AA^{-1} = E$,\[(\alpha_1, \alpha_2, \ldots, \alpha_n) = (\varepsilon_1, \varepsilon_2, \ldots, \varepsilon_n)A, (\varepsilon_1, \varepsilon_2, \ldots, \varepsilon_n) = (\alpha_1, \alpha_2, \ldots, \alpha_n)A^{-1}.\] 即 $\alpha_1, \alpha_2, \ldots, \alpha_n$ 与 $\varepsilon_1, \varepsilon_2, \ldots, \varepsilon_n$ 等价. $\varepsilon_1, \varepsilon_2, \ldots, \varepsilon_n$ 为 $\mathbf{R}^n$ 的一个基，能表出任一 $n$ 维向量，故 $\alpha_1, \alpha_2, \ldots, \alpha_n$ 能表出 $\mathbf{R}^n$ 中任一 $n$ 维向量.

            $(\impliedby)$ 若 $\alpha_1, \alpha_2, \ldots, \alpha_n$ 能表出任一 $n$ 维向量，则 $\varepsilon_i = \lambda_{i1}\alpha_1+\cdots+\lambda_{in}\alpha_n, i = 1, 2, \ldots, n$. 即
            \[E = (\varepsilon_1, \varepsilon_2, \ldots, \varepsilon_n) = (\alpha_1, \alpha_2, \ldots, \alpha_n)\begin{pmatrix}
                    \lambda_{11} & \lambda_{21} & \cdots & \lambda_{n1} \\
                    \lambda_{11} & \lambda_{21} & \cdots & \lambda_{n1} \\
                    \vdots       & \vdots       & \ddots & \vdots       \\
                    \lambda_{11} & \lambda_{21} & \cdots & \lambda_{n1} \\
                \end{pmatrix}.\]
            进而 $\lvert \alpha_1, \alpha_2, \ldots, \alpha_n \rvert \begin{vmatrix}
                    \lambda_{11} & \lambda_{21} & \cdots & \lambda_{n1} \\
                    \lambda_{11} & \lambda_{21} & \cdots & \lambda_{n1} \\
                    \vdots       & \vdots       & \ddots & \vdots       \\
                    \lambda_{11} & \lambda_{21} & \cdots & \lambda_{n1} \\
                \end{vmatrix} = 1$，所以 $\lvert \alpha_1, \alpha_2, \ldots, \alpha_n \rvert \neq 0$，$\alpha_1, \alpha_2, \ldots, \alpha_n$ 线性无关.
        \end{answer}

        \item 设$s \times n\enspace(s\leqslant n)$矩阵为
        \[\begin{pmatrix}
                1      & a      & a^2    & \cdots & a^{n-1}    \\
                1      & a^2    & a^4    & \cdots & a^{2(n-1)} \\
                \vdots & \vdots & \vdots & \ddots & \vdots     \\
                1      & a^s    & a^{2s} & \cdots & a^{s(n-1)}
            \end{pmatrix}\]
        且$a^r\neq 1\enspace(0<r<n)$，求$A$的秩和它的列向量组的一个极大线性无关组.
        \begin{answer}
            $A$ 的前 $s$ 列组成的 $s$ 阶子式为Vandermonde行列式
            \[D = \begin{vmatrix}
                    1      & a      & a^2    & \cdots & a^{s-1}    \\
                    1      & a^2    & a^4    & \cdots & a^{2(s-1)} \\
                    \vdots & \vdots & \vdots & \ddots & \vdots     \\
                    1      & a^s    & a^{2s} & \cdots & a^{s(s-1)} \\
                \end{vmatrix}.\]
            由于当 $0 < r < n$ 时，$a^r \neq 1$，因此 $a, a^2, \ldots, a^s$ 两两不同，进而 $D \neq 0$，于是 $r(A) \geqslant s$. 又因为 $A$ 的行数是 $s$，所以 $r(A) \leqslant s$. 从而 $r(A) = s$.

            由于 $D \neq 0$，故 $D$ 的列向量线性无关，因此 $A$ 的前 $s$ 个列向量即为其列向量组的一个极大线性无关组.
        \end{answer}

        \item 设$A,B,C,D \in \mathbf{F}^{n \times n}$，定义变换 $ T : \mathbf{F}^{n \times n} \to \mathbf{F}^{n \times n}$ 为
        \[ T(X) = AXB+CX+XD \]
        证明：
        \begin{enumerate}
            \item $T$为$\mathbf{F}^{n \times n}$上的线性变换；

            \item 当$C=D=0$时，$T$可逆的充要条件是$|AB| \neq 0$.
        \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item 线性变换的验证省略.

                \item $(\implies)$ 若 $\lvert AB \rvert = 0$，则 $\lvert A \rvert = 0$ 或 $\lvert B \rvert = 0$，故 $A$ 或 $B$ 不可逆. 不妨假设 $A$ 不可逆，则存在 $X_0 \neq 0$ 使得 $AX_0 = 0$，$T(X_0) = AX_0B = 0$. 但 $T$ 是可逆的，所以 $T$ 是单射，$T(X) = 0 \Leftrightarrow X = 0$，矛盾.

                      $(\impliedby)$ $\lvert AB \rvert \neq 0$ 则 $A, B$ 可逆，故 $T(X) = AXB$ 的逆映射为 $T^{-1}(X) = A^{-1}XB^{-1}$.
            \end{enumerate}
        \end{answer}

        \item 设$A$为$n$阶矩阵，且$r(A) < n$，又$A_{11} \neq 0$，证明：存在常数$k$，使得$(A^*)^2=kA^*$.
        \begin{answer}
            因为 $r(A) < n, A_{11} \neq 0$，所以 $r(A) = n-1$，进而由 {例13.9 (6)} 可知 $r(A^*) = 1$，所以有 % FIXME: xref
            \[A^* = \begin{pmatrix} a_1 \\ a_2 \\ \vdots \\ a_n \end{pmatrix} (\lambda_1, \lambda_2, \ldots, \lambda_n).\]
            设 $(\lambda_1, \lambda_2, \ldots, \lambda_n) \begin{pmatrix} a_1 \\ a_2 \\ \vdots \\ a_n \end{pmatrix} = k$，则
            \begin{align*}
                (A^*)^2 & = \begin{pmatrix}a_1 \\ a_2 \\ \vdots \\ a_n \end{pmatrix}
                (\lambda_1, \lambda_2, \ldots, \lambda_n)
                \begin{pmatrix} a_1 \\ a_2 \\ \vdots \\ a_n \end{pmatrix}
                (\lambda_1, \lambda_2, \ldots, \lambda_n)                                     \\
                        & = \begin{pmatrix} a_1 \\ a_2 \\ \vdots \\ a_n \end{pmatrix} \cdot k
                \cdot (\lambda_1, \lambda_2, \ldots, \lambda_n) = k
                \begin{pmatrix} a_1 \\ a_2 \\ \vdots \\ a_n \end{pmatrix}
                (\lambda_1, \lambda_2, \ldots, \lambda_n) = kA^*.
            \end{align*}
        \end{answer}

        \item 设$V$是一个$n$维实线性空间，证明：存在$V$中的一个由可列无穷多个向量组成的向量组$\{\alpha_i \mid i\in\mathbf{Z}_+\}$，使得其中任意$n$个向量组成的向量组都是$V$的一组基.
        \begin{answer}
            $\forall a_i \in \mathbf{R}, i \in \mathbf{Z}_{+}$ 满足：若 $i \neq j$，则 $a_i \neq a_j$，考虑以Vandermonde行列式的形式进行排布. 设
            \[ A = \begin{pmatrix}
                    1         & 1         & \cdots & 1         & \cdots \\
                    a_1       & a_2       & \cdots & a_k       & \cdots \\
                    a_1^2     & a_2^2     & \cdots & a_k^2     & \cdots \\
                    \vdots    & \vdots    & \ddots & \vdots    &        \\
                    a_1^{n-1} & a_2^{n-1} & \cdots & a_k^{n-1} & \cdots
                \end{pmatrix}.\]
            考虑 $A$ 的任意 $n$ 阶主子式 $D_n$，其均构成 Vandermonde 行列式，又 $i \neq j$ 有 $a_i \neq a_j$，所以值均不为 0，也就是说任意 $n$ 个向量都线性无关，其个数也恰好为 $n$，构成 $V$ 的一组基，命题得证.
        \end{answer}

        \item 回顾\autoref{ex:函数和数列线性空间} 中数列极限的例子，证明：以$0$为极限的实数数列全体构成的线性空间是无限维线性空间.
        \begin{answer}
            易证以 $0$ 为极限的实数数列全体可以构成一个线性空间 $W$，下使用反证法证明 $W$ 为无限维线性空间：

            假设 $W$ 为有限维线性空间，不妨设 $\dim W = k$.

            取 $W$ 中的 $k+1$ 个数列 $\{a_n^{(1)}, a_n^{(2)}, \ldots, a_n^{(k)}, a_n^{(k+1)}\}$，满足 $a_n^{(i)} = (i+1)^{-n} \to 0^+ \enspace (n \to +\infty)$. 分别取这 $k+1$ 个数列的前 $k+1$ 项，构造 Vandermonde 行列式：
            \[
                D = \begin{vmatrix}
                    1          & 1          & \cdots & 1              \\
                    2^{-1}     & 3^{-1}     & \cdots & (k+2)^{-1}     \\
                    2^{-2}     & 3^{-2}     & \cdots & (k+2)^{-2}     \\
                    \vdots     & \vdots     & \ddots & \vdots         \\
                    2^{-(k-1)} & 3^{-(k-1)} & \cdots & (k+2)^{-(k-1)}
                \end{vmatrix} \neq 0,
            \]
            故行列式的列向量线性无关. 由于线性无关的向量组在补充分量后仍然线性无关，我们可以得到 $k+1$ 个数列 $\{a_n^{(1)}, a_n^{(2)}, \cdots, a_n^{(k)}, a_n^{(k+1)}\}$ 线性无关，这与 $\dim W = k$ 矛盾，因此 $W$ 为无限维线性空间.
        \end{answer}

        \item 解行列式
        \begin{enumerate} \begin{multicols}{2}
                \item $ D_1=\begin{vmatrix}
                        1 & 2 & 3 & 4 \\2&3&4&1\\3&4&1&2\\4&1&2&3
                    \end{vmatrix} $

                \item $ D_2=\begin{vmatrix}
                        \lambda+2 & -1        & -1        & -1        \\
                        -1        & \lambda+2 & -1        & -1        \\
                        -1        & -1        & \lambda+2 & -1        \\
                        -1        & -1        & -1        & \lambda+2
                    \end{vmatrix} $

            \end{multicols} \begin{multicols}{2} % dirty hack

                \item $ D_3=\begin{vmatrix}
                        1^{2} & 2^{2} & 3^{2} & 4^{2} \\
                        2^{2} & 3^{2} & 4^{2} & 5^{2} \\
                        3^{2} & 4^{2} & 5^{2} & 6^{2} \\
                        4^{2} & 5^{2} & 6^{2} & 7^{2}
                    \end{vmatrix} $

                \item $ D_4=\begin{vmatrix}
                        3 & 2 & 0 & 0 \\
                        1 & 3 & 2 & 0 \\
                        0 & 1 & 3 & 2 \\
                        0 & 0 & 1 & 3
                    \end{vmatrix} $
            \end{multicols} \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item 连加法得结果为160；

                \item 连加法得结果为$(\lambda-1)(\lambda+3)^3$；

                \item 如果对数据敏感能看出线性相关，可以直接由$\alpha_4-\alpha_1=3(\alpha_3-\alpha_2)$证得其线性相关，则为0. 也可以使用滚动消去法，如\[
                          \begin{vmatrix}
                              1 & 4 & 9  & 16 \\
                              3 & 5 & 7  & 9  \\
                              5 & 7 & 9  & 11 \\
                              7 & 9 & 11 & 13
                          \end{vmatrix}=\begin{vmatrix}
                              1 & 4 & 9 & 16 \\
                              3 & 5 & 7 & 9  \\
                              2 & 2 & 2 & 2  \\
                              2 & 2 & 2 & 2
                          \end{vmatrix}=0.\]

                \item 当然是递推法的常见形式，但是只有4阶，所以可以暴算，转化为上三角行列式，如\[
                          \begin{vmatrix}
                              3 & 2           & 0            & 0             \\
                              0 & \frac{7}{3} & 2            & 0             \\
                              0 & 0           & \frac{15}{7} & 2             \\
                              0 & 0           & 0            & \frac{31}{15}
                          \end{vmatrix}=31.\]
            \end{enumerate}
        \end{answer}

        \item 解行列式 $\begin{vmatrix}
                a_{1}+a_{2}         & a_{2}+a_{3}         & \cdots & a_{n-1}+a_n         & a_n+a_{1}         \\
                a_{1}^{2}+a_{2}^{2} & a_{2}^{2}+a_{3}^{2} & \cdots & a_{n-1}^{2}+a_n^{2} & a_n^{2}+a_{1}^{2} \\
                \vdots              & \vdots              & \ddots & \vdots              & \vdots            \\
                a_{1}^{n}+a_{2}^{n} & a_{2}^{n}+a_{3}^{n} & \cdots & a_{n-1}^{n}+a_n^{n} & a_n^{n}+a_{1}^{n}
            \end{vmatrix}$.
        \begin{answer}
            暴力拆成$2^n$个行列式，其中只有2个每列各不相同，其他都因为有相同列而为0. 因此有
            \begin{align*}
                \text{原式} & =\begin{vmatrix}
                                    a_{1}     & a_{2}     & \cdots & a_{n-1}     & a_{n}     \\
                                    a_{1}^{2} & a_{2}^{2} & \cdots & a_{n-1}^{2} & a_{n}^{2} \\
                                    \vdots    & \vdots    & \ddots & \vdots      & \vdots    \\
                                    a_{1}^{n} & a_{2}^{n} & \cdots & a_{n-1}^{n} & a_{n}^{n}
                                \end{vmatrix}+
                \begin{vmatrix}
                    a_{2}     & a_{3}     & \cdots & a_{n}     & a_{1}     \\
                    a_{2}^{2} & a_{3}^{2} & \cdots & a_{n}^{2} & a_{1}^{2} \\
                    \vdots    & \vdots    & \ddots & \vdots    & \vdots    \\
                    a_{2}^{n} & a_{3}^{n} & \cdots & a_{n}^{n} & a_{1}^{n}
                \end{vmatrix}                                               \\
                            & =(1+(-1)^{n-1})\begin{vmatrix}
                                                a_{1}     & a_{2}     & \cdots & a_{n-1}     & a_{n}     \\
                                                a_{1}^{2} & a_{2}^{2} & \cdots & a_{n-1}^{2} & a_{n}^{2} \\
                                                \vdots    & \vdots    & \ddots & \vdots      & \vdots    \\
                                                a_{1}^{n} & a_{2}^{n} & \cdots & a_{n-1}^{n} & a_{n}^{n}
                                            \end{vmatrix}                \\
                            & =(1+(-1)^{n-1})\prod_{i=1}^na_i
                \begin{vmatrix}
                    1           & 1           & \cdots & 1             & 1           \\
                    a_{1}       & a_{2}       & \cdots & a_{n-1}       & a_{n}       \\
                    \vdots      & \vdots      & \ddots & \vdots        & \vdots      \\
                    a_{1}^{n-1} & a_{2}^{n-1} & \cdots & a_{n-1}^{n-1} & a_{n}^{n-1}
                \end{vmatrix}                                     \\
                            & =(1+(-1)^{n-1})\left(\prod_{i=1}^na_i\right)\prod_{1\leqslant i<j\leqslant n}(a_j-a_i). \\
            \end{align*}
        \end{answer}

        \item 解行列式
        \begin{multicols}{2} \begin{enumerate}
                \item $D=\begin{vmatrix}
                              ax+by & ay+bz & az+bx \\
                              ay+bz & az+bx & ax+by \\
                              az+bx & ax+by & ay+bz
                          \end{vmatrix}$

                \item $D=\begin{vmatrix}
                              x^2+1 & xy    & xz    \\
                              xy    & y^2+1 & yz    \\
                              xz    & yz    & z^2+1
                          \end{vmatrix}$
            \end{enumerate} \end{multicols}
        \begin{answer}
            \begin{enumerate}
                \item 可以硬拆成8个行列式，其中只有2个非零，则得到
                      \[D=\begin{vmatrix}
                              ax & ay & az \\
                              ay & az & ax \\
                              az & ax & ay
                          \end{vmatrix}+\begin{vmatrix}
                              by & bz & bx \\
                              bz & bx & by \\
                              bx & by & bz \\
                          \end{vmatrix}=(a+b)\begin{vmatrix}
                              x & y & z \\
                              y & z & x \\
                              z & x & y \\
                          \end{vmatrix}=(a^3+b^3)(3xyz-\sum x^2),\]
                      另解：分解成两个矩阵相乘再各自求行列式. 这其实是看出这是一种线性变换的本质之后的做法：
                      \[D=\begin{vmatrix}
                              \begin{pmatrix}
                                  a & b & 0 \\
                                  0 & a & b \\
                                  b & 0 & a \\
                              \end{pmatrix}
                              \begin{pmatrix}
                                  x & y & z \\
                                  y & z & x \\
                                  z & x & y \\
                              \end{pmatrix}
                          \end{vmatrix}.\]

                \item 其实直接用三阶行列式的公式也不错，这里介绍基于硬拆的方法
                      \begin{align*}
                          D & =x\begin{vmatrix}
                                    x & xy    & xz    \\
                                    y & y^2+1 & yz    \\
                                    z & yz    & z^2+1
                                \end{vmatrix}+\begin{vmatrix}
                                                  1 & xy    & xz    \\
                                                  0 & y^2+1 & yz    \\
                                                  0 & yz    & z^2+1
                                              \end{vmatrix} \\
                            & =x\begin{vmatrix}
                                    x & 0 & 0 \\
                                    y & 1 & 0 \\
                                    z & 0 & 1
                                \end{vmatrix}+\begin{vmatrix}
                                                  y^2+1 & yz    \\
                                                  yz    & z^2+1
                                              \end{vmatrix}
                          =\sum x^2+1.
                      \end{align*}
            \end{enumerate}
        \end{answer}

        \item 计算行列式$|2E-\alpha_1^\mathrm{T}\beta_1-\alpha_2^\mathrm{T}\beta_2|$，其中$\alpha_1=(a_1,a_2,\ldots,a_n),\enspace \beta_1=(b_1,b_2,\ldots,b_n),\enspace \alpha_2=(c_1,c_2,\ldots,c_n),\enspace \beta_2 = (d_1,d_2,\ldots,d_n)$.（提示：利用$|\lambda E_m-AB|=\lambda^{m-n}|\lambda E_n-BA|$）
        \begin{answer}
            利用$|\lambda E_m-AB|=\lambda^{m-n}|\lambda E_n-BA|$
            \begin{align*}
                |2E-\alpha_1^\mathrm{T}\beta_1-\alpha_2^\mathrm{T}\beta_2|
                & =\begin{vmatrix}
                        2E-\begin{pmatrix}
                        \alpha_1^\mathrm{T} & \alpha_2^\mathrm{T}
                    \end{pmatrix}\begin{pmatrix}
                                        \beta_1 \\\beta_2
                                    \end{pmatrix}
                    \end{vmatrix}
                =2^{n-2}\begin{vmatrix}
                            2E-\begin{pmatrix}
                        \beta_1 \\\beta_2
                    \end{pmatrix}\begin{pmatrix}
                                        \alpha_1^\mathrm{T} & \alpha_2^\mathrm{T}
                                    \end{pmatrix}
                        \end{vmatrix}         \\
                & =2^{n-2}\begin{vmatrix}
                            2-\beta_1\alpha_1^\mathrm{T} & -\beta_1\alpha_2^\mathrm{T}  \\
                            -\beta_2\alpha_1^\mathrm{T}  & 2-\beta_2\alpha_2^\mathrm{T}
                        \end{vmatrix} \\
                & =2^{n-2}
                \left(\left(2-\sum_{i=1}^na_ib_i\right)
                \left(2-\sum_{i=1}^nc_id_i\right)
                -\left(\sum_{i=1}^na_id_i\right)
                \left(\sum_{i=1}^nb_ic_i\right)\right)
            \end{align*}
        \end{answer}

        \item 求$2n$阶行列式的值（空缺处都是0）：
        \[\begin{vmatrix}
                a &         &   &   &         & b \\
                  & \ddots  &   &   & \iddots &   \\
                  &         & a & b &         &   \\
                  &         & b & a &         &   \\
                  & \iddots &   &   & \ddots  &   \\
                b &         &   &   &         & a
            \end{vmatrix}.\]
        \begin{answer}
            设所求 $2n$ 阶行列式为 $D$.
            \begin{enumerate}
                \item 若 $a=0$，则
                    \[
                        D = \begin{vmatrix}
                            0 &         &   &   &         & b \\
                              & \ddots  &   &   &         &   \\
                              &         & 0 & b &         &   \\
                              &         & b & 0 &         &   \\
                              &         &   &   & \ddots  &   \\
                            b &         &   &   &         & 0
                        \end{vmatrix}
                        = (-1)^{\frac{2n(2n-1)}{2}} \begin{vmatrix}
                            b &         &   &   &         & 0 \\
                              & \ddots  &   &   &         &   \\
                              &         & b & 0 &         &   \\
                              &         & 0 & b &         &   \\
                              &         &   &   & \ddots  &   \\
                            0 &         &   &   &         & b
                        \end{vmatrix}
                        = b^{2n}.
                    \]
                \item 若 $b \neq 0$，我们将第 $i$ 列乘以 $-\dfrac{b}{a}$ 后加到第 $2n-i+1$ 列，化为下三角矩阵：
                    \[
                        D = \begin{vmatrix}
                            a &         &   &                   &         & 0                 \\
                              & \ddots  &   &                   &         &                   \\
                              &         & a & 0                 &         &                   \\
                              &         & b & a - \frac{b^2}{a} &         &                   \\
                              &         &   &                   & \ddots  &                   \\
                            b &         &   &                   &         & a - \frac{b^2}{a}
                        \end{vmatrix}
                        = a^n (a - \frac{b^2}{a})^n
                        = (a^2 - b^2)^n.
                    \]
            \end{enumerate}
        \end{answer}
    \end{exgroup}

    \begin{exgroup}
        \item 设$A=(a_{ij})$是$n\enspace(n\geqslant 2)$阶整数方阵，满足对任意的$i,j$，$|A|$均可整除$a_{ij}$，证明：$|A|=\pm 1$.
        \begin{answer}
            设 $a_{ij} = |A| b_{ij}$，其中 $b_{ij}$ 为整数，则
            \[
                |A| = \begin{vmatrix}
                    |A| b_{11} & |A| b_{12} & \cdots & |A| b_{1n} \\
                    |A| b_{21} & |A| b_{22} & \cdots & |A| b_{2n} \\
                    \vdots     & \vdots     & \ddots & \vdots     \\
                    |A| b_{n1} & |A| b_{n2} & \cdots & |A| b_{nn}
                \end{vmatrix}
                = |A|^n \begin{vmatrix}
                    b_{11} & b_{12} & \cdots & b_{1n} \\
                    b_{21} & b_{22} & \cdots & b_{2n} \\
                    \vdots & \vdots & \ddots & \vdots \\
                    b_{n1} & b_{n2} & \cdots & b_{nn}
                \end{vmatrix}.
            \]

            由此可得
            \[
                |A|^{n-1} \begin{vmatrix}
                    b_{11} & b_{12} & \cdots & b_{1n} \\
                    b_{21} & b_{22} & \cdots & b_{2n} \\
                    \vdots & \vdots & \ddots & \vdots \\
                    b_{n1} & b_{n2} & \cdots & b_{nn}
                \end{vmatrix} = 1.
            \]

            由于 $a_{ij}$ 与 $b_{ij}$ 均为整数，所以 $|A|$ 与 $|b_{ij}|_{n \times n}$ 也为整数，且 $|A| \neq 0$，所以 $|A| = \pm 1$.
        \end{answer}

        \item 设$f_{ij}(t)$是可微函数，
        \[F(t)=\begin{vmatrix}
                f_{11}(t) & f_{12}(t) & \cdots & f_{1n}(t) \\
                f_{21}(t) & f_{22}(t) & \cdots & f_{2n}(t) \\
                \vdots    & \vdots    & \ddots & \vdots    \\
                f_{n1}(t) & f_{n2}(t) & \cdots & f_{nn}(t)
            \end{vmatrix},\]
        求证：$\dfrac{\mathrm{d}}{\mathrm{d}t}F(t)=\sum\limits_{j=1}^nF_j(t)$，其中
        \[F_j(t)=\begin{vmatrix}
                f_{11}(t) & f_{12}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{1j}(t) & \cdots & f_{1n}(t) \\[2ex]
                f_{21}(t) & f_{22}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{2j}(t) & \cdots & f_{2n}(t) \\[2ex]
                \vdots    & \vdots    & \ddots & \vdots                                   & \vdots & \vdots    \\[2ex]
                f_{n1}(t) & f_{n2}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{nj}(t) & \cdots & f_{nn}(t)
            \end{vmatrix}.\]
        \begin{answer}
            使用数学归纳法证明. 当 $n=1$ 时，$\dfrac{\mathrm{d}}{\mathrm{d}t}F(t) = \left\lvert \dfrac{\mathrm{d}}{\mathrm{d}t}f_{11}(t) \right\rvert$，结论成立.

            假设 $n=k-1$ 时结论成立，下证 $n=k$ 时结论也成立. 设 $G_{ij}(t)$ 为 $F(t)$ 对 $f_{ij}(t)$ 的代数余子式，将 $F(t)$ 按第一列展开：
            \[
                F(t) = \sum_{i=1}^k f_{i1}(t) G_{i1}(t),
            \]

            对 $t$ 求导，有
            \[
                \dfrac{\mathrm{d}}{\mathrm{d}t}F(t) = \sum_{i=1}^k \dfrac{\mathrm{d}f_{i1}(t)}{\mathrm{d}t} G_{i1}(t) + \sum_{i=1}^k f_{i1}(t) \dfrac{\mathrm{d}G_{i1}(t)}{\mathrm{d}t}.
            \]

            上式第一部分和即为 $F_1(t)$. 下求第二部分的和：

            设 $F_{ij}(t)$ 为 $F_j(t)$ 对 $f_{i1}$ 的代数余子式，即
            \[
                F_{ij}(t) = \begin{vmatrix}
                    f_{12}(t) & f_{13}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{1j}(t) & \cdots & f_{1k}(t) \\[2ex]
                    f_{22}(t) & f_{23}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{2j}(t) & \cdots & f_{2k}(t) \\[2ex]
                    \vdots    & \vdots    &        & \vdots                                   & \vdots & \vdots    \\[2ex]
                    f_{i-1,2}(t) & f_{i-1,3}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{i-1,j}(t) & \cdots & f_{i-1,k}(t) \\[2ex]
                    f_{i+1,2}(t) & f_{i+1,3}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{i+1,j}(t) & \cdots & f_{i+1,k}(t) \\[2ex]
                    \vdots    & \vdots    &        & \vdots                                   & \vdots & \vdots    \\[2ex]
                    f_{k2}(t) & f_{k3}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{kj}(t) & \cdots & f_{kk}(t)
                \end{vmatrix}.
            \]

            将第二部分中的 $\dfrac{\mathrm{d}G_{i1}(t)}{\mathrm{d}t}$ 按归纳假设展开，可得
            \begin{align*}
                \sum_{i=1}^k f_{i1}(t) \dfrac{\mathrm{d}G_{i1}(t)}{\mathrm{d}t}
                &= \sum_{i=1}^k \sum_{j=2}^k F_{ij}(t) f_{i1}(t) \\
                &= \sum_{j=2}^k \sum_{i=1}^k F_{ij}(t) f_{i1}(t) \\
                &= \sum_{j=2}^k F_j(t).
            \end{align*}

            与第一部分合并可得
            \[
                \dfrac{\mathrm{d}}{\mathrm{d}t}F(t)=\sum\limits_{j=1}^nF_j(t).
            \]

        \end{answer}

        \item 设$A,B,C,D$均为$n$阶方阵，$\lvert A \rvert \neq 0$且$AC=CA$. 证明：
        \[\begin{vmatrix}
                A & B \\ C & D
            \end{vmatrix} = |AD-CB|.\]
        \begin{answer}
            对原矩阵进行分块初等变换化为上三角块矩阵后进行计算. 因为 $\lvert A \rvert \neq 0$，所以 $A$ 可逆，进而有如下变换：
            \[\begin{pmatrix}
                    E        & O \\
                    -CA^{-1} & E
                \end{pmatrix} \begin{pmatrix}
                    A & B \\
                    C & D \\
                \end{pmatrix} = \begin{pmatrix}
                    A & B          \\
                    O & D-CA^{-1}B
                \end{pmatrix},\]
            所以
            \begin{align*}
                    & \begin{vmatrix}
                            A & B \\
                            C & D \\
                        \end{vmatrix}
                = \begin{vmatrix}
                        E        & O \\
                        -CA^{-1} & E \\
                    \end{vmatrix}
                \begin{vmatrix}
                    A & B \\
                    C & D \\
                \end{vmatrix}       \\
                ={} & \begin{vmatrix}
                            A & B          \\
                            O & D-CA^{-1}B
                        \end{vmatrix}
                = \lvert A \rvert \lvert D-CA^{-1}B \rvert = \lvert AD-ACA^{-1}B \rvert.
            \end{align*} 由于 $AC = CA$，所以有 $ACA^{-1} = CAA^{-1} = C$，所以
            \[\begin{vmatrix}
                    A & B \\
                    C & D \\
                \end{vmatrix} = \lvert AD-CB \rvert.\]
        \end{answer}

        \item 设$A$为$n$阶可逆矩阵，$\alpha,\beta$为$n$维列向量，证明：
        \[|A+\alpha\beta^{\mathrm{T}}|=|A|(1+\beta^\mathrm{T}A^{-1}\alpha).\]
        \begin{answer}
            这道题目我们利用了一个分块矩阵作为中间``桥梁''使得其通过分块初等变换之后能分别得到两个方向上的结果. 考虑矩阵 $\begin{pmatrix}
                A                   & \alpha \\
                -\beta^{\mathrm{T}} & 1
            \end{pmatrix}$，有
            \[\begin{pmatrix}
                    A                   & \alpha \\
                    -\beta^{\mathrm{T}} & 1
                \end{pmatrix} \begin{pmatrix}
                    E                  & O \\
                    \beta^{\mathrm{T}} & E
                \end{pmatrix} = \begin{pmatrix}
                    A+\alpha \beta^{\mathrm{T}} & \alpha \\
                    O                           & 1
                \end{pmatrix},\]
            所以
            \[\begin{vmatrix}
                    A                   & \alpha \\
                    -\beta^{\mathrm{T}} & 1
                \end{vmatrix} = \begin{vmatrix}
                    A                   & \alpha \\
                    -\beta^{\mathrm{T}} & 1
                \end{vmatrix} \begin{vmatrix}
                    E                  & O \\
                    \beta^{\mathrm{T}} & E
                \end{vmatrix} = \begin{vmatrix}
                    A+\alpha \beta^{\mathrm{T}} & \alpha \\
                    O                           & 1
                \end{vmatrix} = \lvert A+\alpha \beta^{\mathrm{T}} \rvert.\]
            另一方面，
            \[\begin{pmatrix}
                    E                        & O \\
                    \beta^{\mathrm{T}}A^{-1} & 1
                \end{pmatrix} \begin{pmatrix}
                    A                   & \alpha \\
                    -\beta^{\mathrm{T}} & 1
                \end{pmatrix} = \begin{pmatrix}
                    A & \alpha                           \\
                    O & 1+\beta^{\mathrm{T}}A^{-1}\alpha
                \end{pmatrix}.\]
            注意 $\beta^{\mathrm{T}}A^{-1}\alpha$ 的最终结果是一个数. 进而
            \[\begin{vmatrix}
                    A                   & \alpha \\
                    -\beta^{\mathrm{T}} & 1
                \end{vmatrix} = \begin{vmatrix}
                    E                        & O \\
                    \beta^{\mathrm{T}}A^{-1} & 1
                \end{vmatrix} \begin{vmatrix}
                    A                   & \alpha \\
                    -\beta^{\mathrm{T}} & 1
                \end{vmatrix} = \begin{vmatrix}
                    A & \alpha                           \\
                    O & 1+\beta^{\mathrm{T}}A^{-1}\alpha
                \end{vmatrix} = \lvert A \rvert(1+\beta^{\mathrm{T}}A^{-1}\alpha).\]
            所以有
            \[\lvert A+\alpha \beta^{\mathrm{T}} \rvert = \lvert A \rvert(1+\beta^{\mathrm{T}}A^{-1}\alpha).\]
        \end{answer}

        \item 设$A,B$均为$n$阶方阵，证明：
        \[\begin{vmatrix}
                A & B \\ B & A
            \end{vmatrix} = |A+B||A-B|.\]
        \begin{answer}
            依旧是对分块矩阵做初等分块变换. 考虑到
            \begin{align*}
                \left(\begin{pmatrix}
                            E & E \\
                            O & E
                        \end{pmatrix}
                \begin{pmatrix}
                    A & B \\
                    B & A
                \end{pmatrix} \right)
                \begin{pmatrix}
                    E & -E \\
                    O & E
                \end{pmatrix}
                & = \begin{pmatrix}
                        A+B & A+B \\
                        B   & A
                    \end{pmatrix}
                \begin{pmatrix}
                    E & -E \\
                    O & E
                \end{pmatrix}      \\
                & = \begin{pmatrix}
                        A+B & O   \\
                        B   & A-B
                    \end{pmatrix},
            \end{align*}
            所以有 \begin{align*}
                \begin{vmatrix}
                    A & B \\
                    B & A
                \end{vmatrix}
                & = \begin{vmatrix}
                        E & E \\
                        O & E
                    \end{vmatrix}
                \begin{vmatrix}
                    A & B \\
                    B & A
                \end{vmatrix}
                \begin{vmatrix}
                    E & -E \\
                    O & E
                \end{vmatrix}
                = \begin{vmatrix}
                        A+B & O   \\
                        B   & A-B
                    \end{vmatrix}    \\
                & =
                \lvert (A+B)(A-B) \rvert = \lvert A+B \rvert \lvert A-B \rvert
            \end{align*}
        \end{answer}

        \item 设$A,B,C,D$均为$n$阶方阵，且$r\begin{pmatrix}
                A & B \\ C & D
            \end{pmatrix}=n$，证明：
        \[\begin{vmatrix}
                |A| & |B| \\ |C| & |D|
            \end{vmatrix} = 0.\]
        \begin{answer}
            首先有 $\begin{vmatrix}
                \lvert A \rvert & \lvert B \rvert \\
                \lvert C \rvert & \lvert D \rvert
            \end{vmatrix} = \lvert A \rvert \lvert D \rvert-\lvert B \rvert \lvert C \rvert$.
            \begin{enumerate}
                \item 若 $\lvert A \rvert \neq 0$，即 $A$ 可逆. 因为矩阵的初等变换不改变矩阵的秩，所以由
                    \[\begin{pmatrix}
                            E        & O \\
                            -CA^{-1} & E
                        \end{pmatrix} \begin{pmatrix}
                            A & B \\
                            C & D
                        \end{pmatrix} \begin{pmatrix}
                            E & -A^{-1}B \\
                            O & E        \\
                        \end{pmatrix} = \begin{pmatrix}
                            A & O          \\
                            O & D-CA^{-1}B
                        \end{pmatrix},\]
                    条件 $r\left(\begin{pmatrix}
                                A & B \\
                                C & D
                            \end{pmatrix}\right) = n$ 以及 $A$ 可逆，可以得到
                    \[D-CA^{-1}B = O.\]
                    即若 $A$ 可逆，则 $D = CA^{-1}B$，并且
                    \[\begin{vmatrix}
                            \lvert A \rvert & \lvert B \rvert \\
                            \lvert C \rvert & \lvert D \rvert
                        \end{vmatrix} = \lvert A \rvert \lvert CA^{-1}B \rvert-\lvert B \rvert \lvert C \rvert = \lvert A \rvert \lvert C \rvert \lvert A^{-1} \rvert \lvert B \rvert-\lvert B \rvert \lvert C \rvert = 0.\]

                \item 若 $\lvert A \rvert = 0$，只需证 $\lvert B \rvert \lvert C \rvert = 0$. 若 $\lvert B \rvert \neq 0$，则由
                    \[\begin{pmatrix}
                            E        & O \\
                            -DB^{-1} & E
                        \end{pmatrix} \begin{pmatrix}
                            A & B \\
                            C & D
                        \end{pmatrix} \begin{pmatrix}
                            E        & O \\
                            -B^{-1}A & E
                        \end{pmatrix} = \begin{pmatrix}
                            O          & B \\
                            C-DB^{-1}A & O
                        \end{pmatrix},\]
                    有 $C-DB^{-1}A = O$. 注意到 $\lvert A \rvert = 0$，故 \[\lvert C \rvert = \lvert DB^{-1}A \rvert = \lvert D \rvert \lvert B^{-1} \rvert \lvert A \rvert = 0.\] 同理可证若 $\lvert C \rvert \neq 0$，则 $\lvert B \rvert = 0$.
            \end{enumerate}
            综上，结论成立.
        \end{answer}

        \item 设$A$为$n$阶实对称矩阵（$n>1$），$|A|=0$，证明：$A_{ii}A_{jj}=(A_{ij})^2(i,j=1,\ldots,n)$.
        \begin{answer}
            由 $|A| = 0$ 可知 $r(A) < n$. 利用结论
            \[
                r(A^*)=\begin{cases}
                    n & r(A)=n     \\
                    1 & r(A)=n-1   \\
                    0 & r(A) < n-1
                \end{cases}
            \]
            可知 $r(A^*) \leqslant 1$.

            若 $r(A^*) = 0$，则 $A^* = O$，故 $A_{ii} = A_{jj} = A_{ij} = 0$，自然有 $A_{ii}A_{jj}=(A_{ij})^2$；

            若 $r(A^*) = 1$，则 $A^*$ 的任意两个列向量线性相关，可得 $A_{ii}A_{jj} = A_{ij}A_{ji}$. 又由 $A$ 是实对称矩阵，有 $A_{ij} = A_{ji}$，因此 $A_{ii}A_{jj} = (A_{ij})^2$.

        \end{answer}

        \item 求$\begin{pmatrix}
                A & C \\ O & B
            \end{pmatrix}^*$，并求当$A$可逆时的$\begin{pmatrix}
                A & B \\ C & D
            \end{pmatrix}^*$.
        \begin{answer}
            \begin{enumerate}
                \item 设 $\begin{pmatrix}
                              A & C \\
                              O & B
                          \end{pmatrix}$ 的伴随矩阵为 $\begin{pmatrix}
                              X & Y \\
                              Z & W
                          \end{pmatrix}$. 而 $\begin{vmatrix}
                              A & C \\
                              O & B
                          \end{vmatrix} = \lvert A\rvert \lvert B \rvert$，所以有
                      \[\begin{pmatrix}
                              A & C \\
                              O & B
                          \end{pmatrix} \begin{pmatrix}
                              X & Y \\
                              Z & W
                          \end{pmatrix} = \lvert A\rvert \lvert B \rvert \begin{pmatrix}
                              E & O \\
                              O & E
                          \end{pmatrix}.\]
                      得到方程组
                      \[\begin{cases}
                              AX+CZ = \lvert A \rvert \lvert B \rvert E \\
                              AY+CW = O                                 \\
                              BZ    = O                                 \\
                              BW    = \lvert A \rvert \lvert B \rvert E
                          \end{cases}.\]
                      考虑一般情况，我们不再单独讨论 $B$ 是否等于 $O$. 所以 $Z = O$, $X = \lvert B \rvert A^*$, $W = \lvert A \rvert B^*$, $Y = -A^*CB^*$. 即 \[\begin{pmatrix}
                              A & C \\
                              O & B
                          \end{pmatrix}^* = \begin{pmatrix}
                              \lvert B \rvert A^* & -A^*CB^*            \\
                              O                   & \lvert A \rvert B^*
                          \end{pmatrix}.\]

                \item 若 $A$ 可逆，则可以通过以下的初等分块变换将其化为上三角块矩阵.
                      \[\begin{pmatrix}
                              E        & O \\
                              -CA^{-1} & E
                          \end{pmatrix} \begin{pmatrix}
                              A & B \\
                              C & D
                          \end{pmatrix} = \begin{pmatrix}
                              A & B          \\
                              O & D-CA^{-1}B
                          \end{pmatrix}.\]
                      两侧取伴随有
                      \begin{align*}
                              & \left(\begin{pmatrix}
                                              E        & O \\
                                              -CA^{-1} & E
                                          \end{pmatrix}
                          \begin{pmatrix}
                                  A & B \\
                                  C & D
                              \end{pmatrix}\right)^*
                          = \begin{pmatrix}
                                A & B \\
                                C & D
                            \end{pmatrix}^*
                          \begin{pmatrix}
                              E        & O \\
                              -CA^{-1} & E
                          \end{pmatrix}^*            \\
                          ={} & \begin{pmatrix}
                                    A & B          \\
                                    O & D-CA^{-1}B
                                \end{pmatrix}^*
                          = \begin{pmatrix}
                                \lvert D-CA^{-1}B \rvert A^* & -A^*B(D-CA^{-1}B)^*            \\
                                O                            & \lvert A \rvert (D-CA^{-1}B)^*
                            \end{pmatrix}
                      \end{align*},
                      而
                      \[\begin{pmatrix}
                              E        & O \\
                              -CA^{-1} & E
                          \end{pmatrix}^* \begin{pmatrix}
                              E        & O \\
                              -CA^{-1} & E
                          \end{pmatrix} = \begin{vmatrix}
                              E        & O \\
                              -CA^{-1} & E
                          \end{vmatrix} \begin{pmatrix}
                              E & O \\
                              O & E
                          \end{pmatrix} = \begin{pmatrix}
                              E & O \\
                              O & E
                          \end{pmatrix},\]
                      所以
                      \begin{align*}
                              & \begin{pmatrix}
                                    A & B \\
                                    C & D
                                \end{pmatrix}^*                                                                         \\
                          ={} & \begin{pmatrix}
                                    \lvert D-CA^{-1}B \rvert A^* & -A^*B(D-CA^{-1}B)^*            \\
                                    O                            & \lvert A \rvert (D-CA^{-1}B)^*
                                \end{pmatrix}
                          \begin{pmatrix}
                              E        & O \\
                              -CA^{-1} & E
                          \end{pmatrix}                                                                                \\
                          ={} & \begin{pmatrix}
                                    \lvert D-CA^{-1}B \rvert A^*+A^*B(D-CA^{-1}B)^*CA^{-1} & -A^*B(D-CA^{-1}B)^*            \\
                                    -\lvert A \rvert (D-CA^{-1}B)^*CA^{-1}                 & \lvert A \rvert (D-CA^{-1}B)^*
                                \end{pmatrix}. &
                      \end{align*}
            \end{enumerate}
        \end{answer}

        \item 下面三个小问探讨伴随矩阵的反问题，即对任意给定的$n$阶方阵$B$，是否存在$n$阶方阵$A$使得$A^*=B$.
        \begin{enumerate}
            \item 证明：若$n=2$，则存在唯一的2阶方阵$A$使得$A^*=B$；

            \item 证明：若$n > 2$，则存在$n$阶方阵$A$使得$A^*=B$的充要条件为$r(B) \in \{0,1,n\}$，并且
                  \begin{enumerate}
                      \item $r(B)=n$时，$A=\sqrt[n-1]{|B|}B^{-1}$；

                      \item $r(B)=1$时，$A=Q^{-1}\begin{pmatrix}
                                    0 & O \\ O & X_{n-1}
                                \end{pmatrix}P^{-1}$，且$|X_{n-1}|=|PQ|$，$B=P\begin{pmatrix}
                                    1 & O \\ O & O
                                \end{pmatrix}Q$；
                  \end{enumerate}

            \item 设$A=\begin{pmatrix}
                          1 & 1 & 1 \\ 1 & 1 & 1 \\ 1 & 1 & 1
                      \end{pmatrix}$，求矩阵$B$使得$B^*=A$.
        \end{enumerate}
        \begin{answer}
            \begin{enumerate}
                \item 因为 $n=2$ 时 $(A^*)^* = A$，所以 $B = (B^*)^* = A^*$，而 $B$ 的伴随矩阵是唯一的，所以存在唯一的2阶方阵 $A = B^*$ 使得 $A^* = B$.

                \item $(\impliedby)$ 由 {例13.9(6)} 可得. % FIXME: xref

                      $(\implies)$ \begin{enumerate}
                          \item $r(B) = n$ 时，若存在 $A$ 使得 $A^* = B$，则由 $(A^*)^* = \lvert A \rvert^{n-2}A$，有
                                \[A = \dfrac{1}{\lvert A \rvert^{n-2}}(A^*)^* = \dfrac{1}{\lvert A \rvert^{n-2}}B^* = \dfrac{1}{\lvert A \rvert^{n-2}}\lvert B \rvert B^{-1},\]
                                而
                                \[\lvert B \rvert = \lvert A^* \rvert = \lvert A \rvert^{n-1},\]
                                代入上式可得
                                \[A = \lvert A \rvert B^{-1} = \sqrt[n-1]{\lvert B \rvert} B^{-1}.\]
                                从而满足 $A^* = B$ 的矩阵 $A$ 存在，且有 $n-1$ 个.

                          \item $r(B) = 1$ 时，存在可逆矩阵 $P, Q$ 使得
                                \[B = P\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix}Q.\]
                                若存在 $A$ 满足 $A^{*} = B$，则 $r(A) = n-1$，从而存在可逆矩阵 $G, H$ 使得
                                \[A = G\begin{pmatrix}
                                        0 & O       \\
                                        O & E_{n-1}
                                    \end{pmatrix}H,\]
                                则
                                \[A^* = H^*\begin{pmatrix}
                                        0 & O       \\
                                        O & E_{n-1}
                                    \end{pmatrix}^*G^* = H^*\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix}G^* = \lvert HG \rvert H^{-1}\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix}G^{-1},\]
                                由 $A^* = B$ 可得
                                \[\lvert HG \rvert H^{-1}\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix}G^{-1} = P\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix}Q,\]
                                即
                                \[\lvert HG \rvert\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix} = HP\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix}QG,\]
                                记 $C = HP$, $D = QG$，且分块为 $C = \begin{pmatrix}
                                        C_{11} & C_{12} \\
                                        C_{21} & C_{22}
                                    \end{pmatrix}$, $D = \begin{pmatrix}
                                        D_{11} & D_{12} \\
                                        D_{21} & D_{22}
                                    \end{pmatrix}$，其中 $C_{22}, D_{22}$ 是 $n-1$ 阶矩阵，则
                                \[\lvert HG \rvert\begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix} = \begin{pmatrix}
                                        C_{11} & C_{12} \\
                                        C_{21} & C_{22}
                                    \end{pmatrix} \begin{pmatrix}
                                        1 & O \\
                                        O & O \\
                                    \end{pmatrix} \begin{pmatrix}
                                        D_{11} & D_{12} \\
                                        D_{21} & D_{22}
                                    \end{pmatrix} = \begin{pmatrix}
                                        C_{11}D_{11} & C_{11}D_{12} \\
                                        C_{21}D_{11} & C_{21}D_{12}
                                    \end{pmatrix},\]
                                于是
                                \[\lvert HG \rvert = C_{11}D_{11}, C_{11}D_{12} = O, C_{21}D_{11} = O, C_{21}D_{12} = O.\]
                                因为 $H, G$ 可逆，所以 $C_{11} \neq 0, D_{11} \neq 0$，于是 $C_{21} = O = D_{12}$. 从而
                                \begin{align*}
                                    A & = G\begin{pmatrix}
                                               0 & O       \\
                                               O & E_{n-1}
                                           \end{pmatrix}H
                                    = Q^{-1}D\begin{pmatrix}
                                                 0 & O       \\
                                                 O & E_{n-1}
                                             \end{pmatrix}CP^{-1}      \\
                                      & = Q^{-1}\begin{pmatrix}
                                                    D_{11} & O      \\
                                                    D_{21} & D_{22}
                                                \end{pmatrix}
                                    \begin{pmatrix}
                                        0 & O       \\
                                        O & E_{n-1}
                                    \end{pmatrix}
                                    \begin{pmatrix}
                                        C_{11} & C_{12} \\
                                        O      & C_{22}
                                    \end{pmatrix} P^{-1}               \\
                                      & = Q^{-1} \begin{pmatrix}
                                                     0 & O            \\
                                                     O & D_{22}C_{22}
                                                 \end{pmatrix} P^{-1}.
                                \end{align*}
                                又
                                \[C_{11}D_{11} = \lvert HG \rvert = \lvert CP^{-1}Q^{-1}D \rvert = \dfrac{1}{\lvert PQ \rvert}\lvert DC \rvert.\]
                                接下来转为求 $\lvert DC \rvert$. 而
                                \[DC = \begin{pmatrix}
                                        D_{11} & O      \\
                                        D_{21} & D_{22}
                                    \end{pmatrix} \begin{pmatrix}
                                        C_{11} & C_{12} \\
                                        O      & C_{22}
                                    \end{pmatrix} = \begin{pmatrix}
                                        D_{11}C_{11} & D_{11}C_{12}              \\
                                        D_{21}C_{11} & D_{21}C_{12}+D_{22}C_{22}
                                    \end{pmatrix}.\]
                                考虑初等分块变换
                                \begin{align*}
                                    \begin{pmatrix}
                                        1                  & O       \\
                                        -D_{21}D_{11}^{-1} & E_{n-1}
                                    \end{pmatrix}DC
                                     & = \begin{pmatrix}
                                             1                  & O       \\
                                             -D_{21}D_{11}^{-1} & E_{n-1}
                                         \end{pmatrix}
                                    \begin{pmatrix}
                                        D_{11}C_{11} & D_{11}C_{12}              \\
                                        D_{21}C_{11} & D_{21}C_{12}+D_{22}C_{22}
                                    \end{pmatrix} \\
                                     & = \begin{pmatrix}
                                             D_{11}C_{11} & D_{11}C_{12} \\
                                             O            & D_{22}C_{22}
                                         \end{pmatrix},
                                \end{align*}
                                故
                                \[C_{11}D_{11} = \dfrac{1}{\lvert PQ \rvert}\lvert DC \rvert = \dfrac{1}{\lvert PQ \rvert}D_{11}C_{11} \lvert D_{22}C_{22} \rvert,\]
                                从而
                                \[\dfrac{1}{\lvert PQ \rvert} \lvert D_{22}C_{22} \rvert = 1,\]
                                即
                                \[\lvert D_{22}C_{22} \rvert = \lvert PQ \rvert.\]
                                命题得证.

                          \item $r(B) = 0$ 则是平凡情况，其是所有 $r \leqslant n-2$ 矩阵的伴随矩阵.
                      \end{enumerate}

                \item 由 $r(B^*) = r(A) = 1$ 可知 $r(B) = 2$. $B^*B = \lvert B \rvert E = 0$，由此可知 $B$ 的列向量为方程组 $B^*X = 0$ 的解，其基础解系为
                      \[\alpha_1 = (-1, 1, 0)^{\mathrm{T}}, \alpha_2 = (-1, 0, 1)^{\mathrm{T}}.\]
                      令 $B = (\alpha_1, \alpha_2, \alpha_3)$，其中 $\alpha_3 = k_1\alpha_1+k_2\alpha_2 = (k_1+k_2, -k_1, -k_2)^{\mathrm{T}}$. 由 $BB^* = 0$ 解得 $k_1 = k_2 = 1$，从而
                      \[B = \begin{pmatrix}
                              -1 & -1 & 2  \\
                              1  & 0  & -1 \\
                              0  & 1  & -1
                          \end{pmatrix}.\]
            \end{enumerate}
        \end{answer}

        \item 证明$\begin{vmatrix}
                a      & c      & c      & \cdots & c      \\
                b      & a      & c      & \cdots & c      \\
                b      & b      & a      & \cdots & c      \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                b      & b      & b      & \cdots & a
            \end{vmatrix}=\dfrac{b(a-c)^{n}-c(a-b)^{n}}{b-c}$，其中 $b \neq c$, 等式左端是 $n$ 阶行列式.
        \begin{answer}
            我们将第 $i$ 行乘 $(-1)$ 加到第 $i-1$ 行（$i$ 依次取 $n, n-1, \ldots, 2$），再对第 1 列展开,
            \[D_{n}=\begin{vmatrix}
                    a-b    & c-a    & 0      & \cdots & 0      \\
                    0      & a-b    & c-a    & \cdots & 0      \\
                    \vdots & \vdots & \vdots & \ddots & \vdots \\
                    0      & 0      & 0      & \cdots & c-a    \\
                    b      & b      & b      & \cdots & a
                \end{vmatrix}=(a-b)D_{n-1}+(-1)^{n+1}b(c-a)^{n-1},\]
            有了递推式，但是递推式中有$(-1)^{n+1}$，递推比较麻烦可能还需要处理. 如果用数归证明的话应该可以直接下手了，但是有更聪明的办法：取转置，则行列式的值不变，但是 $b$ 与 $c$ 的位置交换，由此可以写出 $D_n$ 的第二个递推式：$D_n=(a-c)D_{n-1}+(-1)^{n+1}c(b-a)^{n-1}$. 两个递推式分别乘以 $a-c$ 与 $a-b$ 后相减即有
            \[
                D_n=\dfrac{b(a-c)^{n}-c(a-b)^{n}}{b-c}.
            \]
            \end{answer}

        \item 计算$n$阶行列式
        \[|A|=\begin{vmatrix}
                a_1b_1 & a_1b_2 & a_1b_3 & \cdots & a_1b_n \\
                a_2b_1 & a_2b_2 & a_2b_3 & \cdots & a_2b_n \\
                a_3b_1 & a_3b_2 & a_3b_3 & \cdots & a_3b_n \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                a_nb_1 & a_nb_2 & a_nb_3 & \cdots & a_nb_n
            \end{vmatrix}.\]
        \begin{answer}
            \begin{enumerate}
                \item $n=1$ 时，显然有 $|A|=a_1b_1$.

                \item $n \geqslant 2$ 时，
                    \[
                        A = \begin{pmatrix}
                            a_1 \\ a_2 \\ \vdots \\ a_n
                        \end{pmatrix} \begin{pmatrix}
                            b_1 & b_2 & \cdots & b_n
                        \end{pmatrix},
                    \]
                    故 $r(A) = 1 < n$，$A$ 不可逆，因此 $|A| = 0$.
            \end{enumerate}
        \end{answer}

        \item 计算$n$阶行列式
        \[|A|=\begin{vmatrix}
                1+a_1^2 & a_1a_2  & \cdots & a_1a_n  \\
                a_2a_1  & 1+a_2^2 & \cdots & a_2a_n  \\
                \vdots  & \vdots  & \ddots & \vdots  \\
                a_na_1  & a_na_2  & \cdots & 1+a_n^2
            \end{vmatrix}.\]
        \begin{answer}
            设
            \[
                D_n = \begin{vmatrix}
                    1+a_1^2 & a_1a_2  & \cdots & a_1a_n  \\
                    a_2a_1  & 1+a_2^2 & \cdots & a_2a_n  \\
                    \vdots  & \vdots  & \ddots & \vdots  \\
                    a_na_1  & a_na_2  & \cdots & 1+a_n^2
                \end{vmatrix},
            \]

            利用行列式公理化定义中的线性性，有
            \begin{align*}
                D_n &= \begin{vmatrix}
                    1+a_1^2 & a_1a_2  & \cdots & a_1a_n  \\
                    a_2a_1  & 1+a_2^2 & \cdots & a_2a_n  \\
                    \vdots  & \vdots  & \ddots & \vdots  \\
                    a_na_1  & a_na_2  & \cdots & a_n^2
                \end{vmatrix} + \begin{vmatrix}
                    1+a_1^2 & a_1a_2  & \cdots & 0       \\
                    a_2a_1  & 1+a_2^2 & \cdots & 0       \\
                    \vdots  & \vdots  & \ddots & \vdots  \\
                    a_na_1  & a_na_2  & \cdots & 1
                \end{vmatrix} \\
                &= a_n \begin{vmatrix}
                    1+a_1^2 & a_1a_2  & \cdots & a_1     \\
                    a_2a_1  & 1+a_2^2 & \cdots & a_2     \\
                    \vdots  & \vdots  & \ddots & \vdots  \\
                    a_na_1  & a_na_2  & \cdots & a_n
                \end{vmatrix} + D_{n-1} \\
                &= a_n \begin{vmatrix}
                    1      & 0      & \cdots & a_1     \\
                    0      & 1      & \cdots & a_2     \\
                    \vdots & \vdots & \ddots & \vdots  \\
                    0      & 0      & \cdots & a_n
                \end{vmatrix} \\
                &= D_{n-1} + a_n^2.
            \end{align*}
            而 $D_1 = 1 + a_1^2$, 因此
            \[
                |A| = D_n = 1 + \sum_{i=1}^n a_i^2.
            \]
        \end{answer}

        \item 计算$n$阶行列式
        \[|A|=\begin{vmatrix}
                1+x_1  & 1+x_1^2 & \cdots & 1+x_1^n \\
                1+x_2  & 1+x_2^2 & \cdots & 1+x_2^n \\
                \vdots & \vdots  & \ddots & \vdots  \\
                1+x_n  & 1+x_n^2 & \cdots & 1+x_n^n
            \end{vmatrix}.\]
        \begin{answer}
            使用硬拆法，将 $A$ 的第 $i$ 行分解为 $(1, 1, \ldots, 1) + (x_i, x_i^2, \ldots, x_i^n)$. 考虑到拆出的行列式中包含不少于两列为 $(1, 1, \ldots, 1)$ 的项均为 $0$，因此可将 $|A|$ 化简为
            \[
                \begin{vmatrix}
                    x_1    & x_1^2  & \cdots & x_1^n  \\
                    x_2    & x_2^2  & \cdots & x_2^n  \\
                    \vdots & \vdots & \ddots & \vdots \\
                    x_n    & x_n^2  & \cdots & x_n^n
                \end{vmatrix} + \sum_{j=1}^n \begin{vmatrix}
                    x_1     & x_1^2     & \cdots & x_1^n     \\
                    \vdots  & \vdots    &        & \vdots    \\
                    x_{i-1} & x_{i-1}^2 & \cdots & x_{i-1}^n \\
                    1       & 1         & \cdots & 1         \\
                    x_{i+1} & x_{i+1}^2 & \cdots & x_{i+1}^n \\
                    \vdots  & \vdots    &        & \vdots    \\
                    x_n     & x_n^2     & \cdots & x_n^n
                \end{vmatrix}.
            \]

            上式中第一项可利用 Vandermonde 行列式化简：
            \[
                \begin{vmatrix}
                    x_1    & x_1^2  & \cdots & x_1^n  \\
                    x_2    & x_2^2  & \cdots & x_2^n  \\
                    \vdots & \vdots & \ddots & \vdots \\
                    x_n    & x_n^2  & \cdots & x_n^n
                \end{vmatrix} = \prod_{i=1}^n x_i \begin{vmatrix}
                    1      & x_1    & x_1^2  & \cdots & x_1^n  \\
                    1      & x_2    & x_2^2  & \cdots & x_2^n  \\
                    \vdots & \vdots & \vdots & \ddots & \vdots \\
                    1      & x_n    & x_n^2  & \cdots & x_n^n
                \end{vmatrix} = \left(\prod_{i=1}^n x_i\right) \left(\prod_{1 \leqslant i < j \leqslant n} (x_j - x_i)\right).
            \]

            对于第二项，
            \begin{align*}
                \begin{vmatrix}
                    x_1     & x_1^2     & \cdots & x_1^n     \\
                    \vdots  & \vdots    &        & \vdots    \\
                    x_{i-1} & x_{i-1}^2 & \cdots & x_{i-1}^n \\
                    1       & 1         & \cdots & 1         \\
                    x_{i+1} & x_{i+1}^2 & \cdots & x_{i+1}^n \\
                    \vdots  & \vdots    &        & \vdots    \\
                    x_n     & x_n^2     & \cdots & x_n^n
                \end{vmatrix}
                &= \begin{vmatrix}
                    x_1     & x_1 (x_1-1)         & \cdots & x_1^{n-1} (x_1-1)         \\
                    \vdots  & \vdots              &        & \vdots                    \\
                    x_{i-1} & x_{i-1} (x_{i-1}-1) & \cdots & x_{i-1}^{n-1} (x_{i-1}-1) \\
                    1       & 0                   & \cdots & 0                         \\
                    x_{i+1} & x_{i+1} (x_{i+1}-1) & \cdots & x_{i+1}^{n-1} (x_{i+1}-1) \\
                    \vdots  & \vdots              &        & \vdots                    \\
                    x_n     & x_n (x_n-1)         & \cdots & x_n^{n-1} (x_n-1)
                \end{vmatrix} \\
                &= \begin{vmatrix}
                    x_1-1     & x_1 (x_1-1)         & \cdots & x_1^{n-1} (x_1-1)         \\
                    \vdots    & \vdots              &        & \vdots                    \\
                    x_{i-1}-1 & x_{i-1} (x_{i-1}-1) & \cdots & x_{i-1}^{n-1} (x_{i-1}-1) \\
                    1         & 0                   & \cdots & 0                         \\
                    x_{i+1}-1 & x_{i+1} (x_{i+1}-1) & \cdots & x_{i+1}^{n-1} (x_{i+1}-1) \\
                    \vdots    & \vdots              &        & \vdots                    \\
                    x_n-1     & x_n (x_n-1)         & \cdots & x_n^{n-1} (x_n-1)
                \end{vmatrix} \\
                &= (-1)^{i+1} \prod_{j \neq i} (x_j - 1) \begin{vmatrix}
                    1      & x_1     & \cdots & x_1^{n-1}     \\
                    \vdots & \vdots  &        & \vdots        \\
                    1      & x_{i-1} & \cdots & x_{i-1}^{n-1} \\
                    1      & x_{i+1} & \cdots & x_{i-1}^{n+1} \\
                    \vdots & \vdots  &        & \vdots        \\
                    1      & x_n     & \cdots & x_n^{n-1}
                \end{vmatrix} \\
                &= (-1)^{i+1} \prod_{j \neq i} \frac{x_j - 1}{x_j - x_i} \prod_{1 \leqslant k < j \leqslant n} (x_j - x_k).
            \end{align*}

            综上可得，
            \[
                |A| = \left( \prod_{i=1}^n x_i + \sum_{i=1}^n (-1)^{i+1} \prod_{j \neq i} \frac{x_j - 1}{x_j - x_i} \right) \prod_{1 \leqslant i < j \leqslant n} (x_j - x_i).
            \]

        \end{answer}

        \item 计算$n$阶行列式，其中$x,y,z$为任意实常数：
        \[|A|=\begin{vmatrix}
                x_1    & y      & y      & \cdots & y      \\
                z      & x_2    & y      & \cdots & y      \\
                z      & z      & x_3    & \cdots & y      \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                z      & z      & z      & \cdots & x_n
            \end{vmatrix}.\]
        \begin{answer}
            \begin{enumerate}
                \item 若 $y = z$，
                    则
                    \[
                        |A| = \begin{vmatrix}
                            x_1    & y      & y      & \cdots & y      \\
                            y      & x_2    & y      & \cdots & y      \\
                            y      & y      & x_3    & \cdots & y      \\
                            \vdots & \vdots & \vdots & \ddots & \vdots \\
                            y      & y      & y      & \cdots & x_n
                        \end{vmatrix}.
                    \]

                    \begin{enumerate}
                        \item 若存在 $i \neq j$，使得 $x_i = x_j = y$，则 $A$ 中有两列元素全为 $y$，因此 $|A|$ 为 $0$.

                        \item 若存在唯一 $i$，使得 $x_i = y$，则
                            \begin{align*}
                                |A| &= (-1)^{i - 1 + i - 1} \begin{vmatrix}
                                    x_i    & y      & y      & \cdots & y      \\
                                    y      & x_1    & y      & \cdots & y      \\
                                    y      & y      & x_2    & \cdots & y      \\
                                    \vdots & \vdots & \vdots & \ddots & \vdots \\
                                    y      & y      & y      & \cdots & x_n
                                \end{vmatrix} \\
                                &= \begin{vmatrix}
                                    y      & y       & y       & \cdots & y       \\
                                    0      & x_1 - y & 0       & \cdots & 0       \\
                                    0      & 0       & x_2 - y & \cdots & 0       \\
                                    \vdots & \vdots  & \vdots  & \ddots & \vdots  \\
                                    0      & 0       & 0       & \cdots & x_n - y
                                \end{vmatrix} \\
                                &= y \prod_{j \neq i} (x_j - y).
                            \end{align*}

                            \item 若不存在 $i$，使得 $x_i = y$，则
                                \begin{align*}
                                    |A| &= \begin{vmatrix}
                                        1      & y      & y      & y      & \cdots & y      \\
                                        0      & x_1    & y      & y      & \cdots & y      \\
                                        0      & y      & x_2    & y      & \cdots & y      \\
                                        0      & y      & y      & x_3    & \cdots & y      \\
                                        \vdots & \vdots & \vdots & \vdots & \ddots & \vdots \\
                                        0      & y      & y      & y      & \cdots & x_n
                                    \end{vmatrix}_{n+1} \\
                                    &= \begin{vmatrix}
                                        1      & y      & y      & y      & \cdots & y      \\
                                        -1     & x_1-y  & 0      & 0      & \cdots & 0      \\
                                        -1     & 0      & x_2-y  & 0      & \cdots & 0      \\
                                        -1     & 0      & 0      & x_3-y  & \cdots & 0      \\
                                        \vdots & \vdots & \vdots & \vdots & \ddots & \vdots \\
                                        -1     & 0      & 0      & 0      & \cdots & x_n-y
                                    \end{vmatrix}_{n+1} \\
                                    &= \begin{vmatrix}
                                        1 + \sum_{j=1}^n \frac{y}{x_j-y} & y      & y      & y      & \cdots & y      \\
                                        0                                & x_1-y  & 0      & 0      & \cdots & 0      \\
                                        0                                & 0      & x_2-y  & 0      & \cdots & 0      \\
                                        0                                & 0      & 0      & x_3-y  & \cdots & 0      \\
                                        \vdots                           & \vdots & \vdots & \vdots & \ddots & \vdots \\
                                        0                                & 0      & 0      & 0      & \cdots & x_n-y
                                    \end{vmatrix} \\
                                    &= \prod_{j=1}^n (x_j - y) + y\sum_{i=1}^n \prod_{j \neq i} (x_j - y).
                                \end{align*}
                    \end{enumerate}
                    综上，当 $y = z$ 时，
                    \[
                        |A| = \prod_{j=1}^n (x_j - y) + y\sum_{i=1}^n \prod_{j \neq i} (x_j - y).
                    \]

                \item 若 $y \neq z$，则可按照与第 10 题完全相同的方法进行处理，最后得到
                    \[
                        |A| = \frac{z \prod_{i=1}^n (x_i - y) - y \prod_{i=1}^n (x_i - z)}{z - y}.
                    \]
            \end{enumerate}
        \end{answer}
    \end{exgroup}
\end{exercise}
